import{r as x,b as bi,R as To,a as yn,d as ve,e as Xt}from"./react-e89d77a9.js";import{g as Si}from"./dep-spy-af5fdb3c.js";import{_ as Ct,j as Rt,k as xr,l as br,G as et}from"./g6-6b7dca45.js";import{p as Lo,z as wi,s as Oi,a as rn,i as Hn,l as ko,h as Ei,t as Ao,b as Fo,c as Mo,m as $o,d as Sr}from"./d3-5e7dbaf9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ci={exports:{}},xn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=x,Ho=Symbol.for("react.element"),zo=Symbol.for("react.fragment"),Bo=Object.prototype.hasOwnProperty,Wo=Uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qo={key:!0,ref:!0,__self:!0,__source:!0};function Ri(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Bo.call(e,r)&&!qo.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ho,type:t,key:o,ref:s,props:i,_owner:Wo.current}}xn.Fragment=zo;xn.jsx=Ri;xn.jsxs=Ri;Ci.exports=xn;var f=Ci.exports,zn={},wr=bi;zn.createRoot=wr.createRoot,zn.hydrateRoot=wr.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(this,arguments)}var Ee;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ee||(Ee={}));const Or="popstate";function Ko(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Ut("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qt(i)}return Go(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vo(){return Math.random().toString(36).substr(2,8)}function Er(t,e){return{usr:t.state,key:t.key,idx:e}}function Ut(t,e,n,r){return n===void 0&&(n=null),me({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ye(e):e,{state:n,key:e&&e.key||r||Vo()})}function qt(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ye(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Go(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Ee.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(me({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){l=Ee.Pop;let L=c(),$=L==null?null:L-u;u=L,a&&a({action:l,location:M.location,delta:$})}function p(L,$){l=Ee.Push;let B=Ut(M.location,L,$);n&&n(B,L),u=c()+1;let q=Er(B,u),d=M.createHref(B);try{s.pushState(q,"",d)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(d)}o&&a&&a({action:l,location:M.location,delta:1})}function T(L,$){l=Ee.Replace;let B=Ut(M.location,L,$);n&&n(B,L),u=c();let q=Er(B,u),d=M.createHref(B);s.replaceState(q,"",d),o&&a&&a({action:l,location:M.location,delta:0})}function R(L){let $=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof L=="string"?L:qt(L);return oe($,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,$)}let M={get action(){return l},get location(){return t(i,s)},listen(L){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Or,h),a=L,()=>{i.removeEventListener(Or,h),a=null}},createHref(L){return e(i,L)},createURL:R,encodeLocation(L){let $=R(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:p,replace:T,go(L){return s.go(L)}};return M}var je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(je||(je={}));const Jo=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yo(t){return t.index===!0}function Bn(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),oe(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Yo(i)){let a=me({},i,e(i),{id:l});return r[l]=a,a}else{let a=me({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Bn(i.children,e,s,r)),a}})}function vt(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ye(e):e,i=Kt(r.pathname||"/",n);if(i==null)return null;let o=ji(t);Xo(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=ss(o[l],us(i));return s}function ji(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(oe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=tt([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ji(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:is(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Pi(o.path))i(o,s,a)}),e}function Pi(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Pi(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Xo(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:os(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qo=/^:\w+$/,Zo=3,es=2,ts=1,ns=10,rs=-2,Cr=t=>t==="*";function is(t,e){let n=t.split("/"),r=n.length;return n.some(Cr)&&(r+=rs),e&&(r+=es),n.filter(i=>!Cr(i)).reduce((i,o)=>i+(Qo.test(o)?Zo:o===""?ts:ns),r)}function os(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ss(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=as({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;o.push({params:r,pathname:tt([i,c.pathname]),pathnameBase:hs(tt([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=tt([i,c.pathnameBase]))}return o}function as(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ls(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let p=l[h]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=cs(l[h]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function ls(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function us(t){try{return decodeURI(t)}catch(e){return bt(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cs(t,e){try{return decodeURIComponent(t)}catch(n){return bt(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Kt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fs(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ye(t):t;return{pathname:n?n.startsWith("/")?n:ds(n,e):e,search:ps(r),hash:gs(i)}}function ds(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ln(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bn(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ar(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ye(t):(i=me({},t),oe(!i.pathname||!i.pathname.includes("?"),Ln("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),Ln("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),Ln("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let h=e.length-1;if(s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let a=fs(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const tt=t=>t.join("/").replace(/\/\/+/g,"/"),hs=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ps=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gs=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class lr{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Di(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ii=["post","put","patch","delete"],ms=new Set(Ii),vs=["get",...Ii],ys=new Set(vs),xs=new Set([301,302,303,307,308]),bs=new Set([307,308]),kn={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ss={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ni=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function Os(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;i=F=>({hasErrorBoundary:w(F)})}else i=ws;let o={},s=Bn(t.routes,i,void 0,o),l,a=t.basename||"/",u=me({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,h=new Set,p=null,T=null,R=null,M=t.hydrationData!=null,L=vt(s,t.history.location,a),$=null;if(L==null){let w=Ae(404,{pathname:t.history.location.pathname}),{matches:F,route:H}=Tr(s);L=F,$={[H.id]:w}}let B=!L.some(w=>w.route.lazy)&&(!L.some(w=>w.route.loader)||t.hydrationData!=null),q,d={historyAction:t.history.action,location:t.history.location,matches:L,initialized:B,navigation:kn,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},j=Ee.Pop,I=!1,A,N=!1,v=!1,O=[],b=[],y=new Map,E=0,k=-1,z=new Map,J=new Set,V=new Map,P=new Map,m=new Map,D=!1;function _(){return c=t.history.listen(w=>{let{action:F,location:H,delta:Y}=w;if(D){D=!1;return}bt(m.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=ye({currentLocation:d.location,nextLocation:H,historyAction:F});if(te&&Y!=null){D=!0,t.history.go(Y*-1),ue(te,{state:"blocked",location:H,proceed(){ue(te,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(Y)},reset(){let ne=new Map(d.blockers);ne.set(te,Nt),S({blockers:ne})}});return}return Z(F,H)}),d.initialized||Z(Ee.Pop,d.location),q}function g(){c&&c(),h.clear(),A&&A.abort(),d.fetchers.forEach((w,F)=>ze(F)),d.blockers.forEach((w,F)=>Q(F))}function C(w){return h.add(w),()=>h.delete(w)}function S(w){d=me({},d,w),h.forEach(F=>F(d))}function U(w,F){var H,Y;let te=d.actionData!=null&&d.navigation.formMethod!=null&&He(d.navigation.formMethod)&&d.navigation.state==="loading"&&((H=w.state)==null?void 0:H._isRedirect)!==!0,ne;F.actionData?Object.keys(F.actionData).length>0?ne=F.actionData:ne=null:te?ne=d.actionData:ne=null;let re=F.loaderData?_r(d.loaderData,F.loaderData,F.matches||[],F.errors):d.loaderData,ee=d.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((le,Ne)=>ee.set(Ne,Nt)));let X=I===!0||d.navigation.formMethod!=null&&He(d.navigation.formMethod)&&((Y=w.state)==null?void 0:Y._isRedirect)!==!0;l&&(s=l,l=void 0),N||j===Ee.Pop||(j===Ee.Push?t.history.push(w,w.state):j===Ee.Replace&&t.history.replace(w,w.state)),S(me({},F,{actionData:ne,loaderData:re,historyAction:j,location:w,initialized:!0,navigation:kn,revalidation:"idle",restoreScrollPosition:Qe(w,F.matches||d.matches),preventScrollReset:X,blockers:ee})),j=Ee.Pop,I=!1,N=!1,v=!1,O=[],b=[]}async function W(w,F){if(typeof w=="number"){t.history.go(w);return}let H=Wn(d.location,d.matches,a,u.v7_prependBasename,w,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Y,submission:te,error:ne}=Rr(u.v7_normalizeFormMethod,!1,H,F),re=d.location,ee=Ut(d.location,Y,F&&F.state);ee=me({},ee,t.history.encodeLocation(ee));let X=F&&F.replace!=null?F.replace:void 0,le=Ee.Push;X===!0?le=Ee.Replace:X===!1||te!=null&&He(te.formMethod)&&te.formAction===d.location.pathname+d.location.search&&(le=Ee.Replace);let Ne=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,ce=ye({currentLocation:re,nextLocation:ee,historyAction:le});if(ce){ue(ce,{state:"blocked",location:ee,proceed(){ue(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),W(w,F)},reset(){let Se=new Map(d.blockers);Se.set(ce,Nt),S({blockers:Se})}});return}return await Z(le,ee,{submission:te,pendingError:ne,preventScrollReset:Ne,replace:F&&F.replace})}function K(){if(Oe(),S({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Z(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Z(j||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Z(w,F,H){A&&A.abort(),A=null,j=w,N=(H&&H.startUninterruptedRevalidation)===!0,it(d.location,d.matches),I=(H&&H.preventScrollReset)===!0;let Y=l||s,te=H&&H.overrideNavigation,ne=vt(Y,F,a);if(!ne){let Se=Ae(404,{pathname:F.pathname}),{matches:Pe,route:ot}=Tr(Y);Ce(),U(F,{matches:Pe,loaderData:{},errors:{[ot.id]:Se}});return}if(d.initialized&&!v&&Ps(d.location,F)&&!(H&&H.submission&&He(H.submission.formMethod))){U(F,{matches:ne});return}A=new AbortController;let re=Tt(t.history,F,A.signal,H&&H.submission),ee,X;if(H&&H.pendingError)X={[yt(ne).route.id]:H.pendingError};else if(H&&H.submission&&He(H.submission.formMethod)){let Se=await ie(re,F,H.submission,ne,{replace:H.replace});if(Se.shortCircuited)return;ee=Se.pendingActionData,X=Se.pendingActionError,te=Qt(F,H.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:le,loaderData:Ne,errors:ce}=await se(re,F,ne,te,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,ee,X);le||(A=null,U(F,me({matches:ne},ee?{actionData:ee}:{},{loaderData:Ne,errors:ce})))}async function ie(w,F,H,Y,te){te===void 0&&(te={}),Oe();let ne=Ts(F,H);S({navigation:ne});let re,ee=Kn(Y,F);if(!ee.route.action&&!ee.route.lazy)re={type:je.error,error:Ae(405,{method:w.method,pathname:F.pathname,routeId:ee.route.id})};else if(re=await _t("action",w,ee,Y,o,i,a),w.signal.aborted)return{shortCircuited:!0};if(xt(re)){let X;return te&&te.replace!=null?X=te.replace:X=re.location===d.location.pathname+d.location.search,await he(d,re,{submission:H,replace:X}),{shortCircuited:!0}}if($t(re)){let X=yt(Y,ee.route.id);return(te&&te.replace)!==!0&&(j=Ee.Push),{pendingActionData:{},pendingActionError:{[X.route.id]:re.error}}}if(ct(re))throw Ae(400,{type:"defer-action"});return{pendingActionData:{[ee.route.id]:re.data}}}async function se(w,F,H,Y,te,ne,re,ee,X){let le=Y||Qt(F,te),Ne=te||ne||Ar(le),ce=l||s,[Se,Pe]=jr(t.history,d,H,Ne,F,v,O,b,V,J,ce,a,ee,X);if(Ce(fe=>!(H&&H.some($e=>$e.route.id===fe))||Se&&Se.some($e=>$e.route.id===fe)),k=++E,Se.length===0&&Pe.length===0){let fe=rt();return U(F,me({matches:H,loaderData:{},errors:X||null},ee?{actionData:ee}:{},fe?{fetchers:new Map(d.fetchers)}:{})),{shortCircuited:!0}}if(!N){Pe.forEach($e=>{let Ze=d.fetchers.get($e.key),Tn=Lt(void 0,Ze?Ze.data:void 0);d.fetchers.set($e.key,Tn)});let fe=ee||d.actionData;S(me({navigation:le},fe?Object.keys(fe).length===0?{actionData:null}:{actionData:fe}:{},Pe.length>0?{fetchers:new Map(d.fetchers)}:{}))}Pe.forEach(fe=>{y.has(fe.key)&&Ie(fe.key),fe.controller&&y.set(fe.key,fe.controller)});let ot=()=>Pe.forEach(fe=>Ie(fe.key));A&&A.signal.addEventListener("abort",ot);let{results:st,loaderResults:Dt,fetcherResults:Dn}=await Te(d.matches,H,Se,Pe,w);if(w.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",ot),Pe.forEach(fe=>y.delete(fe.key));let Ge=Lr(st);if(Ge){if(Ge.idx>=Se.length){let fe=Pe[Ge.idx-Se.length].key;J.add(fe)}return await he(d,Ge.result,{replace:re}),{shortCircuited:!0}}let{loaderData:Je,errors:Yt}=Nr(d,H,Se,Dt,X,Pe,Dn,P);P.forEach((fe,$e)=>{fe.subscribe(Ze=>{(Ze||fe.done)&&P.delete($e)})});let In=rt(),Nn=Ke(k),_n=In||Nn||Pe.length>0;return me({loaderData:Je,errors:Yt},_n?{fetchers:new Map(d.fetchers)}:{})}function de(w){return d.fetchers.get(w)||Ss}function ge(w,F,H,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");y.has(w)&&Ie(w);let te=l||s,ne=Wn(d.location,d.matches,a,u.v7_prependBasename,H,F,Y==null?void 0:Y.relative),re=vt(te,ne,a);if(!re){be(w,F,Ae(404,{pathname:ne}));return}let{path:ee,submission:X,error:le}=Rr(u.v7_normalizeFormMethod,!0,ne,Y);if(le){be(w,F,le);return}let Ne=Kn(re,ee);if(I=(Y&&Y.preventScrollReset)===!0,X&&He(X.formMethod)){we(w,F,ee,Ne,re,X);return}V.set(w,{routeId:F,path:ee}),De(w,F,ee,Ne,re,X)}async function we(w,F,H,Y,te,ne){if(Oe(),V.delete(w),!Y.route.action&&!Y.route.lazy){let Re=Ae(405,{method:ne.formMethod,pathname:H,routeId:F});be(w,F,Re);return}let re=d.fetchers.get(w),ee=Ls(ne,re);d.fetchers.set(w,ee),S({fetchers:new Map(d.fetchers)});let X=new AbortController,le=Tt(t.history,H,X.signal,ne);y.set(w,X);let Ne=E,ce=await _t("action",le,Y,te,o,i,a);if(le.signal.aborted){y.get(w)===X&&y.delete(w);return}if(xt(ce))if(y.delete(w),k>Ne){let Re=mt(void 0);d.fetchers.set(w,Re),S({fetchers:new Map(d.fetchers)});return}else{J.add(w);let Re=Lt(ne);return d.fetchers.set(w,Re),S({fetchers:new Map(d.fetchers)}),he(d,ce,{submission:ne,isFetchActionRedirect:!0})}if($t(ce)){be(w,F,ce.error);return}if(ct(ce))throw Ae(400,{type:"defer-action"});let Se=d.navigation.location||d.location,Pe=Tt(t.history,Se,X.signal),ot=l||s,st=d.navigation.state!=="idle"?vt(ot,d.navigation.location,a):d.matches;oe(st,"Didn't find any matches after fetcher action");let Dt=++E;z.set(w,Dt);let Dn=Lt(ne,ce.data);d.fetchers.set(w,Dn);let[Ge,Je]=jr(t.history,d,st,ne,Se,v,O,b,V,J,ot,a,{[Y.route.id]:ce.data},void 0);Je.filter(Re=>Re.key!==w).forEach(Re=>{let It=Re.key,yr=d.fetchers.get(It),_o=Lt(void 0,yr?yr.data:void 0);d.fetchers.set(It,_o),y.has(It)&&Ie(It),Re.controller&&y.set(It,Re.controller)}),S({fetchers:new Map(d.fetchers)});let Yt=()=>Je.forEach(Re=>Ie(Re.key));X.signal.addEventListener("abort",Yt);let{results:In,loaderResults:Nn,fetcherResults:_n}=await Te(d.matches,st,Ge,Je,Pe);if(X.signal.aborted)return;X.signal.removeEventListener("abort",Yt),z.delete(w),y.delete(w),Je.forEach(Re=>y.delete(Re.key));let fe=Lr(In);if(fe){if(fe.idx>=Ge.length){let Re=Je[fe.idx-Ge.length].key;J.add(Re)}return he(d,fe.result)}let{loaderData:$e,errors:Ze}=Nr(d,d.matches,Ge,Nn,void 0,Je,_n,P);if(d.fetchers.has(w)){let Re=mt(ce.data);d.fetchers.set(w,Re)}let Tn=Ke(Dt);d.navigation.state==="loading"&&Dt>k?(oe(j,"Expected pending action"),A&&A.abort(),U(d.navigation.location,{matches:st,loaderData:$e,errors:Ze,fetchers:new Map(d.fetchers)})):(S(me({errors:Ze,loaderData:_r(d.loaderData,$e,st,Ze)},Tn||Je.length>0?{fetchers:new Map(d.fetchers)}:{})),v=!1)}async function De(w,F,H,Y,te,ne){let re=d.fetchers.get(w),ee=Lt(ne,re?re.data:void 0);d.fetchers.set(w,ee),S({fetchers:new Map(d.fetchers)});let X=new AbortController,le=Tt(t.history,H,X.signal);y.set(w,X);let Ne=E,ce=await _t("loader",le,Y,te,o,i,a);if(ct(ce)&&(ce=await Li(ce,le.signal,!0)||ce),y.get(w)===X&&y.delete(w),le.signal.aborted)return;if(xt(ce))if(k>Ne){let Pe=mt(void 0);d.fetchers.set(w,Pe),S({fetchers:new Map(d.fetchers)});return}else{J.add(w),await he(d,ce);return}if($t(ce)){let Pe=yt(d.matches,F);d.fetchers.delete(w),S({fetchers:new Map(d.fetchers),errors:{[Pe.route.id]:ce.error}});return}oe(!ct(ce),"Unhandled fetcher deferred data");let Se=mt(ce.data);d.fetchers.set(w,Se),S({fetchers:new Map(d.fetchers)})}async function he(w,F,H){let{submission:Y,replace:te,isFetchActionRedirect:ne}=H===void 0?{}:H;F.revalidate&&(v=!0);let re=Ut(w.location,F.location,me({_isRedirect:!0},ne?{_isFetchActionRedirect:!0}:{}));if(oe(re,"Expected a location on the redirect navigation"),Ni.test(F.location)&&n){let le=t.history.createURL(F.location),Ne=Kt(le.pathname,a)==null;if(e.location.origin!==le.origin||Ne){te?e.location.replace(F.location):e.location.assign(F.location);return}}A=null;let ee=te===!0?Ee.Replace:Ee.Push,X=Y||Ar(w.navigation);if(bs.has(F.status)&&X&&He(X.formMethod))await Z(ee,re,{submission:me({},X,{formAction:F.location}),preventScrollReset:I});else if(ne)await Z(ee,re,{overrideNavigation:Qt(re),fetcherSubmission:X,preventScrollReset:I});else{let le=Qt(re,X);await Z(ee,re,{overrideNavigation:le,preventScrollReset:I})}}async function Te(w,F,H,Y,te){let ne=await Promise.all([...H.map(X=>_t("loader",te,X,F,o,i,a)),...Y.map(X=>X.matches&&X.match&&X.controller?_t("loader",Tt(t.history,X.path,X.controller.signal),X.match,X.matches,o,i,a):{type:je.error,error:Ae(404,{pathname:X.path})})]),re=ne.slice(0,H.length),ee=ne.slice(H.length);return await Promise.all([kr(w,H,re,re.map(()=>te.signal),!1,d.loaderData),kr(w,Y.map(X=>X.match),ee,Y.map(X=>X.controller?X.controller.signal:null),!0)]),{results:ne,loaderResults:re,fetcherResults:ee}}function Oe(){v=!0,O.push(...Ce()),V.forEach((w,F)=>{y.has(F)&&(b.push(F),Ie(F))})}function be(w,F,H){let Y=yt(d.matches,F);ze(w),S({errors:{[Y.route.id]:H},fetchers:new Map(d.fetchers)})}function ze(w){let F=d.fetchers.get(w);y.has(w)&&!(F&&F.state==="loading"&&z.has(w))&&Ie(w),V.delete(w),z.delete(w),J.delete(w),d.fetchers.delete(w)}function Ie(w){let F=y.get(w);oe(F,"Expected fetch controller: "+w),F.abort(),y.delete(w)}function nt(w){for(let F of w){let H=de(F),Y=mt(H.data);d.fetchers.set(F,Y)}}function rt(){let w=[],F=!1;for(let H of J){let Y=d.fetchers.get(H);oe(Y,"Expected fetcher: "+H),Y.state==="loading"&&(J.delete(H),w.push(H),F=!0)}return nt(w),F}function Ke(w){let F=[];for(let[H,Y]of z)if(Y<w){let te=d.fetchers.get(H);oe(te,"Expected fetcher: "+H),te.state==="loading"&&(Ie(H),z.delete(H),F.push(H))}return nt(F),F.length>0}function G(w,F){let H=d.blockers.get(w)||Nt;return m.get(w)!==F&&m.set(w,F),H}function Q(w){d.blockers.delete(w),m.delete(w)}function ue(w,F){let H=d.blockers.get(w)||Nt;oe(H.state==="unblocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="proceeding"||H.state==="blocked"&&F.state==="unblocked"||H.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+F.state);let Y=new Map(d.blockers);Y.set(w,F),S({blockers:Y})}function ye(w){let{currentLocation:F,nextLocation:H,historyAction:Y}=w;if(m.size===0)return;m.size>1&&bt(!1,"A router only supports one blocker at a time");let te=Array.from(m.entries()),[ne,re]=te[te.length-1],ee=d.blockers.get(ne);if(!(ee&&ee.state==="proceeding")&&re({currentLocation:F,nextLocation:H,historyAction:Y}))return ne}function Ce(w){let F=[];return P.forEach((H,Y)=>{(!w||w(Y))&&(H.cancel(),F.push(Y),P.delete(Y))}),F}function ke(w,F,H){if(p=w,R=F,T=H||null,!M&&d.navigation===kn){M=!0;let Y=Qe(d.location,d.matches);Y!=null&&S({restoreScrollPosition:Y})}return()=>{p=null,R=null,T=null}}function Me(w,F){return T&&T(w,F.map(Y=>_s(Y,d.loaderData)))||w.key}function it(w,F){if(p&&R){let H=Me(w,F);p[H]=R()}}function Qe(w,F){if(p){let H=Me(w,F),Y=p[H];if(typeof Y=="number")return Y}return null}function Ve(w){o={},l=Bn(w,i,void 0,o)}return q={get basename(){return a},get state(){return d},get routes(){return s},initialize:_,subscribe:C,enableScrollRestoration:ke,navigate:W,fetch:ge,revalidate:K,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:de,deleteFetcher:ze,dispose:g,getBlocker:G,deleteBlocker:Q,_internalFetchControllers:y,_internalActiveDeferreds:P,_internalSetRoutes:Ve},q}function Es(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Wn(t,e,n,r,i,o,s){let l,a;if(o!=null&&s!=="path"){l=[];for(let c of e)if(l.push(c),c.route.id===o){a=c;break}}else l=e,a=e[e.length-1];let u=ar(i||".",bn(l).map(c=>c.pathnameBase),Kt(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!ur(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:tt([n,u.pathname])),qt(u)}function Rr(t,e,n,r){if(!r||!Es(r))return{path:n};if(r.formMethod&&!Ns(r.formMethod))return{path:n,error:Ae(405,{method:r.formMethod})};let i=()=>({path:n,error:Ae(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Ti(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!He(s))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((T,R)=>{let[M,L]=R;return""+T+M+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!He(s))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}oe(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=qn(r.formData),u=r.formData;else if(r.body instanceof FormData)a=qn(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Ir(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Ir(a)}catch{return i()}let c={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(He(c.formMethod))return{path:n,submission:c};let h=Ye(n);return e&&h.search&&ur(h.search)&&a.append("index",""),h.search="?"+a,{path:qt(h),submission:c}}function Cs(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function jr(t,e,n,r,i,o,s,l,a,u,c,h,p,T){let R=T?Object.values(T)[0]:p?Object.values(p)[0]:void 0,M=t.createURL(e.location),L=t.createURL(i),$=T?Object.keys(T)[0]:void 0,q=Cs(n,$).filter((j,I)=>{if(j.route.lazy)return!0;if(j.route.loader==null)return!1;if(Rs(e.loaderData,e.matches[I],j)||s.some(v=>v===j.route.id))return!0;let A=e.matches[I],N=j;return Pr(j,me({currentUrl:M,currentParams:A.params,nextUrl:L,nextParams:N.params},r,{actionResult:R,defaultShouldRevalidate:o||M.pathname+M.search===L.pathname+L.search||M.search!==L.search||_i(A,N)}))}),d=[];return a.forEach((j,I)=>{if(!n.some(b=>b.route.id===j.routeId))return;let A=vt(c,j.path,h);if(!A){d.push({key:I,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(I),v=Kn(A,j.path),O=!1;u.has(I)?O=!1:l.includes(I)?O=!0:N&&N.state!=="idle"&&N.data===void 0?O=o:O=Pr(v,me({currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:n[n.length-1].params},r,{actionResult:R,defaultShouldRevalidate:o})),O&&d.push({key:I,routeId:j.routeId,path:j.path,matches:A,match:v,controller:new AbortController})}),[q,d]}function Rs(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function _i(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Pr(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Dr(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];oe(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";bt(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!Jo.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,me({},e(i),{lazy:void 0}))}async function _t(t,e,n,r,i,o,s,l){l===void 0&&(l={});let a,u,c,h=R=>{let M,L=new Promise(($,B)=>M=B);return c=()=>M(),e.signal.addEventListener("abort",c),Promise.race([R({request:e,params:n.params,context:l.requestContext}),L])};try{let R=n.route[t];if(n.route.lazy)if(R)u=(await Promise.all([h(R),Dr(n.route,o,i)]))[0];else if(await Dr(n.route,o,i),R=n.route[t],R)u=await h(R);else if(t==="action"){let M=new URL(e.url),L=M.pathname+M.search;throw Ae(405,{method:e.method,pathname:L,routeId:n.route.id})}else return{type:je.data,data:void 0};else if(R)u=await h(R);else{let M=new URL(e.url),L=M.pathname+M.search;throw Ae(404,{pathname:L})}oe(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(R){a=je.error,u=R}finally{c&&e.signal.removeEventListener("abort",c)}if(Is(u)){let R=u.status;if(xs.has(R)){let $=u.headers.get("Location");if(oe($,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ni.test($))$=Wn(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,$);else if(!l.isStaticRequest){let B=new URL(e.url),q=$.startsWith("//")?new URL(B.protocol+$):new URL($),d=Kt(q.pathname,s)!=null;q.origin===B.origin&&d&&($=q.pathname+q.search+q.hash)}if(l.isStaticRequest)throw u.headers.set("Location",$),u;return{type:je.redirect,status:R,location:$,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(l.isRouteRequest)throw{type:a||je.data,response:u};let M,L=u.headers.get("Content-Type");return L&&/\bapplication\/json\b/.test(L)?M=await u.json():M=await u.text(),a===je.error?{type:a,error:new lr(R,u.statusText,M),headers:u.headers}:{type:je.data,data:M,statusCode:u.status,headers:u.headers}}if(a===je.error)return{type:a,error:u};if(Ds(u)){var p,T;return{type:je.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((T=u.init)==null?void 0:T.headers)&&new Headers(u.init.headers)}}return{type:je.data,data:u}}function Tt(t,e,n,r){let i=t.createURL(Ti(e)).toString(),o={signal:n};if(r&&He(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=qn(r.formData):o.body=r.formData}return new Request(i,o)}function qn(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ir(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function js(t,e,n,r,i){let o={},s=null,l,a=!1,u={};return n.forEach((c,h)=>{let p=e[h].route.id;if(oe(!xt(c),"Cannot handle redirect results in processLoaderData"),$t(c)){let T=yt(t,p),R=c.error;r&&(R=Object.values(r)[0],r=void 0),s=s||{},s[T.route.id]==null&&(s[T.route.id]=R),o[p]=void 0,a||(a=!0,l=Di(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else ct(c)?(i.set(p,c.deferredData),o[p]=c.deferredData.data):o[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function Nr(t,e,n,r,i,o,s,l){let{loaderData:a,errors:u}=js(e,n,r,i,l);for(let c=0;c<o.length;c++){let{key:h,match:p,controller:T}=o[c];oe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let R=s[c];if(!(T&&T.signal.aborted))if($t(R)){let M=yt(t.matches,p==null?void 0:p.route.id);u&&u[M.route.id]||(u=me({},u,{[M.route.id]:R.error})),t.fetchers.delete(h)}else if(xt(R))oe(!1,"Unhandled fetcher revalidation redirect");else if(ct(R))oe(!1,"Unhandled fetcher deferred data");else{let M=mt(R.data);t.fetchers.set(h,M)}}return{loaderData:a,errors:u}}function _r(t,e,n,r){let i=me({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function yt(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tr(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ae(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new lr(t||500,s,new Error(l),!0)}function Lr(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(xt(n))return{result:n,idx:e}}}function Ti(t){let e=typeof t=="string"?Ye(t):t;return qt(me({},e,{hash:""}))}function Ps(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ct(t){return t.type===je.deferred}function $t(t){return t.type===je.error}function xt(t){return(t&&t.type)===je.redirect}function Ds(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Is(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Ns(t){return ys.has(t.toLowerCase())}function He(t){return ms.has(t.toLowerCase())}async function kr(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=e[s];if(!a)continue;let u=t.find(h=>h.route.id===a.route.id),c=u!=null&&!_i(u,a)&&(o&&o[a.route.id])!==void 0;if(ct(l)&&(i||c)){let h=r[s];oe(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Li(l,h,i).then(p=>{p&&(n[s]=p||n[s])})}}}async function Li(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:je.data,data:t.deferredData.unwrappedData}}catch(i){return{type:je.error,error:i}}return{type:je.data,data:t.deferredData.data}}}function ur(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function _s(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Kn(t,e){let n=typeof e=="string"?Ye(e).search:e.search;if(t[t.length-1].route.index&&ur(n||""))return t[t.length-1];let r=bn(t);return r[r.length-1]}function Ar(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Qt(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ts(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Lt(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function Ls(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function mt(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function on(){return on=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},on.apply(this,arguments)}const Sn=x.createContext(null),ki=x.createContext(null),wn=x.createContext(null),On=x.createContext(null),ft=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Ai=x.createContext(null);function Vt(){return x.useContext(On)!=null}function En(){return Vt()||oe(!1),x.useContext(On).location}function Fi(t){x.useContext(wn).static||x.useLayoutEffect(t)}function dt(){let{isDataRoute:t}=x.useContext(ft);return t?Ks():ks()}function ks(){Vt()||oe(!1);let t=x.useContext(Sn),{basename:e,navigator:n}=x.useContext(wn),{matches:r}=x.useContext(ft),{pathname:i}=En(),o=JSON.stringify(bn(r).map(a=>a.pathnameBase)),s=x.useRef(!1);return Fi(()=>{s.current=!0}),x.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let c=ar(a,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:tt([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}function As(t,e,n){Vt()||oe(!1);let{navigator:r}=x.useContext(wn),{matches:i}=x.useContext(ft),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=En(),u;if(e){var c;let M=typeof e=="string"?Ye(e):e;l==="/"||(c=M.pathname)!=null&&c.startsWith(l)||oe(!1),u=M}else u=a;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",T=vt(t,{pathname:p}),R=Hs(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},s,M.params),pathname:tt([l,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?l:tt([l,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),i,n);return e&&R?x.createElement(On.Provider,{value:{location:on({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ee.Pop}},R):R}function Fs(){let t=qs(),e=Di(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}const Ms=x.createElement(Fs,null);class $s extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(ft.Provider,{value:this.props.routeContext},x.createElement(Ai.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Us(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Sn);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ft.Provider,{value:e},r)}function Hs(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||oe(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,u)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,h=null;n&&(h=a.route.errorElement||Ms);let p=e.concat(o.slice(0,u+1)),T=()=>{let R;return c?R=h:a.route.Component?R=x.createElement(a.route.Component,null):a.route.element?R=a.route.element:R=l,x.createElement(Us,{match:a,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:R})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?x.createElement($s,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:T(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):T()},null)}var Vn;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Vn||(Vn={}));var Ht;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ht||(Ht={}));function zs(t){let e=x.useContext(Sn);return e||oe(!1),e}function Bs(t){let e=x.useContext(ki);return e||oe(!1),e}function Ws(t){let e=x.useContext(ft);return e||oe(!1),e}function Mi(t){let e=Ws(),n=e.matches[e.matches.length-1];return n.route.id||oe(!1),n.route.id}function qs(){var t;let e=x.useContext(Ai),n=Bs(Ht.UseRouteError),r=Mi(Ht.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Ks(){let{router:t}=zs(Vn.UseNavigateStable),e=Mi(Ht.UseNavigateStable),n=x.useRef(!1);return Fi(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,on({fromRouteId:e},o)))},[t,e])}const Vs="startTransition",Fr=To[Vs];function Gs(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=x.useState(n.state),{v7_startTransition:s}=r||{},l=x.useCallback(h=>{s&&Fr?Fr(()=>o(h)):o(h)},[o,s]);x.useLayoutEffect(()=>n.subscribe(l),[n,l]);let a=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:h=>n.navigate(h),push:(h,p,T)=>n.navigate(h,{state:p,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(h,p,T)=>n.navigate(h,{replace:!0,state:p,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),u=n.basename||"/",c=x.useMemo(()=>({router:n,navigator:a,static:!1,basename:u}),[n,a,u]);return x.createElement(x.Fragment,null,x.createElement(Sn.Provider,{value:c},x.createElement(ki.Provider,{value:i},x.createElement(Xs,{basename:u,location:i.location,navigationType:i.historyAction,navigator:a},i.initialized?x.createElement(Js,{routes:n.routes,state:i}):e))),null)}function Js(t){let{routes:e,state:n}=t;return As(e,void 0,n)}function Ys(t){let{to:e,replace:n,state:r,relative:i}=t;Vt()||oe(!1);let{matches:o}=x.useContext(ft),{pathname:s}=En(),l=dt(),a=ar(e,bn(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(a);return x.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:i}),[l,u,i,n,r]),null}function Xs(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ee.Pop,navigator:o,static:s=!1}=t;Vt()&&oe(!1);let l=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=Ye(r));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:T="default"}=r,R=x.useMemo(()=>{let M=Kt(u,l);return M==null?null:{location:{pathname:M,search:c,hash:h,state:p,key:T},navigationType:i}},[l,u,c,h,p,T,i]);return R==null?null:x.createElement(wn.Provider,{value:a},x.createElement(On.Provider,{children:n,value:R}))}var Mr;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Mr||(Mr={}));new Promise(()=>{});function Qs(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function Gn(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Zs(t,e){let n=Gn(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}function ea(t,e){return Os({basename:e==null?void 0:e.basename,future:sn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ko({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ta(),routes:t,mapRouteProperties:Qs}).initialize()}function ta(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=sn({},e,{errors:na(e.errors)})),e}function na(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new lr(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var $r;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})($r||($r={}));var Ur;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ur||(Ur={}));function ra(t){let e=x.useRef(Gn(t)),n=x.useRef(!1),r=En(),i=x.useMemo(()=>Zs(r.search,n.current?null:e.current),[r.search]),o=dt(),s=x.useCallback((l,a)=>{const u=Gn(typeof l=="function"?l(i):l);n.current=!0,o("?"+u,a)},[o,i]);return[i,s]}var $i={},Ui={exports:{}},ia="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oa=ia,sa=oa;function Hi(){}function zi(){}zi.resetWarningCache=Hi;var aa=function(){function t(r,i,o,s,l,a){if(a!==sa){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zi,resetWarningCache:Hi};return n.PropTypes=n,n};Ui.exports=aa();var jt=Ui.exports;const pe=yn(jt);function la(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var ua=la,Bi={},Hr=function(){function t(e,n){var r=[],i=!0,o=!1,s=void 0;try{for(var l=e[Symbol.iterator](),a;!(i=(a=l.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ca=function(t){var e=t.data,n=t.multiSection;function r(a){for(a===null?a=0:a++;a<e.length&&e[a]===0;)a++;return a===e.length?null:a}function i(a){for(a===null?a=e.length-1:a--;a>=0&&e[a]===0;)a--;return a===-1?null:a}function o(a){var u=Hr(a,2),c=u[0],h=u[1];return n?h===null||h===e[c]-1?(c=r(c),c===null?[null,null]:[c,0]):[c,h+1]:e===0||h===e-1?[null,null]:h===null?[null,0]:[null,h+1]}function s(a){var u=Hr(a,2),c=u[0],h=u[1];return n?h===null||h===0?(c=i(c),c===null?[null,null]:[c,e[c]-1]):[c,h-1]:e===0||h===0?[null,null]:h===null?[null,e-1]:[null,h-1]}function l(a){return o(a)[1]===null}return{next:o,prev:s,isLast:l}},Jn={exports:{}},fa=Object.prototype.propertyIsEnumerable;function da(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function ha(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter(function(n){return fa.call(t,n)})}var pa=Object.assign||function(t,e){for(var n,r,i=da(t),o=1;o<arguments.length;o++){n=arguments[o],r=ha(Object(n));for(var s=0;s<r.length;s++)i[r[s]]=n[r[s]]}return i};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function a(u,c){var h=[],p=!0,T=!1,R=void 0;try{for(var M=u[Symbol.iterator](),L;!(p=(L=M.next()).done)&&(h.push(L.value),!(c&&h.length===c));p=!0);}catch($){T=!0,R=$}finally{try{!p&&M.return&&M.return()}finally{if(T)throw R}}return h}return function(u,c){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return a(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function r(a){return a&&a.__esModule?a:{default:a}}function i(a){if(Array.isArray(a)){for(var u=0,c=Array(a.length);u<a.length;u++)c[u]=a[u];return c}else return Array.from(a)}var o=pa,s=r(o),l=function(u){return u};e.default=function(a){var u=Array.isArray(a)&&a.length===2?a:[a,null],c=n(u,2),h=c[0],p=c[1];return function(T){for(var R=arguments.length,M=Array(R>1?R-1:0),L=1;L<R;L++)M[L-1]=arguments[L];var $=M.map(function(B){return h[B]}).filter(l);return typeof $[0]=="string"||typeof p=="function"?{key:T,className:p?p.apply(void 0,i($)):$.join(" ")}:{key:T,style:s.default.apply(void 0,[{}].concat(i($)))}}},t.exports=e.default})(Jn,Jn.exports);var ga=Jn.exports,Wi={},Cn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function e(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(o){return typeof o}:e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(r)}function n(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r===i)return!1;var s=Object.keys(r),l=Object.keys(i);if(s.length!==l.length)return!0;var a={},u,c;for(u=0,c=o.length;u<c;u++)a[o[u]]=!0;for(u=0,c=s.length;u<c;u++){var h=s[u],p=r[h],T=i[h];if(p!==T){if(!a[h]||p===null||T===null||e(p)!=="object"||e(T)!=="object")return!0;var R=Object.keys(p),M=Object.keys(T);if(R.length!==M.length)return!0;for(var L=0,$=R.length;L<$;L++){var B=R[L];if(p[B]!==T[B])return!0}}}return!1}})(Cn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(x),n=i(jt),r=i(Cn);function i(d){return d&&d.__esModule?d:{default:d}}function o(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return o=function(){return d},d}function s(d){if(d&&d.__esModule)return d;if(d===null||l(d)!=="object"&&typeof d!="function")return{default:d};var j=o();if(j&&j.has(d))return j.get(d);var I={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in d)if(Object.prototype.hasOwnProperty.call(d,N)){var v=A?Object.getOwnPropertyDescriptor(d,N):null;v&&(v.get||v.set)?Object.defineProperty(I,N,v):I[N]=d[N]}return I.default=d,j&&j.set(d,I),I}function l(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(I){return typeof I}:l=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},l(d)}function a(d,j){if(!(d instanceof j))throw new TypeError("Cannot call a class as a function")}function u(d,j){for(var I=0;I<j.length;I++){var A=j[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}function c(d,j,I){return j&&u(d.prototype,j),I&&u(d,I),d}function h(d){return function(){var j=M(d),I;if(R()){var A=M(this).constructor;I=Reflect.construct(j,arguments,A)}else I=j.apply(this,arguments);return p(this,I)}}function p(d,j){return j&&(l(j)==="object"||typeof j=="function")?j:T(d)}function T(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function M(d){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},M(d)}function L(d,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(j&&j.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),j&&$(d,j)}function $(d,j){return $=Object.setPrototypeOf||function(A,N){return A.__proto__=N,A},$(d,j)}function B(d,j,I){return j in d?Object.defineProperty(d,j,{value:I,enumerable:!0,configurable:!0,writable:!0}):d[j]=I,d}var q=function(d){L(I,d);var j=h(I);function I(){return a(this,I),j.apply(this,arguments)}return c(I,[{key:"shouldComponentUpdate",value:function(N){return(0,r.default)(N,this.props)}},{key:"render",value:function(){var N=this.props,v=N.section,O=N.renderSectionTitle,b=N.theme,y=N.sectionKeyPrefix,E=O(v);return E?e.default.createElement("div",b("".concat(y,"title"),"sectionTitle"),E):null}}]),I}(e.Component);t.default=q,B(q,"propTypes",{section:n.default.any.isRequired,renderSectionTitle:n.default.func.isRequired,theme:n.default.func.isRequired,sectionKeyPrefix:n.default.string.isRequired})})(Wi);var qi={},Ki={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(x),n=i(jt),r=i(Cn);function i(v){return v&&v.__esModule?v:{default:v}}function o(){if(typeof WeakMap!="function")return null;var v=new WeakMap;return o=function(){return v},v}function s(v){if(v&&v.__esModule)return v;if(v===null||l(v)!=="object"&&typeof v!="function")return{default:v};var O=o();if(O&&O.has(v))return O.get(v);var b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){var k=y?Object.getOwnPropertyDescriptor(v,E):null;k&&(k.get||k.set)?Object.defineProperty(b,E,k):b[E]=v[E]}return b.default=v,O&&O.set(v,b),b}function l(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(b){return typeof b}:l=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(v)}function a(){return a=Object.assign||function(v){for(var O=1;O<arguments.length;O++){var b=arguments[O];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(v[y]=b[y])}return v},a.apply(this,arguments)}function u(v,O){var b=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);O&&(y=y.filter(function(E){return Object.getOwnPropertyDescriptor(v,E).enumerable})),b.push.apply(b,y)}return b}function c(v){for(var O=1;O<arguments.length;O++){var b=arguments[O]!=null?arguments[O]:{};O%2?u(Object(b),!0).forEach(function(y){A(v,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(b,y))})}return v}function h(v,O){if(v==null)return{};var b=p(v,O),y,E;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);for(E=0;E<k.length;E++)y=k[E],!(O.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(v,y)&&(b[y]=v[y])}return b}function p(v,O){if(v==null)return{};var b={},y=Object.keys(v),E,k;for(k=0;k<y.length;k++)E=y[k],!(O.indexOf(E)>=0)&&(b[E]=v[E]);return b}function T(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}function R(v,O){for(var b=0;b<O.length;b++){var y=O[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}function M(v,O,b){return O&&R(v.prototype,O),b&&R(v,b),v}function L(v){return function(){var O=d(v),b;if(q()){var y=d(this).constructor;b=Reflect.construct(O,arguments,y)}else b=O.apply(this,arguments);return $(this,b)}}function $(v,O){return O&&(l(O)==="object"||typeof O=="function")?O:B(v)}function B(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function d(v){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},d(v)}function j(v,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(O&&O.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),O&&I(v,O)}function I(v,O){return I=Object.setPrototypeOf||function(y,E){return y.__proto__=E,y},I(v,O)}function A(v,O,b){return O in v?Object.defineProperty(v,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[O]=b,v}var N=function(v){j(b,v);var O=L(b);function b(){var y;T(this,b);for(var E=arguments.length,k=new Array(E),z=0;z<E;z++)k[z]=arguments[z];return y=O.call.apply(O,[this].concat(k)),A(B(y),"storeItemReference",function(J){J!==null&&(y.item=J)}),A(B(y),"onMouseEnter",function(J){var V=y.props,P=V.sectionIndex,m=V.itemIndex;y.props.onMouseEnter(J,{sectionIndex:P,itemIndex:m})}),A(B(y),"onMouseLeave",function(J){var V=y.props,P=V.sectionIndex,m=V.itemIndex;y.props.onMouseLeave(J,{sectionIndex:P,itemIndex:m})}),A(B(y),"onMouseDown",function(J){var V=y.props,P=V.sectionIndex,m=V.itemIndex;y.props.onMouseDown(J,{sectionIndex:P,itemIndex:m})}),A(B(y),"onClick",function(J){var V=y.props,P=V.sectionIndex,m=V.itemIndex;y.props.onClick(J,{sectionIndex:P,itemIndex:m})}),y}return M(b,[{key:"shouldComponentUpdate",value:function(E){return(0,r.default)(E,this.props,["renderItemData"])}},{key:"render",value:function(){var E=this.props,k=E.isHighlighted,z=E.item,J=E.renderItem,V=E.renderItemData,P=h(E,["isHighlighted","item","renderItem","renderItemData"]);return delete P.sectionIndex,delete P.itemIndex,typeof P.onMouseEnter=="function"&&(P.onMouseEnter=this.onMouseEnter),typeof P.onMouseLeave=="function"&&(P.onMouseLeave=this.onMouseLeave),typeof P.onMouseDown=="function"&&(P.onMouseDown=this.onMouseDown),typeof P.onClick=="function"&&(P.onClick=this.onClick),e.default.createElement("li",a({role:"option"},P,{ref:this.storeItemReference}),J(z,c({isHighlighted:k},V)))}}]),b}(e.Component);t.default=N,A(N,"propTypes",{sectionIndex:n.default.number,isHighlighted:n.default.bool.isRequired,itemIndex:n.default.number.isRequired,item:n.default.any.isRequired,renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,onMouseEnter:n.default.func,onMouseLeave:n.default.func,onMouseDown:n.default.func,onClick:n.default.func})})(Ki);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(x),n=o(jt),r=o(Ki),i=o(Cn);function o(N){return N&&N.__esModule?N:{default:N}}function s(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return s=function(){return N},N}function l(N){if(N&&N.__esModule)return N;if(N===null||a(N)!=="object"&&typeof N!="function")return{default:N};var v=s();if(v&&v.has(N))return v.get(N);var O={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in N)if(Object.prototype.hasOwnProperty.call(N,y)){var E=b?Object.getOwnPropertyDescriptor(N,y):null;E&&(E.get||E.set)?Object.defineProperty(O,y,E):O[y]=N[y]}return O.default=N,v&&v.set(N,O),O}function a(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(O){return typeof O}:a=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},a(N)}function u(){return u=Object.assign||function(N){for(var v=1;v<arguments.length;v++){var O=arguments[v];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(N[b]=O[b])}return N},u.apply(this,arguments)}function c(N,v){var O=Object.keys(N);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(N);v&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(N,y).enumerable})),O.push.apply(O,b)}return O}function h(N){for(var v=1;v<arguments.length;v++){var O=arguments[v]!=null?arguments[v]:{};v%2?c(Object(O),!0).forEach(function(b){I(N,b,O[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(O)):c(Object(O)).forEach(function(b){Object.defineProperty(N,b,Object.getOwnPropertyDescriptor(O,b))})}return N}function p(N,v){if(!(N instanceof v))throw new TypeError("Cannot call a class as a function")}function T(N,v){for(var O=0;O<v.length;O++){var b=v[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(N,b.key,b)}}function R(N,v,O){return v&&T(N.prototype,v),O&&T(N,O),N}function M(N){return function(){var v=q(N),O;if(B()){var b=q(this).constructor;O=Reflect.construct(v,arguments,b)}else O=v.apply(this,arguments);return L(this,O)}}function L(N,v){return v&&(a(v)==="object"||typeof v=="function")?v:$(N)}function $(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(N){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},q(N)}function d(N,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(v&&v.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),v&&j(N,v)}function j(N,v){return j=Object.setPrototypeOf||function(b,y){return b.__proto__=y,b},j(N,v)}function I(N,v,O){return v in N?Object.defineProperty(N,v,{value:O,enumerable:!0,configurable:!0,writable:!0}):N[v]=O,N}var A=function(N){d(O,N);var v=M(O);function O(){var b;p(this,O);for(var y=arguments.length,E=new Array(y),k=0;k<y;k++)E[k]=arguments[k];return b=v.call.apply(v,[this].concat(E)),I($(b),"storeHighlightedItemReference",function(z){b.props.onHighlightedItemChange(z===null?null:z.item)}),b}return R(O,[{key:"shouldComponentUpdate",value:function(y){return(0,i.default)(y,this.props,["itemProps"])}},{key:"render",value:function(){var y=this,E=this.props,k=E.items,z=E.itemProps,J=E.renderItem,V=E.renderItemData,P=E.sectionIndex,m=E.highlightedItemIndex,D=E.getItemId,_=E.theme,g=E.keyPrefix,C=P===null?g:"".concat(g,"section-").concat(P,"-"),S=typeof z=="function";return e.default.createElement("ul",u({role:"listbox"},_("".concat(C,"items-list"),"itemsList")),k.map(function(U,W){var K=W===0,Z=W===m,ie="".concat(C,"item-").concat(W),se=S?z({sectionIndex:P,itemIndex:W}):z,de=h({id:D(P,W),"aria-selected":Z},_(ie,"item",K&&"itemFirst",Z&&"itemHighlighted"),{},se);return Z&&(de.ref=y.storeHighlightedItemReference),e.default.createElement(r.default,u({},de,{sectionIndex:P,isHighlighted:Z,itemIndex:W,item:U,renderItem:J,renderItemData:V}))}))}}]),O}(e.Component);t.default=A,I(A,"propTypes",{items:n.default.array.isRequired,itemProps:n.default.oneOfType([n.default.object,n.default.func]),renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,sectionIndex:n.default.number,highlightedItemIndex:n.default.number,onHighlightedItemChange:n.default.func.isRequired,getItemId:n.default.func.isRequired,theme:n.default.func.isRequired,keyPrefix:n.default.string.isRequired}),I(A,"defaultProps",{sectionIndex:null})})(qi);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=u(x),n=l(jt),r=l(ca),i=l(ga),o=l(Wi),s=l(qi);function l(m){return m&&m.__esModule?m:{default:m}}function a(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return a=function(){return m},m}function u(m){if(m&&m.__esModule)return m;if(m===null||B(m)!=="object"&&typeof m!="function")return{default:m};var D=a();if(D&&D.has(m))return D.get(m);var _={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in m)if(Object.prototype.hasOwnProperty.call(m,C)){var S=g?Object.getOwnPropertyDescriptor(m,C):null;S&&(S.get||S.set)?Object.defineProperty(_,C,S):_[C]=m[C]}return _.default=m,D&&D.set(m,_),_}function c(m,D){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(m);D&&(g=g.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),_.push.apply(_,g)}return _}function h(m){for(var D=1;D<arguments.length;D++){var _=arguments[D]!=null?arguments[D]:{};D%2?c(Object(_),!0).forEach(function(g){E(m,g,_[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):c(Object(_)).forEach(function(g){Object.defineProperty(m,g,Object.getOwnPropertyDescriptor(_,g))})}return m}function p(m,D){return $(m)||L(m,D)||R(m,D)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(m,D){if(m){if(typeof m=="string")return M(m,D);var _=Object.prototype.toString.call(m).slice(8,-1);if(_==="Object"&&m.constructor&&(_=m.constructor.name),_==="Map"||_==="Set")return Array.from(_);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return M(m,D)}}function M(m,D){(D==null||D>m.length)&&(D=m.length);for(var _=0,g=new Array(D);_<D;_++)g[_]=m[_];return g}function L(m,D){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(m)))){var _=[],g=!0,C=!1,S=void 0;try{for(var U=m[Symbol.iterator](),W;!(g=(W=U.next()).done)&&(_.push(W.value),!(D&&_.length===D));g=!0);}catch(K){C=!0,S=K}finally{try{!g&&U.return!=null&&U.return()}finally{if(C)throw S}}return _}}function $(m){if(Array.isArray(m))return m}function B(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(_){return typeof _}:B=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},B(m)}function q(m,D){if(!(m instanceof D))throw new TypeError("Cannot call a class as a function")}function d(m,D){for(var _=0;_<D.length;_++){var g=D[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}function j(m,D,_){return D&&d(m.prototype,D),_&&d(m,_),m}function I(m){return function(){var D=O(m),_;if(v()){var g=O(this).constructor;_=Reflect.construct(D,arguments,g)}else _=D.apply(this,arguments);return A(this,_)}}function A(m,D){return D&&(B(D)==="object"||typeof D=="function")?D:N(m)}function N(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(m){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},O(m)}function b(m,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(D&&D.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),D&&y(m,D)}function y(m,D){return y=Object.setPrototypeOf||function(g,C){return g.__proto__=C,g},y(m,D)}function E(m,D,_){return D in m?Object.defineProperty(m,D,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[D]=_,m}var k={},z=function(D){return e.default.createElement("input",D)},J=function(D){var _=D.containerProps,g=D.children;return e.default.createElement("div",_,g)},V={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},P=function(m){b(_,m);var D=I(_);function _(g){var C;return q(this,_),C=D.call(this,g),E(N(C),"storeInputReference",function(S){S!==null&&(C.input=S);var U=C.props.inputProps.ref;U&&(typeof U=="function"?U(S):B(U)==="object"&&Object.prototype.hasOwnProperty.call(U,"current")&&(U.current=S))}),E(N(C),"storeItemsContainerReference",function(S){S!==null&&(C.itemsContainer=S)}),E(N(C),"onHighlightedItemChange",function(S){C.highlightedItem=S}),E(N(C),"getItemId",function(S,U){if(U===null)return null;var W=C.props.id,K=S===null?"":"section-".concat(S);return"react-autowhatever-".concat(W,"-").concat(K,"-item-").concat(U)}),E(N(C),"onFocus",function(S){var U=C.props.inputProps;C.setState({isInputFocused:!0}),U.onFocus&&U.onFocus(S)}),E(N(C),"onBlur",function(S){var U=C.props.inputProps;C.setState({isInputFocused:!1}),U.onBlur&&U.onBlur(S)}),E(N(C),"onKeyDown",function(S){var U=C.props,W=U.inputProps,K=U.highlightedSectionIndex,Z=U.highlightedItemIndex,ie=S.keyCode;switch(ie){case 40:case 38:{var se=ie===40?"next":"prev",de=C.sectionIterator[se]([K,Z]),ge=p(de,2),we=ge[0],De=ge[1];W.onKeyDown(S,{newHighlightedSectionIndex:we,newHighlightedItemIndex:De});break}default:W.onKeyDown(S,{highlightedSectionIndex:K,highlightedItemIndex:Z})}}),C.highlightedItem=null,C.state={isInputFocused:!1},C.setSectionsItems(g),C.setSectionIterator(g),C.setTheme(g),C}return j(_,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(C){C.items!==this.props.items&&this.setSectionsItems(C),(C.items!==this.props.items||C.multiSection!==this.props.multiSection)&&this.setSectionIterator(C),C.theme!==this.props.theme&&this.setTheme(C)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(C){C.multiSection&&(this.sectionsItems=C.items.map(function(S){return C.getSectionItems(S)}),this.sectionsLengths=this.sectionsItems.map(function(S){return S.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(S){return S===0}))}},{key:"setSectionIterator",value:function(C){this.sectionIterator=(0,r.default)({multiSection:C.multiSection,data:C.multiSection?this.sectionsLengths:C.items.length})}},{key:"setTheme",value:function(C){this.theme=(0,i.default)(C.theme)}},{key:"renderSections",value:function(){var C=this;if(this.allSectionsAreEmpty)return null;var S=this.theme,U=this.props,W=U.id,K=U.items,Z=U.renderItem,ie=U.renderItemData,se=U.renderSectionTitle,de=U.highlightedSectionIndex,ge=U.highlightedItemIndex,we=U.itemProps;return K.map(function(De,he){var Te="react-autowhatever-".concat(W,"-"),Oe="".concat(Te,"section-").concat(he,"-"),be=he===0;return e.default.createElement("div",S("".concat(Oe,"container"),"sectionContainer",be&&"sectionContainerFirst"),e.default.createElement(o.default,{section:De,renderSectionTitle:se,theme:S,sectionKeyPrefix:Oe}),e.default.createElement(s.default,{items:C.sectionsItems[he],itemProps:we,renderItem:Z,renderItemData:ie,sectionIndex:he,highlightedItemIndex:de===he?ge:null,onHighlightedItemChange:C.onHighlightedItemChange,getItemId:C.getItemId,theme:S,keyPrefix:Te,ref:C.storeItemsListReference}))})}},{key:"renderItems",value:function(){var C=this.props.items;if(C.length===0)return null;var S=this.theme,U=this.props,W=U.id,K=U.renderItem,Z=U.renderItemData,ie=U.highlightedSectionIndex,se=U.highlightedItemIndex,de=U.itemProps;return e.default.createElement(s.default,{items:C,itemProps:de,renderItem:K,renderItemData:Z,highlightedItemIndex:ie===null?se:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:S,keyPrefix:"react-autowhatever-".concat(W,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var C=this.highlightedItem;if(C){var S=this.itemsContainer,U=C.offsetParent===S?C.offsetTop:C.offsetTop-S.offsetTop,W=S.scrollTop;U<W?W=U:U+C.offsetHeight>W+S.offsetHeight&&(W=U+C.offsetHeight-S.offsetHeight),W!==S.scrollTop&&(S.scrollTop=W)}}},{key:"render",value:function(){var C=this.theme,S=this.props,U=S.id,W=S.multiSection,K=S.renderInputComponent,Z=S.renderItemsContainer,ie=S.highlightedSectionIndex,se=S.highlightedItemIndex,de=this.state.isInputFocused,ge=W?this.renderSections():this.renderItems(),we=ge!==null,De=this.getItemId(ie,se),he="react-autowhatever-".concat(U),Te=h({role:"combobox","aria-haspopup":"listbox","aria-owns":he,"aria-expanded":we},C("react-autowhatever-".concat(U,"-container"),"container",we&&"containerOpen"),{},this.props.containerProps),Oe=K(h({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":he,"aria-activedescendant":De},C("react-autowhatever-".concat(U,"-input"),"input",we&&"inputOpen",de&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),be=Z({containerProps:h({id:he,role:"listbox"},C("react-autowhatever-".concat(U,"-items-container"),"itemsContainer",we&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:ge});return e.default.createElement("div",Te,Oe,be)}}]),_}(e.Component);t.default=P,E(P,"propTypes",{id:n.default.string,multiSection:n.default.bool,renderInputComponent:n.default.func,renderItemsContainer:n.default.func,items:n.default.array.isRequired,renderItem:n.default.func,renderItemData:n.default.object,renderSectionTitle:n.default.func,getSectionItems:n.default.func,containerProps:n.default.object,inputProps:n.default.object,itemProps:n.default.oneOfType([n.default.object,n.default.func]),highlightedSectionIndex:n.default.number,highlightedItemIndex:n.default.number,theme:n.default.oneOfType([n.default.object,n.default.array])}),E(P,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:z,renderItemsContainer:J,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:k,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:k,inputProps:k,itemProps:k,highlightedSectionIndex:null,highlightedItemIndex:null,theme:V})})(Bi);var St={};Object.defineProperty(St,"__esModule",{value:!0});St.mapToAutowhateverTheme=St.defaultTheme=void 0;var ma={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};St.defaultTheme=ma;var va=function(e){var n={};for(var r in e)switch(r){case"suggestionsContainer":n.itemsContainer=e[r];break;case"suggestionsContainerOpen":n.itemsContainerOpen=e[r];break;case"suggestion":n.item=e[r];break;case"suggestionFirst":n.itemFirst=e[r];break;case"suggestionHighlighted":n.itemHighlighted=e[r];break;case"suggestionsList":n.itemsList=e[r];break;default:n[r]=e[r]}return n};St.mapToAutowhateverTheme=va;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(x),n=s(jt),r=s(ua),i=s(Bi),o=St;function s(P){return P&&P.__esModule?P:{default:P}}function l(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return l=function(){return P},P}function a(P){if(P&&P.__esModule)return P;if(P===null||u(P)!=="object"&&typeof P!="function")return{default:P};var m=l();if(m&&m.has(P))return m.get(P);var D={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in P)if(Object.prototype.hasOwnProperty.call(P,g)){var C=_?Object.getOwnPropertyDescriptor(P,g):null;C&&(C.get||C.set)?Object.defineProperty(D,g,C):D[g]=P[g]}return D.default=P,m&&m.set(P,D),D}function u(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(D){return typeof D}:u=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},u(P)}function c(P,m){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(P);m&&(_=_.filter(function(g){return Object.getOwnPropertyDescriptor(P,g).enumerable})),D.push.apply(D,_)}return D}function h(P){for(var m=1;m<arguments.length;m++){var D=arguments[m]!=null?arguments[m]:{};m%2?c(Object(D),!0).forEach(function(_){I(P,_,D[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):c(Object(D)).forEach(function(_){Object.defineProperty(P,_,Object.getOwnPropertyDescriptor(D,_))})}return P}function p(P,m){if(!(P instanceof m))throw new TypeError("Cannot call a class as a function")}function T(P,m){for(var D=0;D<m.length;D++){var _=m[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,_.key,_)}}function R(P,m,D){return m&&T(P.prototype,m),D&&T(P,D),P}function M(P){return function(){var m=q(P),D;if(B()){var _=q(this).constructor;D=Reflect.construct(m,arguments,_)}else D=m.apply(this,arguments);return L(this,D)}}function L(P,m){return m&&(u(m)==="object"||typeof m=="function")?m:$(P)}function $(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(P){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},q(P)}function d(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(m&&m.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),m&&j(P,m)}function j(P,m){return j=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_},j(P,m)}function I(P,m,D){return m in P?Object.defineProperty(P,m,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[m]=D,P}var A=function(){return!0},N=function(m){return m.trim().length>0},v=function(m){var D=m.containerProps,_=m.children;return e.default.createElement("div",D,_)},O="suggestions-revealed",b="suggestions-updated",y="suggestion-selected",E="input-focused",k="input-changed",z="input-blurred",J="escape-pressed",V=function(P){d(D,P);var m=M(D);function D(_){var g,C=_.alwaysRenderSuggestions;return p(this,D),g=m.call(this),I($(g),"onDocumentMouseDown",function(S){g.justClickedOnSuggestionsContainer=!1;for(var U=S.detail&&S.detail.target||S.target;U!==null&&U!==document;){if(U.getAttribute&&U.getAttribute("data-suggestion-index")!==null)return;if(U===g.suggestionsContainer){g.justClickedOnSuggestionsContainer=!0;return}U=U.parentNode}}),I($(g),"storeAutowhateverRef",function(S){S!==null&&(g.autowhatever=S)}),I($(g),"onSuggestionMouseEnter",function(S,U){var W=U.sectionIndex,K=U.itemIndex;g.updateHighlightedSuggestion(W,K),S.target===g.pressedSuggestion&&(g.justSelectedSuggestion=!0),g.justMouseEntered=!0,setTimeout(function(){g.justMouseEntered=!1})}),I($(g),"highlightFirstSuggestion",function(){g.updateHighlightedSuggestion(g.props.multiSection?0:null,0)}),I($(g),"onDocumentMouseUp",function(){g.pressedSuggestion&&!g.justSelectedSuggestion&&g.input.focus(),g.pressedSuggestion=null}),I($(g),"onSuggestionMouseDown",function(S){g.justSelectedSuggestion||(g.justSelectedSuggestion=!0,g.pressedSuggestion=S.target)}),I($(g),"onSuggestionsClearRequested",function(){var S=g.props.onSuggestionsClearRequested;S&&S()}),I($(g),"onSuggestionSelected",function(S,U){var W=g.props,K=W.alwaysRenderSuggestions,Z=W.onSuggestionSelected,ie=W.onSuggestionsFetchRequested;Z&&Z(S,U);var se=g.props.shouldKeepSuggestionsOnSelect(U.suggestion);K||se?ie({value:U.suggestionValue,reason:y}):g.onSuggestionsClearRequested(),g.resetHighlightedSuggestion()}),I($(g),"onSuggestionClick",function(S){var U=g.props,W=U.alwaysRenderSuggestions,K=U.focusInputOnSuggestionClick,Z=g.getSuggestionIndices(g.findSuggestionElement(S.target)),ie=Z.sectionIndex,se=Z.suggestionIndex,de=g.getSuggestion(ie,se),ge=g.props.getSuggestionValue(de);g.maybeCallOnChange(S,ge,"click"),g.onSuggestionSelected(S,{suggestion:de,suggestionValue:ge,suggestionIndex:se,sectionIndex:ie,method:"click"});var we=g.props.shouldKeepSuggestionsOnSelect(de);W||we||g.closeSuggestions(),K===!0?g.input.focus():g.onBlur(),setTimeout(function(){g.justSelectedSuggestion=!1})}),I($(g),"onBlur",function(){var S=g.props,U=S.inputProps,W=S.shouldRenderSuggestions,K=U.value,Z=U.onBlur,ie=g.getHighlightedSuggestion(),se=W(K,z);g.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!se}),Z&&Z(g.blurEvent,{highlightedSuggestion:ie})}),I($(g),"onSuggestionMouseLeave",function(S){g.resetHighlightedSuggestion(!1),g.justSelectedSuggestion&&S.target===g.pressedSuggestion&&(g.justSelectedSuggestion=!1)}),I($(g),"onSuggestionTouchStart",function(){g.justSelectedSuggestion=!0}),I($(g),"onSuggestionTouchMove",function(){g.justSelectedSuggestion=!1,g.pressedSuggestion=null,g.input.focus()}),I($(g),"itemProps",function(S){var U=S.sectionIndex,W=S.itemIndex;return{"data-section-index":U,"data-suggestion-index":W,onMouseEnter:g.onSuggestionMouseEnter,onMouseLeave:g.onSuggestionMouseLeave,onMouseDown:g.onSuggestionMouseDown,onTouchStart:g.onSuggestionTouchStart,onTouchMove:g.onSuggestionTouchMove,onClick:g.onSuggestionClick}}),I($(g),"renderSuggestionsContainer",function(S){var U=S.containerProps,W=S.children,K=g.props.renderSuggestionsContainer;return K({containerProps:U,children:W,query:g.getQuery()})}),g.state={isFocused:!1,isCollapsed:!C,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},g.justPressedUpDown=!1,g.justMouseEntered=!1,g.pressedSuggestion=null,g}return R(D,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(g){var C=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!g.highlightFirstSuggestion;(0,r.default)(g.suggestions,this.props.suggestions)?g.highlightFirstSuggestion&&g.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():C&&this.resetHighlightedSuggestion():this.willRenderSuggestions(g,b)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),C&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(g,C){var S=this.props,U=S.suggestions,W=S.onSuggestionHighlighted,K=S.highlightFirstSuggestion;if(!(0,r.default)(U,g.suggestions)&&U.length>0&&K){this.highlightFirstSuggestion();return}if(W){var Z=this.getHighlightedSuggestion(),ie=C.highlightedSuggestion;Z!=ie&&W({suggestion:Z})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(g,C,S){var U=this;this.setState(function(W){var K=W.valueBeforeUpDown;return C===null?K=null:K===null&&typeof S<"u"&&(K=S),{highlightedSectionIndex:g,highlightedSuggestionIndex:C,highlightedSuggestion:C===null?null:U.getSuggestion(g,C),valueBeforeUpDown:K}})}},{key:"resetHighlightedSuggestion",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(C){var S=C.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:g?null:S}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(g,C){var S=this.props,U=S.suggestions,W=S.multiSection,K=S.getSectionSuggestions;return W?K(U[g])[C]:U[C]}},{key:"getHighlightedSuggestion",value:function(){var g=this.state,C=g.highlightedSectionIndex,S=g.highlightedSuggestionIndex;return S===null?null:this.getSuggestion(C,S)}},{key:"getSuggestionValueByIndex",value:function(g,C){var S=this.props.getSuggestionValue;return S(this.getSuggestion(g,C))}},{key:"getSuggestionIndices",value:function(g){var C=g.getAttribute("data-section-index"),S=g.getAttribute("data-suggestion-index");return{sectionIndex:typeof C=="string"?parseInt(C,10):null,suggestionIndex:parseInt(S,10)}}},{key:"findSuggestionElement",value:function(g){var C=g;do{if(C.getAttribute&&C.getAttribute("data-suggestion-index")!==null)return C;C=C.parentNode}while(C!==null);throw console.error("Clicked element:",g),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(g,C,S){var U=this.props.inputProps,W=U.value,K=U.onChange;C!==W&&K(g,{newValue:C,method:S})}},{key:"willRenderSuggestions",value:function(g,C){var S=g.suggestions,U=g.inputProps,W=g.shouldRenderSuggestions,K=U.value;return S.length>0&&W(K,C)}},{key:"getQuery",value:function(){var g=this.props.inputProps,C=g.value,S=this.state.valueBeforeUpDown;return(S===null?C:S).trim()}},{key:"render",value:function(){var g=this,C=this.props,S=C.suggestions,U=C.renderInputComponent,W=C.onSuggestionsFetchRequested,K=C.renderSuggestion,Z=C.inputProps,ie=C.multiSection,se=C.renderSectionTitle,de=C.id,ge=C.getSectionSuggestions,we=C.theme,De=C.getSuggestionValue,he=C.alwaysRenderSuggestions,Te=C.highlightFirstSuggestion,Oe=C.containerProps,be=this.state,ze=be.isFocused,Ie=be.isCollapsed,nt=be.highlightedSectionIndex,rt=be.highlightedSuggestionIndex,Ke=be.valueBeforeUpDown,G=he?A:this.props.shouldRenderSuggestions,Q=Z.value,ue=Z.onFocus,ye=Z.onKeyDown,Ce=this.willRenderSuggestions(this.props,"render"),ke=he||ze&&!Ie&&Ce,Me=ke?S:[],it=h({},Z,{onFocus:function(w){if(!g.justSelectedSuggestion&&!g.justClickedOnSuggestionsContainer){var F=G(Q,E);g.setState({isFocused:!0,isCollapsed:!F}),ue&&ue(w),F&&W({value:Q,reason:E})}},onBlur:function(w){if(g.justClickedOnSuggestionsContainer){g.input.focus();return}g.blurEvent=w,g.justSelectedSuggestion||(g.onBlur(),g.onSuggestionsClearRequested())},onChange:function(w){var F=w.target.value,H=G(F,k);g.maybeCallOnChange(w,F,"type"),g.suggestionsContainer&&(g.suggestionsContainer.scrollTop=0),g.setState(h({},Te?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!H})),H?W({value:F,reason:k}):g.onSuggestionsClearRequested()},onKeyDown:function(w,F){var H=w.keyCode;switch(H){case 40:case 38:if(Ie)G(Q,O)&&(W({value:Q,reason:O}),g.revealSuggestions(),w.preventDefault());else if(S.length>0){var Y=F.newHighlightedSectionIndex,te=F.newHighlightedItemIndex,ne;te===null?ne=Ke===null?Q:Ke:ne=g.getSuggestionValueByIndex(Y,te),g.updateHighlightedSuggestion(Y,te,Q),g.maybeCallOnChange(w,ne,H===40?"down":"up"),w.preventDefault()}g.justPressedUpDown=!0,setTimeout(function(){g.justPressedUpDown=!1});break;case 13:{if(w.keyCode===229)break;var re=g.getHighlightedSuggestion();if(ke&&!he&&g.closeSuggestions(),re!=null){w.preventDefault();var ee=De(re);g.maybeCallOnChange(w,ee,"enter"),g.onSuggestionSelected(w,{suggestion:re,suggestionValue:ee,suggestionIndex:rt,sectionIndex:nt,method:"enter"}),g.justSelectedSuggestion=!0,setTimeout(function(){g.justSelectedSuggestion=!1})}break}case 27:{ke&&w.preventDefault();var X=ke&&!he;if(Ke===null){if(!X){var le="";g.maybeCallOnChange(w,le,"escape"),G(le,J)?W({value:le,reason:J}):g.onSuggestionsClearRequested()}}else g.maybeCallOnChange(w,Ke,"escape");X?(g.onSuggestionsClearRequested(),g.closeSuggestions()):g.resetHighlightedSuggestion();break}}ye&&ye(w)}}),Qe={query:this.getQuery()};return e.default.createElement(i.default,{multiSection:ie,items:Me,renderInputComponent:U,renderItemsContainer:this.renderSuggestionsContainer,renderItem:K,renderItemData:Qe,renderSectionTitle:se,getSectionItems:ge,highlightedSectionIndex:nt,highlightedItemIndex:rt,containerProps:Oe,inputProps:it,itemProps:this.itemProps,theme:(0,o.mapToAutowhateverTheme)(we),id:de,ref:this.storeAutowhateverRef})}}]),D}(e.Component);t.default=V,I(V,"propTypes",{suggestions:n.default.array.isRequired,onSuggestionsFetchRequested:function(m,D){var _=m[D];if(typeof _!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(m,D){var _=m[D];if(m.alwaysRenderSuggestions===!1&&typeof _!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:n.default.func,onSuggestionSelected:n.default.func,onSuggestionHighlighted:n.default.func,renderInputComponent:n.default.func,renderSuggestionsContainer:n.default.func,getSuggestionValue:n.default.func.isRequired,renderSuggestion:n.default.func.isRequired,inputProps:function(m,D){var _=m[D];if(!_)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(_,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(_,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:n.default.func,alwaysRenderSuggestions:n.default.bool,multiSection:n.default.bool,renderSectionTitle:function(m,D){var _=m[D];if(m.multiSection===!0&&typeof _!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(m,D){var _=m[D];if(m.multiSection===!0&&typeof _!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:n.default.bool,highlightFirstSuggestion:n.default.bool,theme:n.default.object,id:n.default.string,containerProps:n.default.object}),I(V,"defaultProps",{renderSuggestionsContainer:v,shouldRenderSuggestions:N,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:o.defaultTheme,id:"1",containerProps:{}})})($i);var ya=$i.default;const xa=yn(ya),ba="_mainpage_1xqek_1",Sa="_container_1xqek_6",wa="_inputlayout_1xqek_16",Oa="_input_1xqek_16",Ea="_suggestionsContainer_1xqek_50",Ca="_suggestionsList_1xqek_67",Ra="_suggestion_1xqek_50",ja="_selected_1xqek_81",Pa="_leftsection_1xqek_84",Da="_name_1xqek_88",Ia="_description_1xqek_92",Na="_version_1xqek_96",Ue={mainpage:ba,container:Sa,inputlayout:wa,"i-ic-round-search":"_i-ic-round-search_1xqek_26",input:Oa,suggestionsContainer:Ea,suggestionsList:Ca,suggestion:Ra,selected:ja,leftsection:Pa,name:Da,description:Ia,version:Na};function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yn.apply(this,arguments)}function _a(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const zr={};function Xn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&zr[e[0]]||(typeof e[0]=="string"&&(zr[e[0]]=new Date),_a(...e))}const Vi=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function Br(t,e,n){t.loadNamespaces(e,Vi(t,n))}function Wr(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Vi(t,r))}function Ta(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,a)=>{const u=e.services.backendConnector.state[`${l}|${a}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}function La(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Xn("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}):Ta(t,e,n)}const ka=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Aa={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Fa=t=>Aa[t],Ma=t=>t.replace(ka,Fa);let Qn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ma};function $a(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qn={...Qn,...t}}function Ua(){return Qn}let Gi;function Ha(t){Gi=t}function za(){return Gi}const Ba={type:"3rdParty",init(t){$a(t.options.react),Ha(t)}},Wa=x.createContext();class qa{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ka=(t,e)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function Va(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=x.useContext(Wa)||{},o=n||r||za();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new qa),!o){Xn("You will need to pass in an i18next instance by using initReactI18next");const q=(j,I)=>typeof I=="string"?I:I&&typeof I=="object"&&typeof I.defaultValue=="string"?I.defaultValue:Array.isArray(j)?j[j.length-1]:j,d=[q,{},!1];return d.t=q,d.i18n={},d.ready=!1,d}o.options.react&&o.options.react.wait!==void 0&&Xn("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Ua(),...o.options.react,...e},{useSuspense:l,keyPrefix:a}=s;let u=t||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(q=>La(q,o,s));function h(){return o.getFixedT(e.lng||null,s.nsMode==="fallback"?u:u[0],a)}const[p,T]=x.useState(h);let R=u.join();e.lng&&(R=`${e.lng}${R}`);const M=Ka(R),L=x.useRef(!0);x.useEffect(()=>{const{bindI18n:q,bindI18nStore:d}=s;L.current=!0,!c&&!l&&(e.lng?Wr(o,e.lng,u,()=>{L.current&&T(h)}):Br(o,u,()=>{L.current&&T(h)})),c&&M&&M!==R&&L.current&&T(h);function j(){L.current&&T(h)}return q&&o&&o.on(q,j),d&&o&&o.store.on(d,j),()=>{L.current=!1,q&&o&&q.split(" ").forEach(I=>o.off(I,j)),d&&o&&d.split(" ").forEach(I=>o.store.off(I,j))}},[o,R]);const $=x.useRef(!0);x.useEffect(()=>{L.current&&!$.current&&T(h),$.current=!1},[o,a]);const B=[p,o,c];if(B.t=p,B.i18n=o,B.ready=c,c||!c&&!l)return B;throw new Promise(q=>{e.lng?Wr(o,e.lng,u,()=>q()):Br(o,u,()=>q())})}const Ga={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class an{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Ga,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new an(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new an(this.logger,e)}}var qe=new an;class Rn{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(s=>{s(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(s=>{s.apply(s,[e,...r])})}}function kt(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function qr(t){return t==null?"":""+t}function Ja(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function cr(t,e,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}const o=typeof e!="string"?[].concat(e):e.split(".");for(;o.length>1;){if(i())return{};const s=r(o.shift());!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={}}return i()?{}:{obj:t,k:r(o.shift())}}function Kr(t,e,n){const{obj:r,k:i}=cr(t,e,Object);r[i]=n}function Ya(t,e,n,r){const{obj:i,k:o}=cr(t,e,Object);i[o]=i[o]||[],r&&(i[o]=i[o].concat(n)),r||i[o].push(n)}function ln(t,e){const{obj:n,k:r}=cr(t,e);if(n)return n[r]}function Xa(t,e,n){const r=ln(t,n);return r!==void 0?r:ln(e,n)}function Ji(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Ji(t[r],e[r],n):t[r]=e[r]);return t}function ht(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Za(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Qa[e]):t}const el=[" ",",","?","!",";"];function tl(t,e,n){e=e||"",n=n||"";const r=el.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(t);if(!o){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o}function un(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){let s=2,l=r.slice(o,o+s).join(n),a=i[l];for(;a===void 0&&r.length>o+s;)s++,l=r.slice(o,o+s).join(n),a=i[l];if(a===void 0)return;if(a===null)return null;if(e.endsWith(l)){if(typeof a=="string")return a;if(l&&typeof a[l]=="string")return a[l]}const u=r.slice(o+s).join(n);return u?un(a,u,n):void 0}i=i[r[o]]}return i}function cn(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Vr extends Rn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l=[e,n];r&&typeof r!="string"&&(l=l.concat(r)),r&&typeof r=="string"&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."));const a=ln(this.data,l);return a||!s||typeof r!="string"?a:un(this.data&&this.data[e]&&this.data[e][n],r,o)}addResource(e,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),Kr(this.data,l,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let a=ln(this.data,l)||{};i?Ji(a,r,o):a={...a,...r},Kr(this.data,l,a),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Yi={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,r,i))}),e}};const Gr={};class fn extends Rn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ja(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tl(e,r,i);if(s&&!l){const a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:o};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(i)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],n),a=l[l.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const d=n.nsSeparator||this.options.nsSeparator;return i?{res:`${a}${d}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:a}:`${a}${d}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:a}:s}const h=this.resolve(e,n);let p=h&&h.res;const T=h&&h.usedKey||s,R=h&&h.exactUsedKey||s,M=Object.prototype.toString.apply(p),L=["[object Number]","[object Function]","[object RegExp]"],$=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,B=!this.i18nFormat||this.i18nFormat.handleAsObject;if(B&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&L.indexOf(M)<0&&!(typeof $=="string"&&M==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const d=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,p,{...n,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(h.res=d,h):d}if(o){const d=M==="[object Array]",j=d?[]:{},I=d?R:T;for(const A in p)if(Object.prototype.hasOwnProperty.call(p,A)){const N=`${I}${o}${A}`;j[A]=this.translate(N,{...n,joinArrays:!1,ns:l}),j[A]===N&&(j[A]=p[A])}p=j}}else if(B&&typeof $=="string"&&M==="[object Array]")p=p.join($),p&&(p=this.extendTranslation(p,e,n,r));else{let d=!1,j=!1;const I=n.count!==void 0&&typeof n.count!="string",A=fn.hasDefaultValue(n),N=I?this.pluralResolver.getSuffix(u,n.count,n):"",v=n.ordinal&&I?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",O=n[`defaultValue${N}`]||n[`defaultValue${v}`]||n.defaultValue;!this.isValidLookup(p)&&A&&(d=!0,p=O),this.isValidLookup(p)||(j=!0,p=s);const y=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:p,E=A&&O!==p&&this.options.updateMissing;if(j||d||E){if(this.logger.log(E?"updateKey":"missingKey",u,a,s,E?O:p),o){const V=this.resolve(s,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let V=0;V<z.length;V++)k.push(z[V]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(n.lng||this.language):k.push(n.lng||this.language);const J=(V,P,m)=>{const D=A&&m!==p?m:y;this.options.missingKeyHandler?this.options.missingKeyHandler(V,a,P,D,E,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,a,P,D,E,n),this.emit("missingKey",V,a,P,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?k.forEach(V=>{this.pluralResolver.getSuffixes(V,n).forEach(P=>{J([V],s+P,n[`defaultValue${P}`]||O)})}):J(k,s,O))}p=this.extendTranslation(p,e,n,h,r),j&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${a}:${s}`),(j||d)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${s}`:s,d?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(h.res=p,h):p}extendTranslation(e,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const p=e.match(this.interpolator.nestingRegexp);c=p&&p.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),u){const p=e.match(this.interpolator.nestingRegexp),T=p&&p.length;c<T&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,T=new Array(p),R=0;R<p;R++)T[R]=arguments[R];return o&&o[0]===T[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):s.translate(...T,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,a=typeof l=="string"?[l]:l;return e!=null&&a&&a.length&&r.applyPostProcessor!==!1&&(e=Yi.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,l;return typeof e=="string"&&(e=[e]),e.forEach(a=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(a,n),c=u.key;i=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",T=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),R=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",M=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(L=>{this.isValidLookup(r)||(l=L,!Gr[`${M[0]}-${L}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Gr[`${M[0]}-${L}`]=!0,this.logger.warn(`key "${i}" for languages "${M.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach($=>{if(this.isValidLookup(r))return;s=$;const B=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(B,c,$,L,n);else{let d;p&&(d=this.pluralResolver.getSuffix($,n.count,n));const j=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(B.push(c+d),n.ordinal&&d.indexOf(I)===0&&B.push(c+d.replace(I,this.options.pluralSeparator)),T&&B.push(c+j)),R){const A=`${c}${this.options.contextSeparator}${n.context}`;B.push(A),p&&(B.push(A+d),n.ordinal&&d.indexOf(I)===0&&B.push(A+d.replace(I,this.options.pluralSeparator)),T&&B.push(A+j))}}let q;for(;q=B.pop();)this.isValidLookup(r)||(o=q,r=this.getResource($,L,q,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function An(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Jr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qe.create("languageUtils")}getScriptPartFromCode(e){if(e=cn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=cn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=An(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=An(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=An(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&o.indexOf(i)===0)return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let nl=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],rl={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const il=["v1","v2","v3"],ol=["v4"],Yr={zero:0,one:1,two:2,few:3,many:4,other:5};function sl(){const t={};return nl.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:rl[e.fc]}})}),t}class al{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=qe.create("pluralResolver"),(!this.options.compatibilityJSON||ol.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sl()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(cn(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Yr[i]-Yr[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!il.includes(this.options.compatibilityJSON)}}function Xr(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Xa(t,e,n);return!o&&i&&typeof n=="string"&&(o=un(t,n,r),o===void 0&&(o=un(e,n,r))),o}class ll{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qe.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Za,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ht(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ht(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ht(n.nestingPrefix):n.nestingPrefixEscaped||ht("$t("),this.nestingSuffix=n.nestingSuffix?ht(n.nestingSuffix):n.nestingSuffixEscaped||ht(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,i){let o,s,l;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(R){return R.replace(/\$/g,"$$$$")}const c=R=>{if(R.indexOf(this.formatSeparator)<0){const B=Xr(n,a,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,r,{...i,...n,interpolationkey:R}):B}const M=R.split(this.formatSeparator),L=M.shift().trim(),$=M.join(this.formatSeparator).trim();return this.format(Xr(n,a,L,this.options.keySeparator,this.options.ignoreJSONStructure),$,r,{...i,...n,interpolationkey:L})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>u(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?u(this.escape(R)):u(R)}].forEach(R=>{for(l=0;o=R.regex.exec(e);){const M=o[1].trim();if(s=c(M),s===void 0)if(typeof h=="function"){const $=h(e,o,i);s=typeof $=="string"?$:""}else if(i&&Object.prototype.hasOwnProperty.call(i,M))s="";else if(p){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=qr(s));const L=R.safeValue(s);if(e=e.replace(o[0],L),p?(R.regex.lastIndex+=s.length,R.regex.lastIndex-=o[0].length):R.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function l(a,u){const c=this.nestingOptionsSeparator;if(a.indexOf(c)<0)return a;const h=a.split(new RegExp(`${c}[ ]*{`));let p=`{${h[1]}`;a=h[0],p=this.interpolate(p,s);const T=p.match(/'/g),R=p.match(/"/g);(T&&T.length%2===0&&!R||R.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),u&&(s={...u,...s})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,M),`${a}${c}${p}`}return delete s.defaultValue,a}for(;i=this.nestingRegexp.exec(e);){let a=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),a=c,u=!0}if(o=n(l.call(this,i[1].trim(),s),s),o&&i[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=qr(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),u&&(o=a.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}function ul(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(!s)return;const[l,...a]=s.split(":"),u=a.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=u),u==="false"&&(n[l.trim()]=!1),u==="true"&&(n[l.trim()]=!0),isNaN(u)||(n[l.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function pt(t){const e={};return function(r,i,o){const s=i+JSON.stringify(o);let l=e[s];return l||(l=t(cn(i),o),e[s]=l),l(r)}}class cl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qe.create("formatter"),this.options=e,this.formats={number:pt((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:pt((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:pt((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:pt((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:pt((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=pt(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,a)=>{const{formatName:u,formatOptions:c}=ul(a);if(this.formats[u]){let h=l;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},T=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[u](l,T,{...c,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}function fl(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class dl extends Rn{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const o={},s={},l={},a={};return e.forEach(u=>{let c=!0;n.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,c=!1,s[p]===void 0&&(s[p]=!0),o[p]===void 0&&(o[p]=!0),a[h]===void 0&&(a[h]=!0)))}),c||(l[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(a)}}loaded(e,n,r){const i=e.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),r&&this.store.addResourceBundle(o,s,r),this.state[e]=n?-1:2;const l={};this.queue.forEach(a=>{Ya(a.loaded,[o],s),fl(a,e),n&&a.errors.push(n),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(u=>{l[u]||(l[u]={});const c=a.loaded[u];c.length&&c.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(a=>!a.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const l=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,s)},o);return}s(u,c)},a=this.backend[r].bind(this.backend);if(a.length===2){try{const u=a(e,n);u&&typeof u.then=="function"?u.then(c=>l(null,c)).catch(l):l(null,u)}catch(u){l(u)}return}return a(e,n,l)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&l&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const a={...s,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,i,a):c=u(e,n,r,i),c&&typeof c.then=="function"?c.then(h=>l(null,h)).catch(l):l(null,c)}catch(c){l(c)}else u(e,n,r,i,l,a)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function Qr(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Zr(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Zt(){}function hl(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class zt extends Rn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Zr(e),this.services={},this.logger=qe,this.modules={external:[]},hl(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Qr();this.options={...i,...this.options,...Zr(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?qe.init(o(this.modules.logger),this.options):qe.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=cl);const h=new Jr(this.options);this.store=new Vr(this.options.resources,this.options);const p=this.services;p.logger=qe,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new al(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=o(c),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new ll(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new dl(o(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(T){for(var R=arguments.length,M=new Array(R>1?R-1:0),L=1;L<R;L++)M[L-1]=arguments[L];e.emit(T,...M)}),this.modules.languageDetector&&(p.languageDetector=o(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=o(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new fn(this.services,this.options),this.translator.on("*",function(T){for(var R=arguments.length,M=new Array(R>1?R-1:0),L=1;L<R;L++)M[L-1]=arguments[L];e.emit(T,...M)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Zt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const a=kt(),u=()=>{const c=(h,p)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),a}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zt;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const o=[],s=l=>{if(!l)return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>s(a)),this.options.preload&&this.options.preload.forEach(l=>s(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const i=kt();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Zt),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Yi.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=kt();this.emit("languageChanging",e);const o=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(a,function(){return r.t(...arguments)})},l=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const u=typeof a=="string"?a:this.services.languageUtils.getBestMatchFromCodes(a);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,n,r){var i=this;const o=function(s,l){let a;if(typeof l!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];a=i.options.overloadTranslationOptionHandler([s,l].concat(c))}else a={...l};a.lng=a.lng||o.lng,a.lngs=a.lngs||o.lngs,a.ns=a.ns||o.ns,a.keyPrefix=a.keyPrefix||r||o.keyPrefix;const p=i.options.keySeparator||".";let T;return a.keyPrefix&&Array.isArray(s)?T=s.map(R=>`${a.keyPrefix}${p}${R}`):T=a.keyPrefix?`${a.keyPrefix}${p}${s}`:s,i.t(T,a)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,a)=>{const u=this.services.backendConnector.state[`${l}|${a}`];return u===-1||u===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,n){const r=kt();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=kt();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Jr(Qr());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new zt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zt;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new zt(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new Vr(this.store.data,i),o.services.resourceStore=o.store),o.translator=new fn(o.services,i),o.translator.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];o.emit(l,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _e=zt.createInstance();_e.createInstance=zt.createInstance;_e.createInstance;_e.dir;_e.init;_e.loadResources;_e.reloadResources;_e.use;_e.changeLanguage;_e.getFixedT;_e.t;_e.exists;_e.setDefaultNamespace;_e.hasLoadedNamespace;_e.loadNamespaces;_e.loadLanguages;const pl={language:"ENGLISH",theme:{light:"LIGHT",dark:"DARK"}},gl={history:"History",findDep:"Find Dependency",searchDeps:"Search dependencies",upload:"Upload package.json File",drag:" Drag and drop .json files here, or click to select files",format:"Only *.json file will be accepted"},ml={title:"DepSpy",depth:"depth",export:"Export",fileType:"export file type",select:"Select",maxDepth:"Max Depth",expand:"Expand",collapse:"Collapse",dependences:"-dependences-analysis",alertexp:"Please select the export file type first!",jsonexp:"JSON data is null!",rectTree:"Chart treemap",plainTree:"Decision tree"},vl={search:{title:"SEARCH",find:"FIND MODULE",results:"SIMILAR SEARCH RESULTS",mainpage:"MAIN PAGE"},list:{title:"LIST",selected:"SELECTED",management:"DISPLAY MANAGEMENT",devDep:"Include devDependencies",display:"display by",structure:"MODULE STRUCTURE",circular:"CIRCULAR DEPENDENCY",duplicated:"DUPLICATED DEPENDENCY"},module:{title:"MODULE",information:"MODULE INFORMATION",description:"DESCRIPTION",size:"BUNDLE SIZE",graph:"BUNDLE GRAPH",source:"Data source",cache:"DUPLICATED DEPENDENCY",dependencies:"DEPENDENCIES COUNT",circlePath:"CIRCULAR DEPENDENCY"}},yl={tip:"Loading, please be patient 😇"},xl={mode:pl,search:gl,section:ml,aside:vl,skeleton:yl},bl={language:"中文",theme:{light:"明亮模式",dark:"暗黑模式"}},Sl={history:"历史记录",findDep:"搜索依赖",searchDeps:"输入依赖名",upload:"上传包文件",drag:"点击或拖动文件到此处进行上传",format:"只接受上传*.json文件"},wl={title:"依赖间谍",depth:"深度",export:"导出",fileType:"文件类型",select:"选择",maxDepth:"最大深度",expand:"展开",collapse:"折叠",dependences:"-依赖分析",alertexp:"请先选择导出文件类型!",jsonexp:"JSON数据为空!",rectTree:"矩形树图",plainTree:"树图"},Ol={search:{title:"搜索",find:"搜索依赖",results:"相似搜索结果",mainpage:"返回主页"},list:{title:"列表",selected:"选中",management:"展示管理",devDep:"包括开发环境依赖",display:"展示方式",structure:"模块结构",circular:"循环依赖",duplicated:"重复依赖"},module:{title:"依赖",information:"依赖信息",description:"简介",size:"依赖大小",graph:"体积图表",source:"数据源",cache:"相同依赖",dependencies:"依赖个数",circlePath:"循环依赖"}},El={tip:"加载中，请耐心等待 😇"},Cl={mode:bl,search:Sl,section:wl,aside:Ol,skeleton:El};_e.use(Ba).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!0},resources:{en:{translation:xl},zh:{translation:Cl}}});function Gt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Xi={exports:{}},Qi={},Zi={exports:{}},eo={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=x;function Rl(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jl=typeof Object.is=="function"?Object.is:Rl,Pl=wt.useState,Dl=wt.useEffect,Il=wt.useLayoutEffect,Nl=wt.useDebugValue;function _l(t,e){var n=e(),r=Pl({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Il(function(){i.value=n,i.getSnapshot=e,Fn(i)&&o({inst:i})},[t,n,e]),Dl(function(){return Fn(i)&&o({inst:i}),t(function(){Fn(i)&&o({inst:i})})},[t]),Nl(n),n}function Fn(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jl(t,n)}catch{return!0}}function Tl(t,e){return e()}var Ll=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tl:_l;eo.useSyncExternalStore=wt.useSyncExternalStore!==void 0?wt.useSyncExternalStore:Ll;Zi.exports=eo;var kl=Zi.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=x,Al=kl;function Fl(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ml=typeof Object.is=="function"?Object.is:Fl,$l=Al.useSyncExternalStore,Ul=jn.useRef,Hl=jn.useEffect,zl=jn.useMemo,Bl=jn.useDebugValue;Qi.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Ul(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=zl(function(){function a(T){if(!u){if(u=!0,c=T,T=r(T),i!==void 0&&s.hasValue){var R=s.value;if(i(R,T))return h=R}return h=T}if(R=h,Ml(c,T))return R;var M=r(T);return i!==void 0&&i(R,M)?R:(c=T,h=M)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return a(e())},p===null?void 0:function(){return a(p())}]},[e,n,r,i]);var l=$l(t,o[0],o[1]);return Hl(function(){s.hasValue=!0,s.value=l},[l]),Bl(l),l};Xi.exports=Qi;var Wl=Xi.exports;const ql=yn(Wl),ei=t=>{let e;const n=new Set,r=(a,u)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const h=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(p=>p(e,h))}},i=()=>e,l={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,l),l},Kl=t=>t?ei(t):ei,{useSyncExternalStoreWithSelector:Vl}=ql;function Gl(t,e=t.getState,n){const r=Vl(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return x.useDebugValue(r),r}const ti=(t,e)=>{const n=Kl(t),r=(i,o=e)=>Gl(n,i,o);return Object.assign(r,n),r},to=(t,e)=>t?ti(t,e):ti,Jl=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,l,a)=>{let u=s;if(l){const c=(a==null?void 0:a.equalityFn)||Object.is;let h=s(r.getState());u=p=>{const T=s(p);if(!c(h,T)){const R=h;l(h=T,R)}},a!=null&&a.fireImmediately&&l(h,h)}return i(u)},t(e,n,r)},no=Jl,Yl=(t,e)=>{const n=[t],r=[];for(;n.length>0;){const i=n.shift();i.name.includes(e)&&r.push(i);const o=Object.entries(i.dependencies).map(s=>s[1]);n.push(...o)}if(r.length<=10)return r;for(let i=r.length-1;i>0;i--){const o=Math.floor(Math.random()*(i+1));[r[i],r[o]]=[r[o],r[i]]}return r.slice(0,10)},ni=(t,e=[])=>{let n=t;for(let r=1;r<e.length;r++){if(!(n!=null&&n.dependencies[e[r]]))return n;n=n.dependencies[e[r]]}return n};async function Xl(t,e){return await t.ensureGraph(),{root:await t.getGraph(),codependency:await t.getCodependency(),circularDependency:await t.getCircularDependency(),depth:e,selectedNode:await t.getGraph(),selectedCodependency:[],selectedCircularDependency:null,sizeRoot:await t.getGraph(),selectedSizeNode:await t.getGraph()}}const ae=to()(no(t=>({theme:localStorage.getItem("theme")||"dark",language:localStorage.getItem("language")||"en",info:"",sizeTree:!1,sizeLoading:!0,rootLoading:!0,root:null,sizeRoot:null,depth:3,collapse:!0,codependency:{},circularDependency:[],selectedNode:null,selectedSizeNode:null,selectedCodependency:[],selectedCircularDependency:null,selectedNodeHistory:[],setRoot:e=>t({root:e}),setSizeRoot:e=>t({sizeRoot:e}),setDepth:e=>t({depth:e}),setInfo:e=>t({info:e}),setSizeTree:e=>t({sizeTree:e}),setSizeLoading:e=>t({sizeLoading:e}),setRootLoading:e=>t({rootLoading:e}),setSelectNode:e=>{const{setSelectNodeHistory:n}=ae.getState();n(e),t({selectedNode:e});const r=ni(ae.getState().sizeRoot,e.path);t({selectedSizeNode:r})},setSelectSizeNode:e=>{t({selectedSizeNode:e});const{setSelectNodeHistory:n}=ae.getState();delete e.size,t({selectedNode:e}),n(e)},setSelectCodependency:e=>t({selectedCodependency:e}),setSelectCircularDependency:e=>t({selectedCircularDependency:e}),searchNode:Yl,setCollapse:e=>t({collapse:e}),setTheme:e=>{localStorage.setItem("theme",e==="light"?"dark":"light"),t({theme:e==="light"?"dark":"light"})},setLanguage:e=>{localStorage.setItem("language",e),t({language:e})},setGraphRes:async(e,n)=>{const r=Si(e,{depth:n}),i=await Xl(r,n);t(i)},setSelectNodeHistory:e=>{const{selectedNodeHistory:n}=ae.getState();n[n.length-1]!==e&&(n.length<10?t({selectedNodeHistory:[...n,e]}):n.length>=10&&t({selectedNodeHistory:[...n.slice(1),e]}))},setPreSelectNode:()=>{const{selectedNodeHistory:e}=ae.getState();if(e.length>1){const n=e[e.length-2],r=ni(ae.getState().sizeRoot,n.path);t({selectedNode:n,selectedSizeNode:r,selectedNodeHistory:e.slice(0,e.length-1)})}}})),Gt),ro=to()(no(t=>({staticRootLoading:!0,staticRoot:null,setStaticRoot:e=>t({staticRoot:e}),setStaticRootLoading:e=>t({staticRootLoading:e})})),Gt),Le=()=>{const{language:t,setLanguage:e}=ae(s=>s),{t:n,i18n:r}=Va();function i(){const l=t==="zh"?"en":"zh";e(l),r.changeLanguage(l)}function o(){const s=localStorage.getItem("language");s&&(e(s),r.changeLanguage(s))}return{t:n,toggleLanguage:i,initLanguage:o}},Pt=ve.createContext({info:"",history:[],t:t=>"",toggleLanguage:()=>{},onHistoryUpdate:t=>{},onClearHistory:()=>{}}),Ql=t=>{const[e,n]=x.useState([]),[r,i]=x.useState(""),{t:o,toggleLanguage:s}=Le(),l=u=>{const c=[u,...e.filter(h=>h!==u)];n(c),localStorage.setItem("suggestionHistory",JSON.stringify(c))};x.useEffect(()=>{const u=localStorage.getItem("suggestionHistory");u&&n(JSON.parse(u))},[]);const a=()=>{localStorage.removeItem("suggestionHistory"),n([])};return f.jsx(Pt.Provider,{value:{info:r,history:e,t:o,toggleLanguage:s,onHistoryUpdate:l,onClearHistory:a},children:t.children})},Zn=async t=>{try{const e=await fetch(`https://api.npms.io/v2/search/suggestions?q=${t}`);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return(await e.json()).slice(0,10).map(i=>({name:i.package.name,version:i.package.version,description:i.package.description}))}catch(e){return console.error("Error fetching package names:",e),[]}};async function Pn(t){const e=await Si(t);console.log(JSON.parse(JSON.stringify(await e.getGraph())))}var Zl=typeof global=="object"&&global&&global.Object===Object&&global;const eu=Zl;var tu=typeof self=="object"&&self&&self.Object===Object&&self,nu=eu||tu||Function("return this")();const io=nu;var ru=io.Symbol;const dn=ru;var oo=Object.prototype,iu=oo.hasOwnProperty,ou=oo.toString,At=dn?dn.toStringTag:void 0;function su(t){var e=iu.call(t,At),n=t[At];try{t[At]=void 0;var r=!0}catch{}var i=ou.call(t);return r&&(e?t[At]=n:delete t[At]),i}var au=Object.prototype,lu=au.toString;function uu(t){return lu.call(t)}var cu="[object Null]",fu="[object Undefined]",ri=dn?dn.toStringTag:void 0;function du(t){return t==null?t===void 0?fu:cu:ri&&ri in Object(t)?su(t):uu(t)}function hu(t){return t!=null&&typeof t=="object"}var pu="[object Symbol]";function gu(t){return typeof t=="symbol"||hu(t)&&du(t)==pu}var mu=/\s/;function vu(t){for(var e=t.length;e--&&mu.test(t.charAt(e)););return e}var yu=/^\s+/;function xu(t){return t&&t.slice(0,vu(t)+1).replace(yu,"")}function er(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ii=0/0,bu=/^[-+]0x[0-9a-f]+$/i,Su=/^0b[01]+$/i,wu=/^0o[0-7]+$/i,Ou=parseInt;function oi(t){if(typeof t=="number")return t;if(gu(t))return ii;if(er(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=er(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xu(t);var n=Su.test(t);return n||wu.test(t)?Ou(t.slice(2),n?2:8):bu.test(t)?ii:+t}var Eu=function(){return io.Date.now()};const Mn=Eu;var Cu="Expected a function",Ru=Math.max,ju=Math.min;function Pu(t,e,n){var r,i,o,s,l,a,u=0,c=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(Cu);e=oi(e)||0,er(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Ru(oi(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function T(I){var A=r,N=i;return r=i=void 0,u=I,s=t.apply(N,A),s}function R(I){return u=I,l=setTimeout($,e),c?T(I):s}function M(I){var A=I-a,N=I-u,v=e-A;return h?ju(v,o-N):v}function L(I){var A=I-a,N=I-u;return a===void 0||A>=e||A<0||h&&N>=o}function $(){var I=Mn();if(L(I))return B(I);l=setTimeout($,M(I))}function B(I){return l=void 0,p&&r?T(I):(r=i=void 0,s)}function q(){l!==void 0&&clearTimeout(l),u=0,r=a=i=l=void 0}function d(){return l===void 0?s:B(Mn())}function j(){var I=Mn(),A=L(I);if(r=arguments,i=this,a=I,A){if(l===void 0)return R(a);if(h)return clearTimeout(l),l=setTimeout($,e),T(a)}return l===void 0&&(l=setTimeout($,e)),s}return j.cancel=q,j.flush=d,j}const Du=({onShowButton:t,onHideButton:e,onNewValue:n})=>{const r=x.useContext(Pt),i=dt(),o=ae(A=>A.setInfo);let s=!1;const l=r.t("mode.language"),[a,u]=x.useState(""),[c,h]=x.useState([]),[p,T]=x.useState(-1),R=A=>{r.onHistoryUpdate(A),Pn(A),i(`/analyze?q=${A}`),o(A)},M=async({value:A})=>{const N=A.trim().toLowerCase();try{const v=await Zn(N);v.length===0?t():e(),h(v)}catch(v){console.error("Error fetching suggestions:",v)}},L=x.useRef(Pu(M,600)).current;x.useEffect(()=>()=>{L.cancel()},[L]);const $=()=>{h([])},B=(A,{suggestion:N})=>{const v=N.name;u(v),T(-1),t(),s=!0,R(v)},q=A=>A,d=(A,N)=>{const v=N?`${Ue.suggestion} ${Ue.selected}`:Ue.suggestion;return f.jsxs("div",{className:v,children:[f.jsxs("div",{className:Ue.leftsection,children:[f.jsx("div",{className:Ue.name,children:A.name}),f.jsx("div",{className:Ue.description,children:A.description})]}),f.jsx("div",{className:Ue.version,children:A.version})]})},j={placeholder:l==="ENGLISH"?"Search dependencies":"请输入依赖名",value:a,onChange:async(A,{newValue:N,method:v})=>{v==="type"?(n(N),u(N),N.trim()===""?t():e()):v==="up"?p>0&&T(p-1):v==="down"&&p<c.length-1&&T(p+1)},onBlur:()=>{t()},onKeyDown:async A=>{if(A.key==="Enter"&&!s){const N=a.trim().toLowerCase();if(N===""){console.log("Can't search empty dependency");return}if((await Zn(N)).length!==0)R(N);else{console.log("Non-exist dependency, please search another one.");return}}else A.key==="Escape"&&t();s=!1}},I=A=>f.jsxs("div",{className:Ue.inputlayout,children:[f.jsx("div",{className:Ue["i-ic-round-search"]}),f.jsx("input",{...A})]});return f.jsx("div",{className:Ue.mainpage,children:f.jsx(xa,{theme:Ue,suggestions:c,onSuggestionsFetchRequested:L,onSuggestionsClearRequested:$,onSuggestionSelected:B,getSuggestionValue:q,renderInputComponent:I,renderSuggestion:(A,{isHighlighted:N})=>d(A,N),inputProps:j})})};function Iu({title:t,description:e,back:n}){const[r,i]=x.useState(!0);return x.useEffect(()=>{const o=setTimeout(()=>{i(!1),n()},3e3);return()=>clearTimeout(o)},[]),f.jsx("div",{className:`fixed top-10 z-50 bg-bg-layout text-text rounded-3 w-80 ${r?"animate-fade-in-down":"animate-fade-out-up"}`,children:f.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("div",{className:"w-8 h-4 bg-primary-base rounded-full"}),f.jsx("div",{className:"text-sm text-primary-base",children:t})]}),f.jsx("div",{className:"text-sm",children:e})]})})}const Nu=({onDisplayDragAndDrop:t,newValue:e})=>{const n=dt(),r=x.useContext(Pt),i=ae(a=>a.setInfo),[o,s]=ve.useState(!1),l=async()=>{const a=e.trim().toLowerCase();if(a===""){s(!0);return}if((await Zn(a)).length!==0)i(a),r.onHistoryUpdate(a),Pn(a),n(`/analyze?q=${a}`);else{console.log("Non-exist dependency, please search another one.");return}};return f.jsxs("div",{className:"button-area",children:[o&&f.jsx(Iu,{title:"Error",description:"Please enter a valid package name",back:()=>s(!1)}),f.jsxs("div",{className:"button-container",children:[f.jsx("button",{className:"button-large-important",onClick:l,children:r.t("search.findDep")}),f.jsx("button",{className:"button-large-default",onClick:t,children:r.t("search.upload")})]})]})},_u=({onDisplayDragAndDrop:t})=>{const[e,n]=x.useState(!0),[r,i]=x.useState(""),o=a=>{i(a)},s=()=>{n(!0)},l=()=>{n(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(Du,{onShowButton:s,onHideButton:l,onNewValue:o}),e&&f.jsx(Nu,{onDisplayDragAndDrop:t,newValue:r})]})};const Tu=({onDisplayHistory:t})=>{const e=x.useContext(Pt),n=e.history,r=dt(),i=ae(s=>s.setInfo),o=s=>{Pn(s),i(s),r(`/analyze?q=${s}`)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"panel",children:[f.jsx("div",{className:"panel-header",children:f.jsxs("div",{className:"header-content",children:[f.jsx("p",{className:"header-title",children:e.t("search.history")}),f.jsx("button",{className:"i-ic-outline-delete-sweep",onClick:e.onClearHistory})]})}),f.jsx("div",{className:"history-panel",children:f.jsx("ul",{children:n.map(s=>f.jsx("li",{onClick:()=>o(s),children:s},s))})})]}),f.jsx("div",{className:"overlay",onClick:t})]})},Lu=()=>{const[t,e]=x.useState(!1),n=x.useContext(Pt),r=n.t("mode.language"),i=()=>{e(!t)},{theme:o,setTheme:s}=ae(),l=()=>{s(o)};return f.jsx("header",{className:"header",children:f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("button",{className:"i-carbon-logo-github text-icon h-24px w-24px hover:text-icon-hover m-2",onClick:()=>{window.open("https://github.com/DepSpy/depspy","_blank")}})}),f.jsx("li",{children:f.jsx("button",{className:`i-icon-park-outline-${r==="ENGLISH"?"english":"chinese"}`,onClick:n.toggleLanguage})}),f.jsx("li",{children:f.jsx("button",{className:`i-ic-baseline-${o}-mode`,onClick:l})}),f.jsxs("li",{children:[f.jsx("button",{className:"i-ic-baseline-history",onClick:i}),t&&f.jsx(Tu,{onDisplayHistory:i})]})]})})};const ku=t=>f.jsxs("div",{children:[f.jsx(Lu,{}),f.jsx("main",{className:"main",children:t.children})]});var Au=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Jt(t,e){var n=Fu(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Fu(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Au.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var Mu=[".DS_Store","Thumbs.db"];function $u(t){return Ct(this,void 0,void 0,function(){return Rt(this,function(e){return hn(t)&&Uu(t.dataTransfer)?[2,Wu(t.dataTransfer,t.type)]:Hu(t)?[2,zu(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Bu(t)]:[2,[]]})})}function Uu(t){return hn(t)}function Hu(t){return hn(t)&&hn(t.target)}function hn(t){return typeof t=="object"&&t!==null}function zu(t){return tr(t.target.files).map(function(e){return Jt(e)})}function Bu(t){return Ct(this,void 0,void 0,function(){var e;return Rt(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Jt(r)})]}})})}function Wu(t,e){return Ct(this,void 0,void 0,function(){var n,r;return Rt(this,function(i){switch(i.label){case 0:return t.items?(n=tr(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(qu))]):[3,2];case 1:return r=i.sent(),[2,si(so(r))];case 2:return[2,si(tr(t.files).map(function(o){return Jt(o)}))]}})})}function si(t){return t.filter(function(e){return Mu.indexOf(e.name)===-1})}function tr(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function qu(t){if(typeof t.webkitGetAsEntry!="function")return ai(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?ao(e):ai(t)}function so(t){return t.reduce(function(e,n){return xr(xr([],br(e),!1),br(Array.isArray(n)?so(n):[n]),!1)},[])}function ai(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=Jt(e);return Promise.resolve(n)}function Ku(t){return Ct(this,void 0,void 0,function(){return Rt(this,function(e){return[2,t.isDirectory?ao(t):Vu(t)]})})}function ao(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(l){return Ct(s,void 0,void 0,function(){var a,u,c;return Rt(this,function(h){switch(h.label){case 0:if(l.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return a=h.sent(),n(a),[3,4];case 3:return u=h.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(l.map(Ku)),i.push(c),o(),h.label=6;case 6:return[2]}})})},function(l){r(l)})}o()})}function Vu(t){return Ct(this,void 0,void 0,function(){return Rt(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=Jt(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var Gu=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function li(t){return Xu(t)||Yu(t)||uo(t)||Ju()}function Ju(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yu(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xu(t){if(Array.isArray(t))return nr(t)}function ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ui(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t,e){return ec(t)||Zu(t,e)||uo(t,e)||Qu()}function Qu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uo(t,e){if(t){if(typeof t=="string")return nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(t,e)}}function nr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zu(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function ec(t){if(Array.isArray(t))return t}var tc="file-invalid-type",nc="file-too-large",rc="file-too-small",ic="too-many-files",oc=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:tc,message:"File type must be ".concat(n)}},fi=function(e){return{code:nc,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},di=function(e){return{code:rc,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},sc={code:ic,message:"Too many files"};function co(t,e){var n=t.type==="application/x-moz-file"||Gu(t,e);return[n,n?null:oc(e)]}function fo(t,e,n){if(ut(t.size))if(ut(e)&&ut(n)){if(t.size>n)return[!1,fi(n)];if(t.size<e)return[!1,di(e)]}else{if(ut(e)&&t.size<e)return[!1,di(e)];if(ut(n)&&t.size>n)return[!1,fi(n)]}return[!0,null]}function ut(t){return t!=null}function ac(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var u=co(a,n),c=Bt(u,1),h=c[0],p=fo(a,r,i),T=Bt(p,1),R=T[0],M=l?l(a):null;return h&&R&&!M})}function pn(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function en(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function hi(t){t.preventDefault()}function lc(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function uc(t){return t.indexOf("Edge/")!==-1}function cc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return lc(t)||uc(t)}function Be(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(l){return!pn(r)&&l&&l.apply(void 0,[r].concat(o)),pn(r)})}}function fc(){return"showOpenFilePicker"in window}function dc(t){if(ut(t)){var e=Object.entries(t).filter(function(n){var r=Bt(n,2),i=r[0],o=r[1],s=!0;return ho(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(po))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=Bt(r,2),o=i[0],s=i[1];return ci(ci({},n),{},lo({},o,s))},{});return[{description:"Files",accept:e}]}return t}function hc(t){if(ut(t))return Object.entries(t).reduce(function(e,n){var r=Bt(n,2),i=r[0],o=r[1];return[].concat(li(e),[i],li(o))},[]).filter(function(e){return ho(e)||po(e)}).join(",")}function pc(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function gc(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function ho(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function po(t){return/^.*\.[\w]+$/.test(t)}var mc=["children"],vc=["open"],yc=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],xc=["refKey","onChange","onClick"];function bc(t){return Oc(t)||wc(t)||go(t)||Sc()}function Sc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wc(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oc(t){if(Array.isArray(t))return rr(t)}function $n(t,e){return Rc(t)||Cc(t,e)||go(t,e)||Ec()}function Ec(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function go(t,e){if(t){if(typeof t=="string")return rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(t,e)}}function rr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function Rc(t){if(Array.isArray(t))return t}function pi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pi(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gn(t,e){if(t==null)return{};var n=jc(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fr=x.forwardRef(function(t,e){var n=t.children,r=gn(t,mc),i=vo(r),o=i.open,s=gn(i,vc);return x.useImperativeHandle(e,function(){return{open:o}},[o]),ve.createElement(x.Fragment,null,n(xe(xe({},s),{},{open:o})))});fr.displayName="Dropzone";var mo={disabled:!1,getFilesFromEvent:$u,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};fr.defaultProps=mo;fr.propTypes={children:pe.func,accept:pe.objectOf(pe.arrayOf(pe.string)),multiple:pe.bool,preventDropOnDocument:pe.bool,noClick:pe.bool,noKeyboard:pe.bool,noDrag:pe.bool,noDragEventsBubbling:pe.bool,minSize:pe.number,maxSize:pe.number,maxFiles:pe.number,disabled:pe.bool,getFilesFromEvent:pe.func,onFileDialogCancel:pe.func,onFileDialogOpen:pe.func,useFsAccessApi:pe.bool,autoFocus:pe.bool,onDragEnter:pe.func,onDragLeave:pe.func,onDragOver:pe.func,onDrop:pe.func,onDropAccepted:pe.func,onDropRejected:pe.func,onError:pe.func,validator:pe.func};var or={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function vo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=xe(xe({},mo),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,l=e.multiple,a=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,h=e.onDragOver,p=e.onDrop,T=e.onDropAccepted,R=e.onDropRejected,M=e.onFileDialogCancel,L=e.onFileDialogOpen,$=e.useFsAccessApi,B=e.autoFocus,q=e.preventDropOnDocument,d=e.noClick,j=e.noKeyboard,I=e.noDrag,A=e.noDragEventsBubbling,N=e.onError,v=e.validator,O=x.useMemo(function(){return hc(n)},[n]),b=x.useMemo(function(){return dc(n)},[n]),y=x.useMemo(function(){return typeof L=="function"?L:gi},[L]),E=x.useMemo(function(){return typeof M=="function"?M:gi},[M]),k=x.useRef(null),z=x.useRef(null),J=x.useReducer(Pc,or),V=$n(J,2),P=V[0],m=V[1],D=P.isFocused,_=P.isFileDialogActive,g=x.useRef(typeof window<"u"&&window.isSecureContext&&$&&fc()),C=function(){!g.current&&_&&setTimeout(function(){if(z.current){var Q=z.current.files;Q.length||(m({type:"closeDialog"}),E())}},300)};x.useEffect(function(){return window.addEventListener("focus",C,!1),function(){window.removeEventListener("focus",C,!1)}},[z,_,E,g]);var S=x.useRef([]),U=function(Q){k.current&&k.current.contains(Q.target)||(Q.preventDefault(),S.current=[])};x.useEffect(function(){return q&&(document.addEventListener("dragover",hi,!1),document.addEventListener("drop",U,!1)),function(){q&&(document.removeEventListener("dragover",hi),document.removeEventListener("drop",U))}},[k,q]),x.useEffect(function(){return!r&&B&&k.current&&k.current.focus(),function(){}},[k,B,r]);var W=x.useCallback(function(G){N?N(G):console.error(G)},[N]),K=x.useCallback(function(G){G.preventDefault(),G.persist(),Ie(G),S.current=[].concat(bc(S.current),[G.target]),en(G)&&Promise.resolve(i(G)).then(function(Q){if(!(pn(G)&&!A)){var ue=Q.length,ye=ue>0&&ac({files:Q,accept:O,minSize:s,maxSize:o,multiple:l,maxFiles:a,validator:v}),Ce=ue>0&&!ye;m({isDragAccept:ye,isDragReject:Ce,isDragActive:!0,type:"setDraggedFiles"}),u&&u(G)}}).catch(function(Q){return W(Q)})},[i,u,W,A,O,s,o,l,a,v]),Z=x.useCallback(function(G){G.preventDefault(),G.persist(),Ie(G);var Q=en(G);if(Q&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch{}return Q&&h&&h(G),!1},[h,A]),ie=x.useCallback(function(G){G.preventDefault(),G.persist(),Ie(G);var Q=S.current.filter(function(ye){return k.current&&k.current.contains(ye)}),ue=Q.indexOf(G.target);ue!==-1&&Q.splice(ue,1),S.current=Q,!(Q.length>0)&&(m({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),en(G)&&c&&c(G))},[k,c,A]),se=x.useCallback(function(G,Q){var ue=[],ye=[];G.forEach(function(Ce){var ke=co(Ce,O),Me=$n(ke,2),it=Me[0],Qe=Me[1],Ve=fo(Ce,s,o),w=$n(Ve,2),F=w[0],H=w[1],Y=v?v(Ce):null;if(it&&F&&!Y)ue.push(Ce);else{var te=[Qe,H];Y&&(te=te.concat(Y)),ye.push({file:Ce,errors:te.filter(function(ne){return ne})})}}),(!l&&ue.length>1||l&&a>=1&&ue.length>a)&&(ue.forEach(function(Ce){ye.push({file:Ce,errors:[sc]})}),ue.splice(0)),m({acceptedFiles:ue,fileRejections:ye,type:"setFiles"}),p&&p(ue,ye,Q),ye.length>0&&R&&R(ye,Q),ue.length>0&&T&&T(ue,Q)},[m,l,O,s,o,a,p,T,R,v]),de=x.useCallback(function(G){G.preventDefault(),G.persist(),Ie(G),S.current=[],en(G)&&Promise.resolve(i(G)).then(function(Q){pn(G)&&!A||se(Q,G)}).catch(function(Q){return W(Q)}),m({type:"reset"})},[i,se,W,A]),ge=x.useCallback(function(){if(g.current){m({type:"openDialog"}),y();var G={multiple:l,types:b};window.showOpenFilePicker(G).then(function(Q){return i(Q)}).then(function(Q){se(Q,null),m({type:"closeDialog"})}).catch(function(Q){pc(Q)?(E(Q),m({type:"closeDialog"})):gc(Q)?(g.current=!1,z.current?(z.current.value=null,z.current.click()):W(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(Q)});return}z.current&&(m({type:"openDialog"}),y(),z.current.value=null,z.current.click())},[m,y,E,$,se,W,b,l]),we=x.useCallback(function(G){!k.current||!k.current.isEqualNode(G.target)||(G.key===" "||G.key==="Enter"||G.keyCode===32||G.keyCode===13)&&(G.preventDefault(),ge())},[k,ge]),De=x.useCallback(function(){m({type:"focus"})},[]),he=x.useCallback(function(){m({type:"blur"})},[]),Te=x.useCallback(function(){d||(cc()?setTimeout(ge,0):ge())},[d,ge]),Oe=function(Q){return r?null:Q},be=function(Q){return j?null:Oe(Q)},ze=function(Q){return I?null:Oe(Q)},Ie=function(Q){A&&Q.stopPropagation()},nt=x.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=G.refKey,ue=Q===void 0?"ref":Q,ye=G.role,Ce=G.onKeyDown,ke=G.onFocus,Me=G.onBlur,it=G.onClick,Qe=G.onDragEnter,Ve=G.onDragOver,w=G.onDragLeave,F=G.onDrop,H=gn(G,yc);return xe(xe(ir({onKeyDown:be(Be(Ce,we)),onFocus:be(Be(ke,De)),onBlur:be(Be(Me,he)),onClick:Oe(Be(it,Te)),onDragEnter:ze(Be(Qe,K)),onDragOver:ze(Be(Ve,Z)),onDragLeave:ze(Be(w,ie)),onDrop:ze(Be(F,de)),role:typeof ye=="string"&&ye!==""?ye:"presentation"},ue,k),!r&&!j?{tabIndex:0}:{}),H)}},[k,we,De,he,Te,K,Z,ie,de,j,I,r]),rt=x.useCallback(function(G){G.stopPropagation()},[]),Ke=x.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=G.refKey,ue=Q===void 0?"ref":Q,ye=G.onChange,Ce=G.onClick,ke=gn(G,xc),Me=ir({accept:O,multiple:l,type:"file",style:{display:"none"},onChange:Oe(Be(ye,de)),onClick:Oe(Be(Ce,rt)),tabIndex:-1},ue,z);return xe(xe({},Me),ke)}},[z,n,l,de,r]);return xe(xe({},P),{},{isFocused:D&&!r,getRootProps:nt,getInputProps:Ke,rootRef:k,inputRef:z,open:Oe(ge)})}function Pc(t,e){switch(e.type){case"focus":return xe(xe({},t),{},{isFocused:!0});case"blur":return xe(xe({},t),{},{isFocused:!1});case"openDialog":return xe(xe({},or),{},{isFileDialogActive:!0});case"closeDialog":return xe(xe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return xe(xe({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return xe(xe({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return xe({},or);default:return t}}function gi(){}const Dc=({onHideDragAndDrop:t})=>{const e=x.useContext(Pt),n=dt(),r=ae(u=>u.setInfo),{getRootProps:i,getInputProps:o}=vo({accept:{"application/json":["json"]},onDrop:u=>{u.length>0&&a(u[0])},useFsAccessApi:!1}),[s,l]=x.useState(null),a=u=>{const c=new FileReader;c.onload=h=>{var T;const p=(T=h.target)==null?void 0:T.result;try{const R=JSON.parse(p);l(R)}catch(R){console.error("Error parsing JSON:",R)}},c.readAsText(u)};return x.useEffect(()=>{if(s){const u=JSON.stringify(s,null,2);Pn(u),n("/analyze"),r(u)}},[s]),f.jsxs("div",{className:"mainpage",children:[f.jsx("div",{className:"content-area",children:f.jsxs("section",{className:"droparea",children:[f.jsxs("div",{className:"draganddrop-header",children:[f.jsx("p",{className:"title",children:e.t("search.upload")}),f.jsx("button",{className:"i-ic-sharp-close",onClick:t})]}),f.jsxs("div",{...i({className:"border"}),children:[f.jsx("input",{...o()}),f.jsx("div",{className:"i-bi-filetype-json"}),f.jsx("p",{className:"text",children:e.t("search.drag")}),f.jsx("em",{className:"text-type",children:e.t("search.format")})]})]})}),f.jsx("div",{className:"overlay",onClick:t})]})};const Ic="/assets/logo_light_large-051397a3.svg",Nc="/assets/logo_dark_large-fc0933e3.svg",_c=()=>{const{theme:t,setTheme:e}=ae();return f.jsx("div",{className:"logo-area",children:f.jsx("img",{className:"logo-body",src:t==="light"?Ic:Nc,alt:"depspy logo for the search page"})})};function Tc(){const[t,e]=x.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return f.jsx(Ql,{children:f.jsxs("div",{className:"background",children:[f.jsx(ku,{children:null}),f.jsx(_c,{}),!t&&f.jsx(_u,{onDisplayDragAndDrop:n}),t&&f.jsx(Dc,{onHideDragAndDrop:r})]})})}function mn(t,e){const{size:n=16,family:r="Playfair Display"}=e||{},o=document.createElement("canvas").getContext("2d");o.font=`${n}px ${r}`;const s=o.measureText(t),l=Math.abs(s.actualBoundingBoxLeft)+Math.abs(s.actualBoundingBoxRight);return Math.max(s.width,l)}function yo(t,e){if(mn(t)<=e)return t;for(;mn(t.concat("..."))>=e;)t=t.slice(0,-1);return t.concat("...")}function Lc(){return f.jsx(f.Fragment,{children:f.jsxs("svg",{width:0,height:0,children:[f.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("defs",{children:f.jsx("marker",{id:"triangle",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:f.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"rgb(169, 169, 169)"})})})}),f.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("defs",{children:f.jsx("marker",{id:"triangleBlue",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:f.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"rgb(91, 46, 238)"})})})}),f.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("defs",{children:f.jsx("marker",{id:"triangleRed",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:f.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"red"})})})}),f.jsxs("symbol",{viewBox:"0 0 32 32",id:"carbon-subtract-alt",stroke:"transparent",strokeWidth:20,children:[f.jsx("path",{d:"M16 4c6.6 0 12 5.4 12 12s-5.4 12-12 12S4 22.6 4 16S9.4 4 16 4m0-2C8.3 2 2 8.3 2 16s6.3 14 14 14s14-6.3 14-14S23.7 2 16 2z"}),f.jsx("path",{d:"M8 15h16v2H8z"})]}),f.jsxs("symbol",{viewBox:"0 0 32 32",id:"carbon-add-alt",stroke:"transparent",strokeWidth:20,children:[f.jsx("path",{d:"M16 4c6.6 0 12 5.4 12 12s-5.4 12-12 12S4 22.6 4 16S9.4 4 16 4m0-2C8.3 2 2 8.3 2 16s6.3 14 14 14s14-6.3 14-14S23.7 2 16 2z"}),f.jsx("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7z"})]})]})})}function kc({width:t=window.innerWidth},e){const{theme:n,root:r,setSelectNode:i,collapse:o,selectedNode:s,selectedCodependency:l,selectedCircularDependency:a}=ae(d=>({theme:d.theme,root:d.root,setSelectNode:d.setSelectNode,collapse:d.collapse,selectedNode:d.selectedNode,selectedCodependency:d.selectedCodependency,selectedCircularDependency:d.selectedCircularDependency}),Gt),[u,c]=x.useState(()=>[mi(r,o)]),[h,p]=x.useState({}),[T,R]=x.useState([]);x.useEffect(()=>{c([mi(r,o)])},[r,o]);let{current:M}=x.useRef({rootLength:0});x.useEffect(()=>{const{offsetY:d,links:j,rootLength:I}=Ac(u[0]);M.rootLength=I,p(d),R(j)},[u]);const[L,$]=x.useState("");x.useEffect(()=>{a?i({...Ft(a.path,r)}):$("")},[a]),x.useEffect(()=>{if(a&&h[a.path.join()]){const d=[];a.path.some(J=>(d.push(J),J===a.path.at(-1)));const{x:j,y:I,width:A}=h[d.join()],{x:N,y:v,width:O}=h[a.path.join()],b=v+O/2,y=I+A/2,E=N,k=j,z=Lo();z.moveTo(b,E),z.lineTo(y,k),$(z.toString())}else $("")},[h]);const[B,q]=x.useReducer((d,j)=>{const I=Ft(j,u[0]);return d.highlight=!1,I.highlight=!0,c([...u]),I},{});return x.useEffect(()=>{const d=s.path;q(d)},[s]),x.useEffect(()=>{l!=null&&l.length&&(l.forEach(d=>{Ft(d.path,u[0])}),i(l[0]))},[l]),x.useEffect(()=>{const d=wi().scaleExtent([.1,5]).on("zoom",j);function j(I){Oi("#resizing").attr("transform",I.transform)}rn(e.current).call(d).call(d.transform,Hn)},[B]),x.useEffect(()=>{window.addEventListener("resize",Fc(()=>{c(d=>[...d])},500))},[]),f.jsxs(f.Fragment,{children:[f.jsxs("svg",{ref:e,width:t,height:innerHeight,viewBox:`${-t/2}, ${-innerHeight/2}, ${t}, ${innerHeight}`,children:[f.jsx("g",{id:"resizing",fill:"none",children:T.map(d=>{const j=d.source.data.highlight||d.target.data.highlight;return f.jsx("path",{strokeWidth:1.5,markerEnd:j?"url(#triangleBlue)":"url(#triangle)",stroke:j?"rgb(91, 46, 238)":"rgb(167,167,167)",d:ko(Fo).x(I=>I.y).y(I=>I.x)(d)})})}),f.jsxs("g",{fill:"none",id:"resizing",strokeLinejoin:"round",strokeWidth:3,children:[Object.values(h).map(d=>{var S,U;const{width:j,x:I,y:A,depth:N,data:{highlight:v,name:O,declarationVersion:b,version:y,dependencies:E,originDeps:k}}=d,z=`${O}@${b||y}`,J=`${O}@${y}`,P=`${(S=l[0])==null?void 0:S.name}@${(U=l[0])==null?void 0:U.version}`==J,m=`${J}(${b||y})`,D=mn(m),_=yo(z,130),g=mn(_),C=Object.values(k).length?Object.values(E).length?"-":"+":"";return v&&rn(e.current).attr("viewBox",`${A+j/2-innerWidth/2}, ${I-innerHeight/2}, ${innerWidth}, ${innerHeight}`),f.jsxs("g",{cursor:"pointer",transform:`translate(${A+j/2},${I})`,onClick:()=>{i(Ft(d.data.path,r))},children:[f.jsx("g",{children:Object.values(k).length&&N&&f.jsx("g",{fill:d.data.highlight?"rgb(91, 46, 238)":"rgb(167,167,167)",pointerEvents:"auto",transform:`translate(${j/2+2},-32)`,onClick:()=>{const W=Ft(d.data.path,u[0]);C=="+"?W.dependencies=W.originDeps:W.dependencies={},c([...u])},children:C=="+"?f.jsx("use",{href:"#carbon-add-alt",width:25,height:25}):f.jsx("use",{href:"#carbon-subtract-alt",width:25,height:25})})}),f.jsxs("g",{className:"tip",children:[f.jsx("rect",{fill:P?"rgb(91, 46, 238)":"transparent",stroke:v||P?"rgb(91, 46, 238)":"rgb(167,167,167)",strokeWidth:2,width:j,height:30,rx:5,ry:5,transform:`translate(${-j/2},-15)`}),f.jsx("text",{transform:`translate(${-g/2},${6.5})`,stroke:"none",fill:P|n=="dark"?"white":"black",children:_}),f.jsxs("g",{children:[f.jsx("text",{fill:"none",strokeWidth:5,transform:`translate(${-D/2},-20)`,children:m}),f.jsx("text",{stroke:"none",transform:`translate(${-D/2},-20)`,children:m})]})]})]})}),f.jsx("path",{d:L,strokeWidth:2,stroke:"red",markerEnd:"url(#triangleRed)"})]})]}),f.jsx(Lc,{})]})}function Ac(t){const e=Ei(t,l=>Object.values(l.dependencies));let n=0;Ao().nodeSize([50,200])(e),e.eachBefore(l=>{l.depth==0||l.depth==1?(l.offset=150,l.depth||(n=150)):l.offset=l.parent.offset+150,l.width=150});const i={},o=[],s=e.links();s.length||(i[e.data.path.join()]=e);for(let l=0;l<s.length;l++){const a=s[l];if(a.source.depth){const u=a.source.y+a.source.offset,c=a.target.y+a.source.offset;i[a.target.data.path.join()]={...a.target,y:c},a.source={...a.source,y:u},a.target={...a.target,y:c}}else i[a.source.data.path.join()]={...a.source,y:a.source.y-a.source.offset},i[a.target.data.path.join()]={...a.target,y:a.target.y};o.push(a)}return{offsetY:i,links:o,rootLength:n}}function Ft(t,e){if(t.length==1)return e;let n=e,r=e;return t.slice(1).forEach(i=>{n.dependencies[i]||(n.dependencies=n.originDeps),r=n.dependencies[i],n=r}),r}function mi(t,e){let n=1;function r(o){const s={...o,originDeps:{...o.dependencies},dependencies:{...o.dependencies}};n>1&&(s.dependencies={});const l=Object.entries(s.originDeps);n++;for(let a=0;a<l.length;a++){const[u,c]=l[a],h=r(c);(n<=2||!e)&&(s.dependencies[u]=h),s.originDeps[u]=h}return n--,s}return r(t)}const Fc=(t,e=500)=>{let n=null;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}},Mc=x.forwardRef(kc);function $c(){const{t}=Le(),{selectedNode:e}=ae(n=>n);return f.jsxs("div",{className:"treelist-selected-title",children:[f.jsxs("div",{children:[t("aside.list.selected"),":"]}),f.jsxs("div",{children:[e.name,"@",e.declarationVersion||e.version]})]})}function Ot(t,e){if(typeof t!="object"||typeof e!="object"||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]!==e[n])return!1;return!0}function xo({node:t,depth:e,curExpandedHandleSet:n,handleNodeClick:r,selectedNode:i,nodeParents:o}){const[s,l]=x.useState(!1);n=new Set(n);const a=new Set(o);return n.add(u=>l(u)),a.add(t),x.useEffect(()=>{s&&!i.path.includes(t.name)&&l(!1),Ot(t,i)&&n.forEach(u=>u(!0))},[i]),f.jsxs("div",{children:[f.jsxs("div",{className:"select-list-item hover:bg-item-bg-hover",style:{paddingLeft:"0.8rem"},onClick:()=>r(t,n,a),children:[Object.keys(t.dependencies).length!==0?f.jsx("div",{className:"treelist-selected-arc border-border",style:{transform:s?"rotate(90deg)":"rotate(0deg)"}}):f.jsx("div",{style:{marginLeft:"0.8rem"}}),f.jsxs("div",{className:"treelist-selected-name",id:t.name+t.version,style:Ot(t,i)?{color:"var(--color-primary-base)"}:null,children:[t.name,"@",t.declarationVersion||t.version]})]}),Object.keys(t.dependencies).length>0?f.jsx("div",{style:{marginLeft:"1rem",borderLeft:"1px solid var(--color-border)"},children:Object.entries(t.dependencies).map(([u,c])=>f.jsx("div",{style:{display:s?"block":"none"},children:f.jsx(xo,{node:c,depth:e+1,curExpandedHandleSet:n,handleNodeClick:r,selectedNode:i,nodeParents:a},u)}))}):null]})}function Uc({dep:t,selectedNode:e,clickHandler:n}){const[r,i]=x.useState(!1);return f.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[f.jsxs("div",{className:"dep-item",style:Ot(t,e||{})?{backgroundColor:"var(--color-primary-base)",color:"white"}:null,onClick:()=>{n(t)},onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},children:[t.name,"@",t.version]},t.name),r?f.jsxs("div",{className:"dep-item-more",children:[t.name,"@",t.version]}):null]})}function bo({title:t,dependencies:e,selectedNode:n,setFn:r}){function i(s){Ot(s,n||{})?r(null):r(s)}const{t:o}=Le();return f.jsxs("div",{className:"drawer-box",style:{height:t==="Circular Dependency"?"15vh":"25vh"},children:[f.jsx("div",{className:"title",children:o(t==="Circular Dependency"?"aside.list.circular":"aside.list.duplicated")}),f.jsx("div",{className:"content",style:{height:`calc(${t==="Circular Dependency"?"15vh":"25vh"} - 3rem)`},children:e?e.map(s=>f.jsx(Uc,{dep:s,selectedNode:n,clickHandler:i})):null})]})}function Hc(){const{codependency:t,selectedCodependency:e,setSelectCodependency:n}=ae(i=>i),r=x.useMemo(()=>Object.values(t).map(i=>i[0]),[t]);return f.jsx("div",{children:f.jsx(bo,{title:"Duplicated Dependency",dependencies:r,selectedNode:e[0],setFn:i=>{if(i===null){n([]);return}n(t[i.name+i.version])}})})}function zc(){const{circularDependency:t,selectedCircularDependency:e,setSelectCircularDependency:n}=ae(r=>r);return f.jsx("div",{children:f.jsx(bo,{title:"Circular Dependency",dependencies:t,selectedNode:e,setFn:r=>{n(r)}})})}function Bc(){var a;const{root:t,selectedNode:e,setSelectNode:n,codependency:r,circularDependency:i}=ae(u=>u),o=new Set,s=new Set;s.add(t);const l=(u,c,h)=>{if(Ot(u,e)){if(Ot(u,t)||Object.keys(u.dependencies).length===0)return;Array.from(c).pop()(!1);const p=Array.from(h);n(p[p.length-2]);return}n(u)};return f.jsxs("div",{className:"flex flex-col h-full w-100",children:[f.jsx($c,{}),f.jsx("div",{className:"pl-3 pr-3",style:{height:`${100-(r&&r.length?25:0)+(i&&i.length?15:0)}vh`,overflow:"auto"},children:f.jsx(xo,{node:t,depth:1,curExpandedHandleSet:o,handleNodeClick:l,selectedNode:e,nodeParents:s})}),r&&((a=Object.values(r))!=null&&a.length)?f.jsx(Hc,{}):null,i&&(i!=null&&i.length)?f.jsx(zc,{}):null]})}function Wc(){const t=ae(e=>e.setPreSelectNode);return f.jsx("div",{className:`flex 
           m-b-2 p-2 
           bg-bg-container
           border border-solid border-border rounded-full hover:border-primary-base`,onClick:()=>{t()},children:f.jsx("div",{className:"i-carbon-direction-loop-left text-icon"})})}function qc({setShowName:t,typeName:e,showName:n,setShowSideAll:r,showSideAll:i}){function o(s){t(s)}return f.jsxs("div",{className:"sidebar-choose",children:[f.jsx(Wc,{}),e.map(s=>f.jsx("div",{className:n===s?"sidebar-choose-item-active":"sidebar-choose-item",onClick:()=>{o(s),r(!(s===n&&i))},children:s},s)),f.jsx("div",{onClick:()=>{r(s=>!s)},children:f.jsx("div",{className:"rounded-lg border-solid p-1 mt-2 border-border text-text bg-bg-container",children:i?f.jsx("div",{className:"i-carbon-arrow-right"}):f.jsx("div",{className:"i-carbon-arrow-left"})})})]})}const Kc="_title_56qjm_5",Vc="_find_56qjm_15",Gc="_result_56qjm_44",at={"side-search":"_side-search_56qjm_1",title:Kc,find:Vc,"search-bar":"_search-bar_56qjm_24",result:Gc,"mainpage-title":"_mainpage-title_56qjm_70"},Jc=(t,e)=>{const n={...t};return e instanceof Array?e.forEach(r=>n[r.type]=r.value):n[e.type]=e.value,n};function Yc(){const{t}=Le(),{root:e,setSelectNode:n,searchNode:r}=ae(),[i,o]=x.useReducer(Jc,{keywords:"",loading:!0,nodes:[],searchHistory:JSON.parse(localStorage.getItem("suggestionHistory"))??[]}),s=dt(),l=u=>{u!==null&&n(u),o([{type:"keywords",value:""},{type:"nodes",value:[]},{type:"searchHistory",value:[...new Set([...i.searchHistory,u.name])]}])},a=x.useMemo(()=>f.jsx(f.Fragment,{children:f.jsx("ul",{children:i.nodes.map((u,c)=>f.jsx("li",{onClick:()=>l(u),children:u.name},c))})}),[i.nodes]);return x.useEffect(()=>{if(i.keywords){const u=r(e,i.keywords);o({type:"nodes",value:u})}else i.keywords?o({type:"nodes",value:!1}):o({type:"nodes",value:[]})},[i.keywords]),x.useEffect(()=>{i.loading||localStorage.setItem("suggestionHistory",JSON.stringify(i.searchHistory))},[i.searchHistory]),x.useEffect(()=>{o({type:"loading",value:!1})},[]),f.jsxs("div",{className:at["side-search"],children:[f.jsxs("div",{className:at.find,children:[f.jsx("div",{className:at.title,children:t("aside.search.title")}),f.jsx("div",{className:at["search-bar"],children:f.jsx("input",{onChange:u=>o({type:"keywords",value:u.currentTarget.value}),value:i.keywords,type:"text",name:"search",autoComplete:"off",placeholder:t("aside.search.find")})})]}),!!i.nodes.length&&f.jsxs("div",{className:at.result,children:[f.jsx("div",{className:at.title,children:t("aside.search.results")}),!!i.nodes.length&&a]}),f.jsx("div",{className:at["mainpage-title"],onClick:()=>{s("/search")},children:f.jsx("span",{children:t("aside.search.mainpage")})})]})}function So(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sr(t,e){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sr(t,e)}function dr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sr(t,e)}function Xc(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Qc(t,e){t.classList?t.classList.add(e):Xc(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function vi(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Zc(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=vi(t.className,e):t.setAttribute("class",vi(t.className&&t.className.baseVal||"",e))}const yi={disabled:!1},hr=ve.createContext(null);var wo=function(e){return e.scrollTop},Mt="unmounted",lt="exited",Fe="entering",We="entered",Wt="exiting",Xe=function(t){dr(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,a;return o.appearStatus=null,r.in?l?(a=lt,o.appearStatus=Fe):a=We:r.unmountOnExit||r.mountOnEnter?a=Mt:a=lt,o.state={status:a},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Mt?{status:lt}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Fe&&s!==We&&(o=Fe):(s===Fe||s===We)&&(o=Wt)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Fe){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this);s&&wo(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lt&&this.setState({status:Mt})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,a=this.props.nodeRef?[l]:[Xt.findDOMNode(this),l],u=a[0],c=a[1],h=this.getTimeouts(),p=l?h.appear:h.enter;if(!i&&!s||yi.disabled){this.safeSetState({status:We},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Fe},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:We},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Xt.findDOMNode(this);if(!o||yi.disabled){this.safeSetState({status:lt},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Wt},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:lt},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=a[0],c=a[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mt)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=So(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ve.createElement(hr.Provider,{value:null},typeof s=="function"?s(i,l):ve.cloneElement(ve.Children.only(s),l))},e}(ve.Component);Xe.contextType=hr;Xe.propTypes={};function gt(){}Xe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gt,onEntering:gt,onEntered:gt,onExit:gt,onExiting:gt,onExited:gt};Xe.UNMOUNTED=Mt;Xe.EXITED=lt;Xe.ENTERING=Fe;Xe.ENTERED=We;Xe.EXITING=Wt;const ef=Xe;var tf=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Qc(e,r)})},Un=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Zc(e,r)})},pr=function(t){dr(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,a){var u=r.resolveArguments(l,a),c=u[0],h=u[1];r.removeClasses(c,"exit"),r.addClass(c,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,a)},r.onEntering=function(l,a){var u=r.resolveArguments(l,a),c=u[0],h=u[1],p=h?"appear":"enter";r.addClass(c,p,"active"),r.props.onEntering&&r.props.onEntering(l,a)},r.onEntered=function(l,a){var u=r.resolveArguments(l,a),c=u[0],h=u[1],p=h?"appear":"enter";r.removeClasses(c,p),r.addClass(c,p,"done"),r.props.onEntered&&r.props.onEntered(l,a)},r.onExit=function(l){var a=r.resolveArguments(l),u=a[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var a=r.resolveArguments(l),u=a[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var a=r.resolveArguments(l),u=a[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,a){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,a]},r.getClassNames=function(l){var a=r.props.classNames,u=typeof a=="string",c=u&&a?a+"-":"",h=u?""+c+l:a[l],p=u?h+"-active":a[l+"Active"],T=u?h+"-done":a[l+"Done"];return{baseClassName:h,activeClassName:p,doneClassName:T}},r}var n=e.prototype;return n.addClass=function(i,o,s){var l=this.getClassNames(o)[s+"ClassName"],a=this.getClassNames("enter"),u=a.doneClassName;o==="appear"&&s==="done"&&u&&(l+=" "+u),s==="active"&&i&&wo(i),l&&(this.appliedClasses[o][s]=l,tf(i,l))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],l=s.base,a=s.active,u=s.done;this.appliedClasses[o]={},l&&Un(i,l),a&&Un(i,a),u&&Un(i,u)},n.render=function(){var i=this.props;i.classNames;var o=So(i,["classNames"]);return ve.createElement(ef,Yn({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ve.Component);pr.defaultProps={classNames:""};pr.propTypes={};const nf=pr;var tn,nn;function rf(t,e){return!(t===e||ve.isValidElement(t)&&ve.isValidElement(e)&&t.key!=null&&t.key===e.key)}var Et={out:"out-in",in:"in-out"},vn=function(e,n,r){return function(){var i;e.props[n]&&(i=e.props)[n].apply(i,arguments),r()}},of=(tn={},tn[Et.out]=function(t){var e=t.current,n=t.changeState;return ve.cloneElement(e,{in:!1,onExited:vn(e,"onExited",function(){n(Fe,null)})})},tn[Et.in]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,ve.cloneElement(r,{in:!0,onEntered:vn(r,"onEntered",function(){n(Fe)})})]},tn),sf=(nn={},nn[Et.out]=function(t){var e=t.children,n=t.changeState;return ve.cloneElement(e,{in:!0,onEntered:vn(e,"onEntered",function(){n(We,ve.cloneElement(e,{in:!0}))})})},nn[Et.in]=function(t){var e=t.current,n=t.children,r=t.changeState;return[ve.cloneElement(e,{in:!1,onExited:vn(e,"onExited",function(){r(We,ve.cloneElement(n,{in:!0}))})}),ve.cloneElement(n,{in:!0})]},nn),gr=function(t){dr(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={status:We,current:null},r.appeared=!1,r.changeState=function(l,a){a===void 0&&(a=r.state.current),r.setState({status:l,current:a})},r}var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,o){return i.children==null?{current:null}:o.status===Fe&&i.mode===Et.in?{status:Fe}:o.current&&rf(o.current,i.children)?{status:Wt}:{current:ve.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,o=i.children,s=i.mode,l=this.state,a=l.status,u=l.current,c={children:o,current:u,changeState:this.changeState,status:a},h;switch(a){case Fe:h=sf[s](c);break;case Wt:h=of[s](c);break;case We:h=u}return ve.createElement(hr.Provider,{value:{isMounting:!this.appeared}},h)},e}(ve.Component);gr.propTypes={};gr.defaultProps={mode:Et.out};const af=gr,Oo=x.createContext(null),lf=({children:t})=>{const e=x.useRef(null);return e.current||(e.current=document.createElement("div"),document.body.appendChild(e.current)),x.useEffect(()=>function(){e.current&&document.body.removeChild(e.current)},[]),bi.createPortal(t,e.current)},uf=({content:t,children:e})=>{const n=x.useRef(null),r=x.useRef(null),[i,o]=x.useState(!1),[s,l]=x.useState({left:0,top:0});return x.useEffect(()=>{if(!n||!n.current||!r||!r.current)return;const{current:a}=n,{current:u}=r,{left:c,top:h}=a.getBoundingClientRect(),{width:p,height:T}=u.getBoundingClientRect();l({left:c-(p+5)+document.documentElement.scrollLeft,top:h-T+document.documentElement.scrollTop})},[n,r,i]),f.jsxs(f.Fragment,{children:[ve.cloneElement(e,{ref:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)}),i?f.jsx(lf,{children:f.jsx("div",{ref:r,style:{position:"absolute",zIndex:9999,left:s.left,top:s.top,backgroundColor:"white",borderRadius:"5px",padding:"10px",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)"},children:t})}):void 0]})};function cf({treeMap:t,isHierarchy:e}){const n=t.leaves(),r=Mo([n.length<=4?8:n.length*2,0],$o);return f.jsxs("div",{style:{position:"relative"},children:[e&&f.jsx(xi,{x0:t.x0,y0:t.y0,x1:t.x1,y1:t.y1,data:t.data,color:r(n.length)},t.value||0),n.map(({x0:i,y0:o,x1:s,y1:l,data:a,value:u},c)=>f.jsx(xi,{x0:i,y0:o,x1:s,y1:l,data:a,color:r(c)},u||0))]})}const xi=({x0:t,x1:e,y0:n,y1:r,data:i,color:o})=>{const s=x.useRef(null),[l,a]=x.useState(!1),[u,c]=x.useState(!1),[h,p]=x.useState(!1),{handle_rect_click:T,loading:R,RectFontSize:M}=x.useContext(Oo);x.useEffect(()=>{if((!i._children||i._children.length===0)&&p(!0),!s||!s.current)return;const{current:$}=s;($.scrollWidth>$.clientWidth||$.scrollHeight>$.clientHeight)&&a(!l)},[s,l]);const L=$=>{console.log(i),!(!i._children||i._children.length===0)&&T(i)($)};return f.jsx(f.Fragment,{children:l?f.jsx(uf,{content:f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:["name: ",i.name]}),f.jsxs("div",{children:["size: ",i.size]})]}),children:f.jsx("div",{style:{position:"absolute",backgroundColor:o,left:t,top:n,width:e-t,height:r-n,overflow:"hidden",cursor:h?"not-allowed":"default",boxShadow:"0 0 0 1px rgba(16, 22, 26, 0.04), 0 1px 3px 0 rgba(16, 22, 26, 0.12)"},ref:s,onClick:L})}):f.jsx("div",{style:{position:"absolute",backgroundColor:o,left:t,top:u?n-5:n,width:e-t,height:r-n,transition:"all 0.3s ease",overflow:"hidden",fontSize:M,padding:"0.3rem",cursor:h?"not-allowed":"default",boxShadow:u?"0 0 0 3px rgba(16, 22, 26, 0.1), 0 1px 3px 0 rgba(16, 22, 26, 0.12)":"0 0 0 1px rgba(16, 22, 26, 0.04), 0 1px 3px 0 rgba(16, 22, 26, 0.12)"},onMouseMove:()=>{c(!0)},onMouseLeave:()=>{c(!1)},ref:s,onClick:L,children:i.size!=null||i._size!=null?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:["name: ",i.name]}),f.jsxs("div",{children:["size: ",i.size?i.size:0]})]}):R})})},ff=({children:t,value:e})=>f.jsx(Oo.Provider,{value:e,children:t});function Eo({width:t=30,height:e=30}){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block",shapeRendering:"auto"},fill:"none",width:t,height:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:f.jsxs("g",{children:[f.jsx("path",{d:"M50 15A35 35 0 1 0 74.74873734152916 25.251262658470843",fill:"none",stroke:"var(--color-primary-base)","stroke-width":"4"}),f.jsx("path",{d:"M49 3L49 27L61 15L49 3",fill:"var(--color-primary-base)"}),f.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})]})})}const Co=(t,e=500)=>{let n=null;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}};function Ro(t){if(!t)return;const e=t.dependencies,n={name:"",children:[]},r=Object.values(e);return r.length!==0&&r.forEach(i=>{var s;const o=Ro(i);o&&((s=n.children)==null||s.push(o))}),n.name=`${t.name}@${t.version}`,n.size=t.size?t.size:0,n}const jo=({hiddenWidthMultiplier:t=10,hiddenHeightMultiplier:e=10,width:n=500,height:r=500,margin:i=0,padding:o=2,RectFontSize:s=14,fullScreen:l=!1,loading:a=f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:f.jsx(Eo,{})})})=>{l&&(n=window.innerWidth,r=window.innerHeight);const[u,c]=x.useState(0),[h,p]=x.useState(),[T,R]=x.useState(),{selectedNode:M,setSelectNode:L}=ae(A=>({selectedNode:A.selectedSizeNode,setSelectNode:A.setSelectSizeNode})),[$,B]=x.useState(n),[q,d]=x.useState(r);!M&&T&&R(void 0),x.useEffect(()=>{p(Ro(M))},[M]);const j=x.useCallback(A=>{if(!A)return;const N={name:A.name,_size:A.size,size:A.children.length?void 0:A.size||A._size,children:A.children.map(b=>({name:b.name,size:b.size,_children:b.children,children:[]}))},v=Ei(N).sum(b=>b.size?b.size:0).sort((b,y)=>y.value-b.value),O=l?Sr().size([n-2*i,r-2*i]).round(!0).paddingTop(20).paddingLeft(10).paddingRight(10).paddingInner(o)(v):Sr().size([n-2*i,r-2*i]).round(!0).paddingInner(o)(v);if(n<500||r<500){const b=[];if(O.children&&O.children.forEach(y=>{const{x1:E,x0:k,y1:z,y0:J,data:V}=y,P=E-k,m=z-J,D=O.x1-O.x0,_=O.y1-O.y0;(P<D/t||m<_/e)&&b.push(V.name)}),b.length>0){const y={name:A.name,size:A.size,children:A.children.filter(E=>!b.includes(E.name))||[]};j(y);return}}R(O)},[r,i,n]);x.useEffect(()=>{h&&j(h)},[h,j]);const I=A=>()=>{!A._children||!A._children.length||(c(u?0:1),A.children=A._children,L(M.dependencies[A.name.split("@")[0]?A.name.split("@")[0]:`@${A.name.split("@")[1]}`]),j(A))};return x.useEffect(()=>{window.addEventListener("resize",Co(()=>{B(window.innerWidth),d(window.innerHeight)}),!1)},[]),f.jsx(ff,{value:{handle_rect_click:I,loading:a,RectFontSize:s},children:f.jsx("div",{style:{position:"relative",width:$,height:q,backgroundColor:"var(--color-border)"},className:"text-dark-500",children:f.jsx(af,{mode:"out-in",children:f.jsx(nf,{classNames:"fade",timeout:500,children:f.jsxs("div",{style:{position:"absolute",left:i,top:i,width:"100%",height:"100%",textAlign:"center"},children:[T&&f.jsx(cf,{isHierarchy:l,treeMap:T}),!T&&a]})},u)})})})};function df(){const{t}=Le(),{selectedNode:e,selectedSizeNode:n}=ae(r=>r);return f.jsxs("div",{children:[f.jsx("div",{className:"module-title",children:t("aside.module.information")}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"module-info-name",children:e.name}),f.jsxs("div",{className:"module-info-version",children:[e.declarationVersion?"@"+e.declarationVersion:"","(",e.version,")"]})]}),e.description?f.jsxs("div",{className:"module-des",children:[f.jsx("div",{className:"title",children:t("aside.module.description")}),f.jsx("div",{className:"des",children:e.description})]}):null,e.dependencies?f.jsxs("div",{className:"module-size",children:[f.jsx("div",{className:"title",children:t("aside.module.dependencies")}),f.jsxs("div",{className:"cache p-3",children:[Object.keys(e.dependencies).length," / ",e.childrenNumber]})]}):null,e.cache?f.jsxs("div",{className:"module-size",children:[f.jsx("div",{className:"title",children:t("aside.module.cache")}),f.jsx("div",{className:" cache p-3 module-dep-item",children:"true"})]}):null,e.circlePath?f.jsxs("div",{className:"module-size",children:[f.jsx("div",{className:"title",children:t("aside.module.circlePath")}),f.jsx("div",{className:" cache p-3 module-dep-item",children:"true"})]}):null,n&&n.size?f.jsxs("div",{className:"module-size",children:[f.jsx("div",{className:"title",children:t("aside.module.size")}),f.jsx("div",{className:"size",children:n.size})]}):null,f.jsx("div",{className:"size-graph-title",children:t("aside.module.graph")}),f.jsx("div",{className:"flex justify-center",children:f.jsx(jo,{width:376,height:376,RectFontSize:14})})]})}function hf(){const{t}=Le(),e={[t("aside.search.title")]:f.jsx(Yc,{}),[t("aside.list.title")]:f.jsx(Bc,{}),[t("aside.module.title")]:f.jsx(df,{})},n=Object.keys(e),[r,i]=x.useState(n[1]),[o,s]=x.useState(e[r]),[l,a]=x.useState(!1);return x.useEffect(()=>{s(e[r])},[r]),f.jsxs("div",{className:"sidebar border-l-solid border-l-border bg-bg-container text-text",style:{transform:`translateX(${l?"0":"25rem"})`,transition:"transform 0.5s"},children:[f.jsx(qc,{setShowName:i,typeName:n,showName:r,setShowSideAll:a,showSideAll:l}),f.jsx("div",{className:"sidebar-container",children:o})]})}function pf(){const{depth:t,rootLoading:e,setRootLoading:n,setDepth:r}=ae(o=>o,Gt),{t:i}=Le();return f.jsx("section",{id:`${i("section.maxDepth")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:e?f.jsx(Eo,{}):f.jsx("input",{id:"depth",type:"number",min:2,defaultValue:t,onBlur:o=>{r(parseInt(o.target.value)),n(!0)},className:"p-1 h-2rem w-5rem outline-primary-base text-center text-text bg-bg-container",border:"solid 2 rd-0.5rem primary-border-hover hover:primary-hover"})})}function gf(){const{t}=Le(),{collapse:e,setCollapse:n}=ae(r=>({collapse:r.collapse,setCollapse:r.setCollapse}));return f.jsx("section",{id:`${t(e?"section.expand":"section.collapse")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:f.jsx("div",{onClick:()=>n(!e),className:`
          ${e?"i-carbon-expand-categories":"i-carbon-collapse-categories"}
          text-1.5rem 
          c-primary-border-hover
          hover:c-primary-border-hover`})})}var Po={};(function(t){(function(){var e=t||!1||this||window;e.default=e;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/1999/xhtml",i="http://www.w3.org/2000/svg",o='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',s=/url\(["']?(.+?)["']?\)/,l={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},a=function(y){return y instanceof HTMLElement||y instanceof SVGElement},u=function(y){if(!a(y))throw new Error("an HTMLElement or SVGElement is required; got "+y)},c=function(y){return new Promise(function(E,k){a(y)?E(y):k(new Error("an HTMLElement or SVGElement is required; got "+y))})},h=function(y){return y&&y.lastIndexOf("http",0)===0&&y.lastIndexOf(window.location.host)===-1},p=function(y){var E=Object.keys(l).filter(function(k){return y.indexOf("."+k)>0}).map(function(k){return l[k]});return E?E[0]:(console.error("Unknown font format for "+y+". Fonts may not be working correctly."),"application/octet-stream")},T=function(y){for(var E="",k=new Uint8Array(y),z=0;z<k.byteLength;z++)E+=String.fromCharCode(k[z]);return window.btoa(E)},R=function(y,E,k){var z=y.viewBox&&y.viewBox.baseVal&&y.viewBox.baseVal[k]||E.getAttribute(k)!==null&&!E.getAttribute(k).match(/%$/)&&parseInt(E.getAttribute(k))||y.getBoundingClientRect()[k]||parseInt(E.style[k])||parseInt(window.getComputedStyle(y).getPropertyValue(k));return typeof z>"u"||z===null||isNaN(parseFloat(z))?0:z},M=function(y,E,k,z){if(y.tagName==="svg")return{width:k||R(y,E,"width"),height:z||R(y,E,"height")};if(y.getBBox){var J=y.getBBox(),V=J.x,P=J.y,m=J.width,D=J.height;return{width:V+m,height:P+D}}},L=function(y){return decodeURIComponent(encodeURIComponent(y).replace(/%([0-9A-F]{2})/g,function(E,k){var z=String.fromCharCode("0x"+k);return z==="%"?"%25":z}))},$=function(y){for(var E=window.atob(y.split(",")[1]),k=y.split(",")[0].split(":")[1].split(";")[0],z=new ArrayBuffer(E.length),J=new Uint8Array(z),V=0;V<E.length;V++)J[V]=E.charCodeAt(V);return new Blob([z],{type:k})},B=function(y,E){if(E)try{return y.querySelector(E)||y.parentNode&&y.parentNode.querySelector(E)}catch(k){console.warn('Invalid CSS selector "'+E+'"',k)}},q=function(y,E){var k=y.cssText.match(s),z=k&&k[1]||"";if(!(!z||z.match(/^data:/)||z==="about:blank")){var J=z.startsWith("../")?E+"/../"+z:z.startsWith("./")?E+"/."+z:z;return{text:y.cssText,format:p(J),url:J}}},d=function(y){return Promise.all(Array.from(y.querySelectorAll("image")).map(function(E){var k=E.getAttributeNS("http://www.w3.org/1999/xlink","href")||E.getAttribute("href");return k?(h(k)&&(k+=(k.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(z,J){var V=document.createElement("canvas"),P=new Image;P.crossOrigin="anonymous",P.src=k,P.onerror=function(){return J(new Error("Could not load "+k))},P.onload=function(){V.width=P.width,V.height=P.height,V.getContext("2d").drawImage(P,0,0),E.setAttributeNS("http://www.w3.org/1999/xlink","href",V.toDataURL("image/png")),z(!0)}})):Promise.resolve(null)}))},j={},I=function(y){return Promise.all(y.map(function(E){return new Promise(function(k,z){if(j[E.url])return k(j[E.url]);var J=new XMLHttpRequest;J.addEventListener("load",function(){var V=T(J.response),P=E.text.replace(s,'url("data:'+E.format+";base64,"+V+'")')+`
`;j[E.url]=P,k(P)}),J.addEventListener("error",function(V){console.warn("Failed to load font from: "+E.url,V),j[E.url]=null,k(null)}),J.addEventListener("abort",function(V){console.warn("Aborted loading font from: "+E.url,V),k(null)}),J.open("GET",E.url),J.responseType="arraybuffer",J.send()})})).then(function(E){return E.filter(function(k){return k}).join("")})},A=null,N=function(){return A||(A=Array.from(document.styleSheets).map(function(y){try{return{rules:y.cssRules,href:y.href}}catch(E){return console.warn("Stylesheet could not be loaded: "+y.href,E),{}}}))},v=function(y,E){var k=E||{},z=k.selectorRemap,J=k.modifyStyle,V=k.modifyCss,P=k.fonts,m=k.excludeUnusedCss,D=V||function(S,U){var W=z?z(S):S,K=J?J(U):U;return W+"{"+K+`}
`},_=[],g=typeof P>"u",C=P||[];return N().forEach(function(S){var U=S.rules,W=S.href;U&&Array.from(U).forEach(function(K){if(typeof K.style<"u")if(B(y,K.selectorText))_.push(D(K.selectorText,K.style.cssText));else if(g&&K.cssText.match(/^@font-face/)){var Z=q(K,W);Z&&C.push(Z)}else m||_.push(K.cssText)})}),I(C).then(function(S){return _.join(`
`)+S})},O=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};e.prepareSvg=function(b,y,E){u(b);var k=y||{},z=k.left,J=z===void 0?0:z,V=k.top,P=V===void 0?0:V,m=k.width,D=k.height,_=k.scale,g=_===void 0?1:_,C=k.responsive,S=C===void 0?!1:C,U=k.excludeCss,W=U===void 0?!1:U;return d(b).then(function(){var K=b.cloneNode(!0);K.style.backgroundColor=(y||{}).backgroundColor||b.style.backgroundColor;var Z=M(b,K,m,D),ie=Z.width,se=Z.height;if(b.tagName!=="svg")if(b.getBBox){K.getAttribute("transform")!=null&&K.setAttribute("transform",K.getAttribute("transform").replace(/translate\(.*?\)/,""));var de=document.createElementNS("http://www.w3.org/2000/svg","svg");de.appendChild(K),K=de}else{console.error("Attempted to render non-SVG element",b);return}if(K.setAttribute("version","1.1"),K.setAttribute("viewBox",[J,P,ie,se].join(" ")),K.getAttribute("xmlns")||K.setAttributeNS(n,"xmlns",i),K.getAttribute("xmlns:xlink")||K.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),S?(K.removeAttribute("width"),K.removeAttribute("height"),K.setAttribute("preserveAspectRatio","xMinYMin meet")):(K.setAttribute("width",ie*g),K.setAttribute("height",se*g)),Array.from(K.querySelectorAll("foreignObject > *")).forEach(function(De){De.setAttributeNS(n,"xmlns",De.tagName==="svg"?i:r)}),W){var ge=document.createElement("div");ge.appendChild(K);var we=ge.innerHTML;if(typeof E=="function")E(we,ie,se);else return{src:we,width:ie,height:se}}else return v(b,y).then(function(De){var he=document.createElement("style");he.setAttribute("type","text/css"),he.innerHTML=`<![CDATA[
`+De+`
]]>`;var Te=document.createElement("defs");Te.appendChild(he),K.insertBefore(Te,K.firstChild);var Oe=document.createElement("div");Oe.appendChild(K);var be=Oe.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof E=="function")E(be,ie,se);else return{src:be,width:ie,height:se}})})},e.svgAsDataUri=function(b,y,E){return u(b),e.prepareSvg(b,y).then(function(k){var z=k.src,J=k.width,V=k.height,P="data:image/svg+xml;base64,"+window.btoa(L(o+z));return typeof E=="function"&&E(P,J,V),P})},e.svgAsPngUri=function(b,y,E){u(b);var k=y||{},z=k.encoderType,J=z===void 0?"image/png":z,V=k.encoderOptions,P=V===void 0?.8:V,m=k.canvg,D=function(g){var C=g.src,S=g.width,U=g.height,W=document.createElement("canvas"),K=W.getContext("2d"),Z=window.devicePixelRatio||1;W.width=S*Z,W.height=U*Z,W.style.width=W.width+"px",W.style.height=W.height+"px",K.setTransform(Z,0,0,Z,0,0),m?m(W,C):K.drawImage(C,0,0);var ie=void 0;try{ie=W.toDataURL(J,P)}catch(se){if(typeof SecurityError<"u"&&se instanceof SecurityError||se.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw se}return typeof E=="function"&&E(ie,W.width,W.height),Promise.resolve(ie)};return m?e.prepareSvg(b,y).then(D):e.svgAsDataUri(b,y).then(function(_){return new Promise(function(g,C){var S=new Image;S.onload=function(){return g(D({src:S,width:S.width,height:S.height}))},S.onerror=function(){C(`There was an error loading the data URI as an image on the following SVG
`+window.atob(_.slice(26))+`Open the following link to see browser's diagnosis
`+_)},S.src=_})})},e.download=function(b,y,E){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob($(y),b);else{var k=document.createElement("a");if("download"in k){k.download=b,k.style.display="none",document.body.appendChild(k);try{var z=$(y),J=URL.createObjectURL(z);k.href=J,k.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(J)})}}catch(V){console.error(V),console.warn("Error while getting object URL. Falling back to string URL."),k.href=y}k.click(),document.body.removeChild(k)}else E&&E.popup&&(E.popup.document.title=b,E.popup.location.replace(y))}},e.saveSvg=function(b,y,E){var k=O();return c(b).then(function(z){return e.svgAsDataUri(z,E||{})}).then(function(z){return e.download(y,z,k)})},e.saveSvgAsPng=function(b,y,E){var k=O();return c(b).then(function(z){return e.svgAsPngUri(z,E||{})}).then(function(z){return e.download(y,z,k)})}})()})(Po);const mf=yn(Po);function vf({svgRef:t,width:e,height:n,json:r}){const{t:i}=Le();let{current:o}=x.useRef({fileTypeRef:""});const[s]=ae(L=>[L.depth,L.setDepth]),{collapse:l}=ae(L=>({collapse:L.collapse,setCollapse:L.setCollapse})),a=()=>{const L=document.getElementsByTagName("select")[0],$=L.options[L.selectedIndex].value;o.fileTypeRef=$},u=(L,$={})=>{function B(d){Oi("#resizing").attr("transform",d.transform)}const q=wi().on("zoom",B);if(L=="Full"){const d=l||s<3?1:Math.pow(2.1,s);rn(t.current).call(q.transform,Hn.translate(e/$.width,n/(100/d)).scale(.01))}else L=="Reset"&&rn(t.current).call(q.transform,Hn)},c=[{val:"json",name:".json"},{val:"svg",name:".svg"},{val:"png",name:".png"}];function h(L,$,B){const q=new Blob([L],{type:$}),d=window.URL.createObjectURL(q),j=document.createElement("a");j.href=d,j.style.display="none",j.setAttribute("download",B),document.body.appendChild(j),j.click(),URL.revokeObjectURL(d),document.body.removeChild(j)}function p(){const L=document.querySelector("svg"),$=L.getBBox();u("Full",$);const B=L.cloneNode(!0),q=L.getBBox(),d=new XMLSerializer;B.setAttribute("viewBox",q.x+" "+q.y+" "+q.width+" "+q.height),B.setAttribute("width",q.width*250),B.setAttribute("height",q.height*250);const j=`<?xml version="1.0" standalone="no"?>\r
`+d.serializeToString(B);h(j,"text/xml",`${r.name}${i("section.dependences")}.svg`),u("Reset")}const T=L=>{const $=document.querySelector("svg"),B=$.getBBox();u("Full",B);const q=$.cloneNode(!0),d=$.getBBox(),j=`${d.x*50} ${d.y*50} ${d.width*1.2} ${d.height*1.3}`;q.setAttribute("viewBox",j),q.setAttribute("width",d.width*250),q.setAttribute("height",d.height*250),mf.saveSvgAsPng(q,`${r.name}${i("section.dependences")}.${L}`,{scale:80}),u("Reset")},R=()=>{if(r){let L=document.createElement("a");L.download=`${r.name}${i("section.dependences")}.json`,L.href="data:text/plain,"+JSON.stringify(r),L.click()}else alert(`${i("section.jsonexp")}`)},M=()=>{switch(o.fileTypeRef){case"json":R();break;case"svg":p();break;case"png":T("png");break;default:alert(`${i("section.alertexp")}`)}};return f.jsx(f.Fragment,{children:f.jsx("div",{children:f.jsxs("div",{className:"flex flex-items-end exporter align-middle",children:[f.jsx("div",{id:`${i("section.fileType")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:f.jsxs("select",{className:"flex w-20 h-8 lh-8 bg-bg-container text-text text-center",border:"solid 2 rd-0.5rem primary-border-hover",onChange:a,children:[f.jsx("option",{value:null,disabled:!0,selected:!0,hidden:!0,children:i("section.select")}),c.map((L,$)=>f.jsx("option",{value:L.val,children:L.name},`selector-opt-${$}`))]})}),f.jsx("div",{id:`${i("section.export")}`,className:`relative p-l-3
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:f.jsx("div",{className:"flex flex-row fs-24 c-primary-border-hover",onClick:M,children:f.jsx("div",{className:`
              i-carbon-logout
              text-1.5rem `})})})]})})})}function mr(){const{t,toggleLanguage:e}=Le();return f.jsx("button",{className:`i-icon-park-outline-${t("mode.language")==="ENGLISH"?"english":"chinese"}`,onClick:e})}function vr(){const{theme:t,setTheme:e}=ae(r=>r),n=()=>{e(t)};return f.jsx("button",{className:`i-ic-baseline-${t}-mode`,onClick:n})}function Do(){return f.jsx("div",{children:f.jsx("button",{className:"i-carbon-logo-github text-icon h-30px w-30px hover:text-icon-hover m-2",onClick:()=>{window.open("https://github.com/DepSpy/depspy","_blank")}})})}function Io(){const{t}=Le();return f.jsxs("section",{className:"relative w-100vw h-100vh bg-bg-container",children:[f.jsxs("div",{className:"fixed flex p-5",children:[f.jsx(mr,{}),f.jsx(vr,{})]}),f.jsxs("section",{className:"fixed flex left-2rem bottom-2rem gap-4 h-2rem",flex:"items-end",children:[f.jsx("div",{className:"w-5rem h-2rem left-bottom-item"}),f.jsx("div",{className:"w-5rem h-2rem left-bottom-item"}),f.jsx("div",{className:"w-5rem h-2rem left-bottom-item"})]}),f.jsx("section",{id:`${t("skeleton.tip")}`,className:`fixed 
          left-50%
          top-50%
          transform-translate--50%
          before:absolute before:content-[attr(id)] before:top--8 before:c-[var(--color-text)] before:text-nowrap before:transform-translate-x--50% before:font-size-8 before:left-50%
          `,children:f.jsx("div",{className:` 
          c-[var(--color-skeleton-bg)]
          font-size-50
          i-carbon-decision-tree 
          left-bottom-item`})}),f.jsxs("section",{className:`
          fixed
          display-none
          lg:flex
          items-center
          flex-col
          p-1rem
          right-0
          h-100vh
          w-20vw 
          border-solid
          border-1
          border-[var(--color-skeleton-bg)]`,children:[Array(3).fill(0).map(()=>f.jsx("div",{className:`
                m-t-2
                w-100% 
                h-1.5rem
                left-bottom-item`})),Array(2).fill(0).map(()=>f.jsx("div",{className:`
              c-[var(--color-skeleton-bg)]
              font-size-[calc(20vw-2rem)]
              i-carbon-list
              left-bottom-item`}))]})]})}function yf(){const{t}=Le(),{sizeTree:e,setSizeTree:n}=ae(r=>({sizeTree:r.sizeTree,setSizeTree:r.setSizeTree}));return f.jsx("section",{id:`${t(e?"section.rectTree":"section.plainTree")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:f.jsx("div",{onClick:()=>n(!e),className:`
          ${e?"i-carbon-chart-treemap":"i-carbon-decision-tree"}
          text-1.5rem 
          c-primary-border-hover
          hover:c-primary-border-hover`})})}function No(){const t=x.useRef(null),{theme:e}=ae(s=>s),[n,r]=x.useState(window.innerWidth),[i,o]=x.useState(window.innerHeight);return x.useEffect(()=>{window.addEventListener("resize",Co(()=>{r(window.innerWidth),o(window.innerHeight)}));const s=t.current,l=s.getContext("2d");s.width=n,s.height=i;const a=30;e==="light"?l.strokeStyle="#000000e0":l.strokeStyle="#ffffffd9",l.lineWidth=.1;for(let u=0;u<s.width;u+=a)l.beginPath(),l.moveTo(u,0),l.lineTo(u,s.height),l.stroke();for(let u=0;u<s.height;u+=a)l.beginPath(),l.moveTo(0,u),l.lineTo(s.width,u),l.stroke()},[e,n,i]),f.jsx("div",{children:f.jsx("canvas",{ref:t})})}function xf(){const[t]=ra(),{root:e,info:n,depth:r,sizeTree:i,setRoot:o,setGraphRes:s,rootLoading:l,setRootLoading:a,setSizeLoading:u}=ae(h=>h,Gt),c=x.useRef(null);return x.useEffect(()=>{a(!0),u(!0),s(t.get("q")||n,r).then(()=>{a(!1),u(!1)})},[r,n]),x.useEffect(()=>{o(null)},[n]),l&&!e?f.jsx(Io,{}):f.jsxs("main",{className:"w-screen h-screen overflow-hidden",children:[f.jsx("div",{className:"fixed",children:i?f.jsx(jo,{fullScreen:!0}):f.jsx(Mc,{ref:c})}),f.jsx("div",{className:"fixed -z-50 bg-bg-container",children:f.jsx(No,{})}),f.jsx(hf,{}),f.jsxs("div",{className:"fixed flex p-5",children:[f.jsx(mr,{}),f.jsx(vr,{}),f.jsx(Do,{})]}),f.jsxs("section",{className:"fixed flex left-2rem bottom-2rem gap-4 h-2rem",flex:"items-end",children:[f.jsx(pf,{}),f.jsx(vf,{svgRef:c,width:innerWidth,height:innerHeight,json:e}),f.jsx(gf,{}),f.jsx(yf,{})]})]})}function bf(){const{staticRoot:t}=ro();return x.useEffect(()=>{if(!t)return;et.registerNode("tree-node",{drawShape:function(s,l){const a=l.addShape("rect",{attrs:{x:0,y:0,width:100,height:20,stroke:"rgb(167,167,167)",radius:5},name:"rect-shape"}),u=yo(s.path,100),c=l.addShape("text",{attrs:{text:u,fill:"white"},name:"text-shape"}),h=c.getBBox(),p=a.getBBox(),T=s.children&&s.children.length>0;return c.attr({x:(p.width-h.width)/2,y:(p.height+h.height)/2}),T&&l.addShape("marker",{attrs:{x:p.width+8,y:0,r:6,symbol:s.collapsed?et.Marker.expand:et.Marker.collapse,stroke:"rgb(167,167,167)",lineWidth:1},name:"collapse-icon"}),a},update:(o,s)=>{s.getContainer().find(u=>u.get("name")==="collapse-icon").attr("symbol",o.collapsed?et.Marker.expand:et.Marker.collapse)}},"single-node"),et.registerEdge("custom-polyline",{draw(o,s){const l=o.startPoint,a=o.endPoint;return s.addShape("path",{attrs:{stroke:"rgb(167,167,167)",path:[["M",l.x,l.y],["L",a.x/3+2/3*l.x,l.y],["L",a.x/3+2/3*l.x,a.y],["L",a.x,a.y]],endArrow:!0},name:"custom-polyline-path"})}});const e=document.getElementById("container"),n=e.scrollWidth,r=e.scrollHeight||500,i=new et.TreeGraph({container:"container",width:n,height:r,modes:{default:[{type:"collapse-expand",onChange:function(s,l){const a=s.get("model");return i.updateItem(s,{collapsed:l}),a.collapsed=l,!0},shouldBegin(o){return!!(o.target&&o.target.cfg.name==="collapse-icon")}},"drag-canvas","zoom-canvas"]},defaultNode:{type:"tree-node",anchorPoints:[[0,.5],[1,.5]]},defaultEdge:{type:"custom-polyline"},layout:{type:"compactBox",direction:"LR",getId:function(s){return s.id},getVGap:function(){return 0},getHGap:function(){return 80}}});et.Util.traverseTree(t,o=>(o.children=Object.values(o.dependencies||{}),!0)),i.data(t),i.render(),i.fitView(),typeof window<"u"&&(window.onresize=()=>{!i||i.get("destroyed")||!e||!e.scrollWidth||!e.scrollHeight||i.changeSize(e.scrollWidth,e.scrollHeight)})},[t]),f.jsx("div",{id:"container",className:"w-100vw h-100vh"})}function Sf(){const{staticRootLoading:t,staticRoot:e}=ro();return t&&!e?f.jsx(Io,{}):f.jsxs("main",{className:"w-screen h-screen overflow-hidden",children:[f.jsx("div",{className:"fixed",children:f.jsx(bf,{})}),f.jsx("div",{className:"fixed -z-50 bg-bg-container",children:f.jsx(No,{})}),f.jsxs("div",{className:"fixed flex p-5",children:[f.jsx(mr,{}),f.jsx(vr,{}),f.jsx(Do,{})]})]})}const wf=[{path:"search",element:f.jsx(Tc,{})},{path:"analyze",element:f.jsx(xf,{})},{path:"/static-analyze",element:f.jsx(Sf,{})},{path:"*",element:f.jsx(Ys,{to:"/search"})}];function Of(){const t=ea(wf),e=ae(r=>r.theme),{initLanguage:n}=Le();return window.addEventListener("storage",()=>{ae.setState({theme:localStorage.getItem("theme")||"light"}),n()}),x.useEffect(()=>{n()},[]),f.jsx("div",{className:"app","data-theme":e,children:f.jsx(Gs,{router:t})})}zn.createRoot(document.getElementById("root")).render(f.jsx(ve.StrictMode,{children:f.jsx(Of,{})}));
