import{i as ue,h as qt,k as Ut,l as Jn,m as Qn,j as d,r as $,c as Y,s as _t,n as Vt,t as er,u as oe,b as tr,R as H,o as Re,p as nr,q as rr,g as ir,v as sr,S as or,G as ar,L as cr,T as lr,w as ur}from"./index-a5edd9ac.js";function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function fr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ht=180/Math.PI,ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hn(e,t,n,r,i,s){var o,c,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Ht,skewX:Math.atan(l)*Ht,scaleX:o,scaleY:c}}var De;function hr(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ft:hn(t.a,t.b,t.c,t.d,t.e,t.f)}function dr(e){return e==null||(De||(De=document.createElementNS("http://www.w3.org/2000/svg","g")),De.setAttribute("transform",e),!(e=De.transform.baseVal.consolidate()))?ft:(e=e.matrix,hn(e.a,e.b,e.c,e.d,e.e,e.f))}function dn(e,t,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,u,p,h,g,S){if(a!==p||u!==h){var k=g.push("translate(",null,t,null,n);S.push({i:k-4,x:ue(a,p)},{i:k-2,x:ue(u,h)})}else(p||h)&&g.push("translate("+p+t+h+n)}function o(a,u,p,h){a!==u?(a-u>180?u+=360:u-a>180&&(a+=360),h.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ue(a,u)})):u&&p.push(i(p)+"rotate("+u+r)}function c(a,u,p,h){a!==u?h.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ue(a,u)}):u&&p.push(i(p)+"skewX("+u+r)}function l(a,u,p,h,g,S){if(a!==p||u!==h){var k=g.push(i(g)+"scale(",null,",",null,")");S.push({i:k-4,x:ue(a,p)},{i:k-2,x:ue(u,h)})}else(p!==1||h!==1)&&g.push(i(g)+"scale("+p+","+h+")")}return function(a,u){var p=[],h=[];return a=e(a),u=e(u),s(a.translateX,a.translateY,u.translateX,u.translateY,p,h),o(a.rotate,u.rotate,p,h),c(a.skewX,u.skewX,p,h),l(a.scaleX,a.scaleY,u.scaleX,u.scaleY,p,h),a=u=null,function(g){for(var S=-1,k=h.length,b;++S<k;)p[(b=h[S]).i]=b.x(g);return p.join("")}}}var pr=dn(hr,"px, ","px)","deg)"),mr=dn(dr,", ",")",")"),gr=1e-12;function Xt(e){return((e=Math.exp(e))+1/e)/2}function vr(e){return((e=Math.exp(e))-1/e)/2}function yr(e){return((e=Math.exp(2*e))-1)/(e+1)}const xr=function e(t,n,r){function i(s,o){var c=s[0],l=s[1],a=s[2],u=o[0],p=o[1],h=o[2],g=u-c,S=p-l,k=g*g+S*S,b,y;if(k<gr)y=Math.log(h/a)/t,b=function(O){return[c+O*g,l+O*S,a*Math.exp(t*O*y)]};else{var M=Math.sqrt(k),A=(h*h-a*a+r*k)/(2*a*n*M),N=(h*h-a*a-r*k)/(2*h*n*M),T=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt(N*N+1)-N);y=(L-T)/t,b=function(O){var W=O*y,X=Xt(T),U=a/(n*M)*(X*yr(t*W+T)-vr(T));return[c+U*g,l+U*S,a*X/Xt(t*W+T)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return i.rho=function(s){var o=Math.max(.001,+s),c=o*o,l=c*c;return e(o,c,l)},i}(Math.SQRT2,2,4),wr=Math.sqrt(50),br=Math.sqrt(10),_r=Math.sqrt(2);function He(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=wr?10:s>=br?5:s>=_r?2:1;let c,l,a;return i<0?(a=Math.pow(10,-i)/o,c=Math.round(e*a),l=Math.round(t*a),c/a<e&&++c,l/a>t&&--l,a=-a):(a=Math.pow(10,i)*o,c=Math.round(e/a),l=Math.round(t/a),c*a<e&&++c,l*a>t&&--l),l<c&&.5<=n&&n<2?He(e,t,n*2):[c,l,a]}function Er(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?He(t,e,n):He(e,t,n);if(!(s>=i))return[];const c=s-i+1,l=new Array(c);if(r)if(o<0)for(let a=0;a<c;++a)l[a]=(s-a)/-o;else for(let a=0;a<c;++a)l[a]=(s-a)*o;else if(o<0)for(let a=0;a<c;++a)l[a]=(i+a)/-o;else for(let a=0;a<c;++a)l[a]=(i+a)*o;return l}function ht(e,t,n){return t=+t,e=+e,n=+n,He(e,t,n)[2]}function Sr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ht(t,e,n):ht(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}var Nr={value:()=>{}};function Et(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Be(n)}function Be(e){this._=e}function kr(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Be.prototype=Et.prototype={constructor:Be,on:function(e,t){var n=this._,r=kr(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Cr(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Wt(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Wt(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Be(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Cr(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Wt(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Nr,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dt="http://www.w3.org/1999/xhtml";const Yt={svg:"http://www.w3.org/2000/svg",xhtml:dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qe(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yt.hasOwnProperty(t)?{space:Yt[t],local:e}:e}function Tr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===dt&&t.documentElement.namespaceURI===dt?t.createElement(e):t.createElementNS(n,e)}}function jr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pn(e){var t=Qe(e);return(t.local?jr:Tr)(t)}function Mr(){}function St(e){return e==null?Mr:function(){return this.querySelector(e)}}function Ar(e){typeof e!="function"&&(e=St(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,c=r[i]=new Array(o),l,a,u=0;u<o;++u)(l=s[u])&&(a=e.call(l,l.__data__,u,s))&&("__data__"in l&&(a.__data__=l.__data__),c[u]=a);return new G(r,this._parents)}function mn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $r(){return[]}function gn(e){return e==null?$r:function(){return this.querySelectorAll(e)}}function zr(e){return function(){return mn(e.apply(this,arguments))}}function Rr(e){typeof e=="function"?e=zr(e):e=gn(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],c=o.length,l,a=0;a<c;++a)(l=o[a])&&(r.push(e.call(l,l.__data__,a,o)),i.push(l));return new G(r,i)}function vn(e){return function(){return this.matches(e)}}function yn(e){return function(t){return t.matches(e)}}var Dr=Array.prototype.find;function Or(e){return function(){return Dr.call(this.children,e)}}function Lr(){return this.firstElementChild}function Pr(e){return this.select(e==null?Lr:Or(typeof e=="function"?e:yn(e)))}var Ir=Array.prototype.filter;function Br(){return Array.from(this.children)}function Fr(e){return function(){return Ir.call(this.children,e)}}function qr(e){return this.selectAll(e==null?Br:Fr(typeof e=="function"?e:yn(e)))}function Ur(e){typeof e!="function"&&(e=vn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,c=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&c.push(l);return new G(r,this._parents)}function xn(e){return new Array(e.length)}function Vr(){return new G(this._enter||this._groups.map(xn),this._parents)}function Xe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xe.prototype={constructor:Xe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hr(e){return function(){return e}}function Xr(e,t,n,r,i,s){for(var o=0,c,l=t.length,a=s.length;o<a;++o)(c=t[o])?(c.__data__=s[o],r[o]=c):n[o]=new Xe(e,s[o]);for(;o<l;++o)(c=t[o])&&(i[o]=c)}function Wr(e,t,n,r,i,s,o){var c,l,a=new Map,u=t.length,p=s.length,h=new Array(u),g;for(c=0;c<u;++c)(l=t[c])&&(h[c]=g=o.call(l,l.__data__,c,t)+"",a.has(g)?i[c]=l:a.set(g,l));for(c=0;c<p;++c)g=o.call(e,s[c],c,s)+"",(l=a.get(g))?(r[c]=l,l.__data__=s[c],a.delete(g)):n[c]=new Xe(e,s[c]);for(c=0;c<u;++c)(l=t[c])&&a.get(h[c])===l&&(i[c]=l)}function Yr(e){return e.__data__}function Gr(e,t){if(!arguments.length)return Array.from(this,Yr);var n=t?Wr:Xr,r=this._parents,i=this._groups;typeof e!="function"&&(e=Hr(e));for(var s=i.length,o=new Array(s),c=new Array(s),l=new Array(s),a=0;a<s;++a){var u=r[a],p=i[a],h=p.length,g=Kr(e.call(u,u&&u.__data__,a,r)),S=g.length,k=c[a]=new Array(S),b=o[a]=new Array(S),y=l[a]=new Array(h);n(u,p,k,b,y,g,t);for(var M=0,A=0,N,T;M<S;++M)if(N=k[M]){for(M>=A&&(A=M+1);!(T=b[A])&&++A<S;);N._next=T||null}}return o=new G(o,r),o._enter=c,o._exit=l,o}function Kr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zr(){return new G(this._exit||this._groups.map(xn),this._parents)}function Jr(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Qr(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),c=new Array(i),l=0;l<o;++l)for(var a=n[l],u=r[l],p=a.length,h=c[l]=new Array(p),g,S=0;S<p;++S)(g=a[S]||u[S])&&(h[S]=g);for(;l<i;++l)c[l]=n[l];return new G(c,this._parents)}function ei(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function ti(e){e||(e=ni);function t(p,h){return p&&h?e(p.__data__,h.__data__):!p-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],c=o.length,l=i[s]=new Array(c),a,u=0;u<c;++u)(a=o[u])&&(l[u]=a);l.sort(t)}return new G(i,this._parents).order()}function ni(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ri(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ii(){return Array.from(this)}function si(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function oi(){let e=0;for(const t of this)++e;return e}function ai(){return!this.node()}function ci(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,c;s<o;++s)(c=i[s])&&e.call(c,c.__data__,s,i);return this}function li(e){return function(){this.removeAttribute(e)}}function ui(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fi(e,t){return function(){this.setAttribute(e,t)}}function hi(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function di(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pi(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mi(e,t){var n=Qe(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ui:li:typeof t=="function"?n.local?pi:di:n.local?hi:fi)(n,t))}function wn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gi(e){return function(){this.style.removeProperty(e)}}function vi(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yi(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function xi(e,t,n){return arguments.length>1?this.each((t==null?gi:typeof t=="function"?yi:vi)(e,t,n??"")):me(this.node(),e)}function me(e,t){return e.style.getPropertyValue(t)||wn(e).getComputedStyle(e,null).getPropertyValue(t)}function wi(e){return function(){delete this[e]}}function bi(e,t){return function(){this[e]=t}}function _i(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ei(e,t){return arguments.length>1?this.each((t==null?wi:typeof t=="function"?_i:bi)(e,t)):this.node()[e]}function bn(e){return e.trim().split(/^|\s+/)}function Nt(e){return e.classList||new _n(e)}function _n(e){this._node=e,this._names=bn(e.getAttribute("class")||"")}_n.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function En(e,t){for(var n=Nt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Sn(e,t){for(var n=Nt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Si(e){return function(){En(this,e)}}function Ni(e){return function(){Sn(this,e)}}function ki(e,t){return function(){(t.apply(this,arguments)?En:Sn)(this,e)}}function Ci(e,t){var n=bn(e+"");if(arguments.length<2){for(var r=Nt(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ki:t?Si:Ni)(n,t))}function Ti(){this.textContent=""}function ji(e){return function(){this.textContent=e}}function Mi(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ai(e){return arguments.length?this.each(e==null?Ti:(typeof e=="function"?Mi:ji)(e)):this.node().textContent}function $i(){this.innerHTML=""}function zi(e){return function(){this.innerHTML=e}}function Ri(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Di(e){return arguments.length?this.each(e==null?$i:(typeof e=="function"?Ri:zi)(e)):this.node().innerHTML}function Oi(){this.nextSibling&&this.parentNode.appendChild(this)}function Li(){return this.each(Oi)}function Pi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ii(){return this.each(Pi)}function Bi(e){var t=typeof e=="function"?e:pn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Fi(){return null}function qi(e,t){var n=typeof e=="function"?e:pn(e),r=t==null?Fi:typeof t=="function"?t:St(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ui(){var e=this.parentNode;e&&e.removeChild(this)}function Vi(){return this.each(Ui)}function Hi(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xi(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wi(e){return this.select(e?Xi:Hi)}function Yi(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gi(e){return function(t){e.call(this,t,this.__data__)}}function Ki(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Zi(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Ji(e,t,n){return function(){var r=this.__on,i,s=Gi(t);if(r){for(var o=0,c=r.length;o<c;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Qi(e,t,n){var r=Ki(e+""),i,s=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,a=c.length,u;l<a;++l)for(i=0,u=c[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(c=t?Ji:Zi,i=0;i<s;++i)this.each(c(r[i],t,n));return this}function Nn(e,t,n){var r=wn(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function es(e,t){return function(){return Nn(this,e,t)}}function ts(e,t){return function(){return Nn(this,e,t.apply(this,arguments))}}function ns(e,t){return this.each((typeof t=="function"?ts:es)(e,t))}function*rs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var kt=[null];function G(e,t){this._groups=e,this._parents=t}function $e(){return new G([[document.documentElement]],kt)}function is(){return this}G.prototype=$e.prototype={constructor:G,select:Ar,selectAll:Rr,selectChild:Pr,selectChildren:qr,filter:Ur,data:Gr,enter:Vr,exit:Zr,join:Jr,merge:Qr,selection:is,order:ei,sort:ti,call:ri,nodes:ii,node:si,size:oi,empty:ai,each:ci,attr:mi,style:xi,property:Ei,classed:Ci,text:Ai,html:Di,raise:Li,lower:Ii,append:Bi,insert:qi,remove:Vi,clone:Wi,datum:Yi,on:Qi,dispatch:ns,[Symbol.iterator]:rs};function J(e){return typeof e=="string"?new G([[document.querySelector(e)]],[document.documentElement]):new G([[e]],kt)}function ss(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ce(e,t){if(e=ss(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function kn(e){return typeof e=="string"?new G([document.querySelectorAll(e)],[document.documentElement]):new G([mn(e)],kt)}const pt={capture:!0,passive:!1};function mt(e){e.preventDefault(),e.stopImmediatePropagation()}function os(e){var t=e.document.documentElement,n=J(e).on("dragstart.drag",mt,pt);"onselectstart"in t?n.on("selectstart.drag",mt,pt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function as(e,t){var n=e.document.documentElement,r=J(e).on("dragstart.drag",null);t&&(r.on("click.drag",mt,pt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ge=0,Ne=0,we=0,Cn=1e3,We,ke,Ye=0,de=0,et=0,Te=typeof performance=="object"&&performance.now?performance:Date,Tn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ct(){return de||(Tn(cs),de=Te.now()+et)}function cs(){de=0}function Ge(){this._call=this._time=this._next=null}Ge.prototype=jn.prototype={constructor:Ge,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ct():+n)+(t==null?0:+t),!this._next&&ke!==this&&(ke?ke._next=this:We=this,ke=this),this._call=e,this._time=n,gt()},stop:function(){this._call&&(this._call=null,this._time=1/0,gt())}};function jn(e,t,n){var r=new Ge;return r.restart(e,t,n),r}function ls(){Ct(),++ge;for(var e=We,t;e;)(t=de-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ge}function Gt(){de=(Ye=Te.now())+et,ge=Ne=0;try{ls()}finally{ge=0,fs(),de=0}}function us(){var e=Te.now(),t=e-Ye;t>Cn&&(et-=t,Ye=e)}function fs(){for(var e,t=We,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:We=n);ke=e,gt(r)}function gt(e){if(!ge){Ne&&(Ne=clearTimeout(Ne));var t=e-de;t>24?(e<1/0&&(Ne=setTimeout(Gt,e-Te.now()-et)),we&&(we=clearInterval(we))):(we||(Ye=Te.now(),we=setInterval(us,Cn)),ge=1,Tn(Gt))}}function Kt(e,t,n){var r=new Ge;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var hs=Et("start","end","cancel","interrupt"),ds=[],Mn=0,Zt=1,vt=2,Fe=3,Jt=4,yt=5,qe=6;function tt(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;ps(e,n,{name:t,index:r,group:i,on:hs,tween:ds,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Mn})}function Tt(e,t){var n=Q(e,t);if(n.state>Mn)throw new Error("too late; already scheduled");return n}function ne(e,t){var n=Q(e,t);if(n.state>Fe)throw new Error("too late; already running");return n}function Q(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ps(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=jn(s,0,n.time);function s(a){n.state=Zt,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var u,p,h,g;if(n.state!==Zt)return l();for(u in r)if(g=r[u],g.name===n.name){if(g.state===Fe)return Kt(o);g.state===Jt?(g.state=qe,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[u]):+u<t&&(g.state=qe,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[u])}if(Kt(function(){n.state===Fe&&(n.state=Jt,n.timer.restart(c,n.delay,n.time),c(a))}),n.state=vt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vt){for(n.state=Fe,i=new Array(h=n.tween.length),u=0,p=-1;u<h;++u)(g=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=g);i.length=p+1}}function c(a){for(var u=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(l),n.state=yt,1),p=-1,h=i.length;++p<h;)i[p].call(e,u);n.state===yt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=qe,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function Ue(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>vt&&r.state<yt,r.state=qe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function ms(e){return this.each(function(){Ue(this,e)})}function gs(e,t){var n,r;return function(){var i=ne(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,c=r.length;o<c;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function vs(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ne(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var c={name:t,value:n},l=0,a=i.length;l<a;++l)if(i[l].name===t){i[l]=c;break}l===a&&i.push(c)}s.tween=i}}function ys(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Q(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?gs:vs)(n,e,t))}function jt(e,t,n){var r=e._id;return e.each(function(){var i=ne(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Q(i,r).value[t]}}function An(e,t){var n;return(typeof t=="number"?ue:t instanceof qt?Ut:(n=qt(t))?(t=n,Ut):Jn)(e,t)}function xs(e){return function(){this.removeAttribute(e)}}function ws(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bs(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function _s(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Es(e,t,n){var r,i,s;return function(){var o,c=n(this),l;return c==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=c+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,c)))}}function Ss(e,t,n){var r,i,s;return function(){var o,c=n(this),l;return c==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=c+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,c)))}}function Ns(e,t){var n=Qe(e),r=n==="transform"?mr:An;return this.attrTween(e,typeof t=="function"?(n.local?Ss:Es)(n,r,jt(this,"attr."+e,t)):t==null?(n.local?ws:xs)(n):(n.local?_s:bs)(n,r,t))}function ks(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Cs(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ts(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Cs(e,s)),n}return i._value=t,i}function js(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&ks(e,s)),n}return i._value=t,i}function Ms(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Qe(e);return this.tween(n,(r.local?Ts:js)(r,t))}function As(e,t){return function(){Tt(this,e).delay=+t.apply(this,arguments)}}function $s(e,t){return t=+t,function(){Tt(this,e).delay=t}}function zs(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?As:$s)(t,e)):Q(this.node(),t).delay}function Rs(e,t){return function(){ne(this,e).duration=+t.apply(this,arguments)}}function Ds(e,t){return t=+t,function(){ne(this,e).duration=t}}function Os(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rs:Ds)(t,e)):Q(this.node(),t).duration}function Ls(e,t){if(typeof t!="function")throw new Error;return function(){ne(this,e).ease=t}}function Ps(e){var t=this._id;return arguments.length?this.each(Ls(t,e)):Q(this.node(),t).ease}function Is(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ne(this,e).ease=n}}function Bs(e){if(typeof e!="function")throw new Error;return this.each(Is(this._id,e))}function Fs(e){typeof e!="function"&&(e=vn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,c=r[i]=[],l,a=0;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&c.push(l);return new se(r,this._parents,this._name,this._id)}function qs(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),c=0;c<s;++c)for(var l=t[c],a=n[c],u=l.length,p=o[c]=new Array(u),h,g=0;g<u;++g)(h=l[g]||a[g])&&(p[g]=h);for(;c<r;++c)o[c]=t[c];return new se(o,this._parents,this._name,this._id)}function Us(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Vs(e,t,n){var r,i,s=Us(t)?Tt:ne;return function(){var o=s(this,e),c=o.on;c!==r&&(i=(r=c).copy()).on(t,n),o.on=i}}function Hs(e,t){var n=this._id;return arguments.length<2?Q(this.node(),n).on.on(e):this.each(Vs(n,e,t))}function Xs(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ws(){return this.on("end.remove",Xs(this._id))}function Ys(e){var t=this._name,n=this._id;typeof e!="function"&&(e=St(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var c=r[o],l=c.length,a=s[o]=new Array(l),u,p,h=0;h<l;++h)(u=c[h])&&(p=e.call(u,u.__data__,h,c))&&("__data__"in u&&(p.__data__=u.__data__),a[h]=p,tt(a[h],t,n,h,a,Q(u,n)));return new se(s,this._parents,t,n)}function Gs(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gn(e));for(var r=this._groups,i=r.length,s=[],o=[],c=0;c<i;++c)for(var l=r[c],a=l.length,u,p=0;p<a;++p)if(u=l[p]){for(var h=e.call(u,u.__data__,p,l),g,S=Q(u,n),k=0,b=h.length;k<b;++k)(g=h[k])&&tt(g,t,n,k,h,S);s.push(h),o.push(u)}return new se(s,o,t,n)}var Ks=$e.prototype.constructor;function Zs(){return new Ks(this._groups,this._parents)}function Js(e,t){var n,r,i;return function(){var s=me(this,e),o=(this.style.removeProperty(e),me(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function $n(e){return function(){this.style.removeProperty(e)}}function Qs(e,t,n){var r,i=n+"",s;return function(){var o=me(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function eo(e,t,n){var r,i,s;return function(){var o=me(this,e),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(e),me(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,c))}}function to(e,t){var n,r,i,s="style."+t,o="end."+s,c;return function(){var l=ne(this,e),a=l.on,u=l.value[s]==null?c||(c=$n(t)):void 0;(a!==n||i!==u)&&(r=(n=a).copy()).on(o,i=u),l.on=r}}function no(e,t,n){var r=(e+="")=="transform"?pr:An;return t==null?this.styleTween(e,Js(e,r)).on("end.style."+e,$n(e)):typeof t=="function"?this.styleTween(e,eo(e,r,jt(this,"style."+e,t))).each(to(this._id,e)):this.styleTween(e,Qs(e,r,t),n).on("end.style."+e,null)}function ro(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function io(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&ro(e,o,n)),r}return s._value=t,s}function so(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,io(e,t,n??""))}function oo(e){return function(){this.textContent=e}}function ao(e){return function(){var t=e(this);this.textContent=t??""}}function co(e){return this.tween("text",typeof e=="function"?ao(jt(this,"text",e)):oo(e==null?"":e+""))}function lo(e){return function(t){this.textContent=e.call(this,t)}}function uo(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&lo(i)),t}return r._value=e,r}function fo(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uo(e))}function ho(){for(var e=this._name,t=this._id,n=zn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,l,a=0;a<c;++a)if(l=o[a]){var u=Q(l,t);tt(l,e,n,a,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new se(r,this._parents,e,n)}function po(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var c={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var a=ne(this,r),u=a.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(l)),a.on=t}),i===0&&s()})}var mo=0;function se(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zn(){return++mo}var re=$e.prototype;se.prototype={constructor:se,select:Ys,selectAll:Gs,selectChild:re.selectChild,selectChildren:re.selectChildren,filter:Fs,merge:qs,selection:Zs,transition:ho,call:re.call,nodes:re.nodes,node:re.node,size:re.size,empty:re.empty,each:re.each,on:Hs,attr:Ns,attrTween:Ms,style:no,styleTween:so,text:co,textTween:fo,remove:Ws,tween:ys,delay:zs,duration:Os,ease:Ps,easeVarying:Bs,end:po,[Symbol.iterator]:re[Symbol.iterator]};function go(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vo={time:null,delay:0,duration:250,ease:go};function yo(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function xo(e){var t,n;e instanceof se?(t=e._id,e=e._name):(t=zn(),(n=vo).time=Ct(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,l,a=0;a<c;++a)(l=o[a])&&tt(l,e,t,a,o,n||yo(l,t));return new se(r,this._parents,e,t)}$e.prototype.interrupt=ms;$e.prototype.transition=xo;const xt=Math.PI,wt=2*xt,fe=1e-6,wo=wt-fe;function Rn(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bo(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Rn;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Mt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Rn:bo(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,l=r-t,a=i-n,u=o-t,p=c-n,h=u*u+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>fe)if(!(Math.abs(p*l-a*u)>fe)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,S=i-c,k=l*l+a*a,b=g*g+S*S,y=Math.sqrt(k),M=Math.sqrt(h),A=s*Math.tan((xt-Math.acos((k+h-b)/(2*y*M)))/2),N=A/M,T=A/y;Math.abs(N-1)>fe&&this._append`L${t+N*u},${n+N*p}`,this._append`A${s},${s},0,0,${+(p*g>u*S)},${this._x1=t+T*l},${this._y1=n+T*a}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),l=r*Math.sin(i),a=t+c,u=n+l,p=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${a},${u}`:(Math.abs(this._x1-a)>fe||Math.abs(this._y1-u)>fe)&&this._append`L${a},${u}`,r&&(h<0&&(h=h%wt+wt),h>wo?this._append`A${r},${r},0,1,${p},${t-c},${n-l}A${r},${r},0,1,${p},${this._x1=a},${this._y1=u}`:h>fe&&this._append`A${r},${r},0,${+(h>=xt)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Dn(){return new Mt}Dn.prototype=Mt.prototype;function _o(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ke(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ve(e){return e=Ke(Math.abs(e)),e?e[1]:NaN}function Eo(e,t){return function(n,r){for(var i=n.length,s=[],o=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),s.push(n.substring(i-=c,i+c)),!((l+=c+1)>r));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function So(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var No=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ze(e){if(!(t=No.exec(e)))throw new Error("invalid format: "+e);var t;return new At({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ze.prototype=At.prototype;function At(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}At.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ko(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var On;function Co(e,t){var n=Ke(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(On=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ke(e,Math.max(0,t+s-1))[0]}function Qt(e,t){var n=Ke(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const en={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_o,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qt(e*100,t),r:Qt,s:Co,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tn(e){return e}var nn=Array.prototype.map,rn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function To(e){var t=e.grouping===void 0||e.thousands===void 0?tn:Eo(nn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tn:So(nn.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function a(p){p=Ze(p);var h=p.fill,g=p.align,S=p.sign,k=p.symbol,b=p.zero,y=p.width,M=p.comma,A=p.precision,N=p.trim,T=p.type;T==="n"?(M=!0,T="g"):en[T]||(A===void 0&&(A=12),N=!0,T="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var L=k==="$"?n:k==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=k==="$"?r:/[%p]/.test(T)?o:"",W=en[T],X=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(x){var w=L,_=O,f,v,m;if(T==="c")_=W(x)+_,x="";else{x=+x;var E=x<0||1/x<0;if(x=isNaN(x)?l:W(Math.abs(x),A),N&&(x=ko(x)),E&&+x==0&&S!=="+"&&(E=!1),w=(E?S==="("?S:c:S==="-"||S==="("?"":S)+w,_=(T==="s"?rn[8+On/3]:"")+_+(E&&S==="("?")":""),X){for(f=-1,v=x.length;++f<v;)if(m=x.charCodeAt(f),48>m||m>57){_=(m===46?i+x.slice(f+1):x.slice(f))+_,x=x.slice(0,f);break}}}M&&!b&&(x=t(x,1/0));var C=w.length+x.length+_.length,j=C<y?new Array(y-C+1).join(h):"";switch(M&&b&&(x=t(j+x,j.length?y-_.length:1/0),j=""),g){case"<":x=w+x+_+j;break;case"=":x=w+j+x+_;break;case"^":x=j.slice(0,C=j.length>>1)+w+x+_+j.slice(C);break;default:x=j+w+x+_;break}return s(x)}return U.toString=function(){return p+""},U}function u(p,h){var g=a((p=Ze(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(ve(h)/3)))*3,k=Math.pow(10,-S),b=rn[8+S/3];return function(y){return g(k*y)+b}}return{format:a,formatPrefix:u}}var Oe,Ln,Pn;jo({thousands:",",grouping:[3],currency:["$",""]});function jo(e){return Oe=To(e),Ln=Oe.format,Pn=Oe.formatPrefix,Oe}function Mo(e){return Math.max(0,-ve(Math.abs(e)))}function Ao(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ve(t)/3)))*3-ve(Math.abs(e)))}function $o(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ve(t)-ve(e))+1}function zo(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Ro(){return this.eachAfter(zo)}function Do(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Oo(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Lo(e,t){for(var n=this,r=[n],i=[],s,o,c,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,c=s.length;o<c;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Po(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Io(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Bo(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Fo(e){for(var t=this,n=qo(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function qo(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Uo(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Vo(){return Array.from(this)}function Ho(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Xo(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Wo(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function nt(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Ko)):t===void 0&&(t=Go);for(var n=new je(e),r,i=[n],s,o,c,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,c=l-1;c>=0;--c)i.push(s=o[c]=new je(o[c])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Jo)}function Yo(){return nt(this).eachBefore(Zo)}function Go(e){return e.children}function Ko(e){return Array.isArray(e)?e[1]:null}function Zo(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Jo(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function je(e){this.data=e,this.depth=this.height=0,this.parent=null}je.prototype=nt.prototype={constructor:je,count:Ro,each:Do,eachAfter:Lo,eachBefore:Oo,find:Po,sum:Io,sort:Bo,path:Fo,ancestors:Uo,descendants:Vo,leaves:Ho,links:Xo,copy:Yo,[Symbol.iterator]:Wo};function Qo(e){if(typeof e!="function")throw new Error;return e}function be(){return 0}function _e(e){return function(){return e}}function ea(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ta(e,t,n,r,i){for(var s=e.children,o,c=-1,l=s.length,a=e.value&&(r-t)/e.value;++c<l;)o=s[c],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*a}function na(e,t){return e.parent===t.parent?1:2}function ot(e){var t=e.children;return t?t[0]:e.t}function at(e){var t=e.children;return t?t[t.length-1]:e.t}function ra(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ia(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function sa(e,t,n){return e.a.parent===t.parent?e.a:n}function Ve(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ve.prototype=Object.create(je.prototype);function oa(e){for(var t=new Ve(e,0),n,r=[t],i,s,o,c;n=r.pop();)if(s=n._.children)for(n.children=new Array(c=s.length),o=c-1;o>=0;--o)r.push(i=n.children[o]=new Ve(s[o],o)),i.parent=n;return(t.parent=new Ve(null,0)).children=[t],t}function aa(){var e=na,t=1,n=1,r=null;function i(a){var u=oa(a);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)a.eachBefore(l);else{var p=a,h=a,g=a;a.eachBefore(function(M){M.x<p.x&&(p=M),M.x>h.x&&(h=M),M.depth>g.depth&&(g=M)});var S=p===h?1:e(p,h)/2,k=S-p.x,b=t/(h.x+S+k),y=n/(g.depth||1);a.eachBefore(function(M){M.x=(M.x+k)*b,M.y=M.depth*y})}return a}function s(a){var u=a.children,p=a.parent.children,h=a.i?p[a.i-1]:null;if(u){ia(a);var g=(u[0].z+u[u.length-1].z)/2;h?(a.z=h.z+e(a._,h._),a.m=a.z-g):a.z=g}else h&&(a.z=h.z+e(a._,h._));a.parent.A=c(a,h,a.parent.A||p[0])}function o(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function c(a,u,p){if(u){for(var h=a,g=a,S=u,k=h.parent.children[0],b=h.m,y=g.m,M=S.m,A=k.m,N;S=at(S),h=ot(h),S&&h;)k=ot(k),g=at(g),g.a=a,N=S.z+M-h.z-b+e(S._,h._),N>0&&(ra(sa(S,a,p),a,N),b+=N,y+=N),M+=S.m,b+=h.m,A+=k.m,y+=g.m;S&&!at(g)&&(g.t=S,g.m+=M-y),h&&!ot(k)&&(k.t=h,k.m+=b-A,p=a)}return p}function l(a){a.x*=t,a.y=a.depth*n}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function ca(e,t,n,r,i){for(var s=e.children,o,c=-1,l=s.length,a=e.value&&(i-n)/e.value;++c<l;)o=s[c],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*a}var la=(1+Math.sqrt(5))/2;function ua(e,t,n,r,i,s){for(var o=[],c=t.children,l,a,u=0,p=0,h=c.length,g,S,k=t.value,b,y,M,A,N,T,L;u<h;){g=i-n,S=s-r;do b=c[p++].value;while(!b&&p<h);for(y=M=b,T=Math.max(S/g,g/S)/(k*e),L=b*b*T,N=Math.max(M/L,L/y);p<h;++p){if(b+=a=c[p].value,a<y&&(y=a),a>M&&(M=a),L=b*b*T,A=Math.max(M/L,L/y),A>N){b-=a;break}N=A}o.push(l={value:b,dice:g<S,children:c.slice(u,p)}),l.dice?ta(l,n,r,i,k?r+=S*b/k:s):ca(l,n,r,k?n+=g*b/k:i,s),k-=b,u=p}return o}const fa=function e(t){function n(r,i,s,o,c){ua(t,r,i,s,o,c)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(la);function sn(){var e=fa,t=!1,n=1,r=1,i=[0],s=be,o=be,c=be,l=be,a=be;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(p),i=[0],t&&h.eachBefore(ea),h}function p(h){var g=i[h.depth],S=h.x0+g,k=h.y0+g,b=h.x1-g,y=h.y1-g;b<S&&(S=b=(S+b)/2),y<k&&(k=y=(k+y)/2),h.x0=S,h.y0=k,h.x1=b,h.y1=y,h.children&&(g=i[h.depth+1]=s(h)/2,S+=a(h)-g,k+=o(h)-g,b-=c(h)-g,y-=l(h)-g,b<S&&(S=b=(S+b)/2),y<k&&(k=y=(k+y)/2),e(h,S,k,b,y))}return u.round=function(h){return arguments.length?(t=!!h,u):t},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(e=Qo(h),u):e},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(s=typeof h=="function"?h:_e(+h),u):s},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:_e(+h),u):o},u.paddingRight=function(h){return arguments.length?(c=typeof h=="function"?h:_e(+h),u):c},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:_e(+h),u):l},u.paddingLeft=function(h){return arguments.length?(a=typeof h=="function"?h:_e(+h),u):a},u}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function In(e){return e}function da(e,t,n,r){var i=Sr(e,t,n),s;switch(r=Ze(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Ao(i,o))&&(r.precision=s),Pn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=$o(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Mo(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ln(r)}function pa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Er(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return da(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],c=r[s],l,a,u=10;for(c<o&&(a=o,o=c,c=a,a=i,i=s,s=a);u-- >0;){if(a=ht(o,c,n),a===l)return r[i]=o,r[s]=c,t(r);if(a>0)o=Math.floor(o/a)*a,c=Math.ceil(c/a)*a;else if(a<0)o=Math.ceil(o*a)/a,c=Math.floor(c*a)/a;else break;l=a}return e},e}function ma(){var e=0,t=1,n,r,i,s,o=In,c=!1,l;function a(p){return p==null||isNaN(p=+p)?l:o(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}a.domain=function(p){return arguments.length?([e,t]=p,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),a):[e,t]},a.clamp=function(p){return arguments.length?(c=!!p,a):c},a.interpolator=function(p){return arguments.length?(o=p,a):o};function u(p){return function(h){var g,S;return arguments.length?([g,S]=h,o=p(g,S),a):[o(0),o(1)]}}return a.range=u(Qn),a.rangeRound=u(fr),a.unknown=function(p){return arguments.length?(l=p,a):l},function(p){return s=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),a}}function ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bn(){var e=pa(ma()(In));return e.copy=function(){return ga(e,Bn())},ha.apply(e,arguments)}function rt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function it(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}it(rt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var va=it(rt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));it(rt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));it(rt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function on(e){return function(){return e}}function ya(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Mt(t)}var xa=Array.prototype.slice;function wa(e){return e[0]}function ba(e){return e[1]}function _a(e){return e.source}function Ea(e){return e.target}function Sa(e){let t=_a,n=Ea,r=wa,i=ba,s=null,o=null,c=ya(l);function l(){let a;const u=xa.call(arguments),p=t.apply(this,u),h=n.apply(this,u);if(s==null&&(o=e(a=c())),o.lineStart(),u[0]=p,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=h,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),a)return o=null,a+""||null}return l.source=function(a){return arguments.length?(t=a,l):t},l.target=function(a){return arguments.length?(n=a,l):n},l.x=function(a){return arguments.length?(r=typeof a=="function"?a:on(+a),l):r},l.y=function(a){return arguments.length?(i=typeof a=="function"?a:on(+a),l):i},l.context=function(a){return arguments.length?(a==null?s=o=null:o=e(s=a),l):s},l}function Fn(e,t){this._context=e,this._t=t}Fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Na(e){return new Fn(e,.5)}const Le=e=>()=>e;function ka(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ie(e,t,n){this.k=e,this.x=t,this.y=n}ie.prototype={constructor:ie,scale:function(e){return e===1?this:new ie(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ie(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Me=new ie(1,0,0);ie.prototype;function ct(e){e.stopImmediatePropagation()}function Ee(e){e.preventDefault(),e.stopImmediatePropagation()}function Ca(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ta(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function an(){return this.__zoom||Me}function ja(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function Aa(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qn(){var e=Ca,t=Ta,n=Aa,r=ja,i=Ma,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,l=xr,a=Et("start","zoom","end"),u,p,h,g=500,S=150,k=0,b=10;function y(f){f.property("__zoom",an).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",U).filter(i).on("touchstart.zoom",x).on("touchmove.zoom",w).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(f,v,m,E){var C=f.selection?f.selection():f;C.property("__zoom",an),f!==C?T(f,v,m,E):C.interrupt().each(function(){L(this,arguments).event(E).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},y.scaleBy=function(f,v,m,E){y.scaleTo(f,function(){var C=this.__zoom.k,j=typeof v=="function"?v.apply(this,arguments):v;return C*j},m,E)},y.scaleTo=function(f,v,m,E){y.transform(f,function(){var C=t.apply(this,arguments),j=this.__zoom,z=m==null?N(C):typeof m=="function"?m.apply(this,arguments):m,D=j.invert(z),I=typeof v=="function"?v.apply(this,arguments):v;return n(A(M(j,I),z,D),C,o)},m,E)},y.translateBy=function(f,v,m,E){y.transform(f,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof m=="function"?m.apply(this,arguments):m),t.apply(this,arguments),o)},null,E)},y.translateTo=function(f,v,m,E,C){y.transform(f,function(){var j=t.apply(this,arguments),z=this.__zoom,D=E==null?N(j):typeof E=="function"?E.apply(this,arguments):E;return n(Me.translate(D[0],D[1]).scale(z.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof m=="function"?-m.apply(this,arguments):-m),j,o)},E,C)};function M(f,v){return v=Math.max(s[0],Math.min(s[1],v)),v===f.k?f:new ie(v,f.x,f.y)}function A(f,v,m){var E=v[0]-m[0]*f.k,C=v[1]-m[1]*f.k;return E===f.x&&C===f.y?f:new ie(f.k,E,C)}function N(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function T(f,v,m,E){f.on("start.zoom",function(){L(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(E).end()}).tween("zoom",function(){var C=this,j=arguments,z=L(C,j).event(E),D=t.apply(C,j),I=m==null?N(D):typeof m=="function"?m.apply(C,j):m,q=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),P=C.__zoom,F=typeof v=="function"?v.apply(C,j):v,B=l(P.invert(I).concat(q/P.k),F.invert(I).concat(q/F.k));return function(R){if(R===1)R=F;else{var V=B(R),K=q/V[2];R=new ie(K,I[0]-V[0]*K,I[1]-V[1]*K)}z.zoom(null,R)}})}function L(f,v,m){return!m&&f.__zooming||new O(f,v)}function O(f,v){this.that=f,this.args=v,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,v),this.taps=0}O.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,v){return this.mouse&&f!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var v=J(this.that).datum();a.call(f,this.that,new ka(f,{sourceEvent:this.sourceEvent,target:y,type:f,transform:this.that.__zoom,dispatch:a}),v)}};function W(f,...v){if(!e.apply(this,arguments))return;var m=L(this,v).event(f),E=this.__zoom,C=Math.max(s[0],Math.min(s[1],E.k*Math.pow(2,r.apply(this,arguments)))),j=ce(f);if(m.wheel)(m.mouse[0][0]!==j[0]||m.mouse[0][1]!==j[1])&&(m.mouse[1]=E.invert(m.mouse[0]=j)),clearTimeout(m.wheel);else{if(E.k===C)return;m.mouse=[j,E.invert(j)],Ue(this),m.start()}Ee(f),m.wheel=setTimeout(z,S),m.zoom("mouse",n(A(M(E,C),m.mouse[0],m.mouse[1]),m.extent,o));function z(){m.wheel=null,m.end()}}function X(f,...v){if(h||!e.apply(this,arguments))return;var m=f.currentTarget,E=L(this,v,!0).event(f),C=J(f.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",q,!0),j=ce(f,m),z=f.clientX,D=f.clientY;os(f.view),ct(f),E.mouse=[j,this.__zoom.invert(j)],Ue(this),E.start();function I(P){if(Ee(P),!E.moved){var F=P.clientX-z,B=P.clientY-D;E.moved=F*F+B*B>k}E.event(P).zoom("mouse",n(A(E.that.__zoom,E.mouse[0]=ce(P,m),E.mouse[1]),E.extent,o))}function q(P){C.on("mousemove.zoom mouseup.zoom",null),as(P.view,E.moved),Ee(P),E.event(P).end()}}function U(f,...v){if(e.apply(this,arguments)){var m=this.__zoom,E=ce(f.changedTouches?f.changedTouches[0]:f,this),C=m.invert(E),j=m.k*(f.shiftKey?.5:2),z=n(A(M(m,j),E,C),t.apply(this,v),o);Ee(f),c>0?J(this).transition().duration(c).call(T,z,E,f):J(this).call(y.transform,z,E,f)}}function x(f,...v){if(e.apply(this,arguments)){var m=f.touches,E=m.length,C=L(this,v,f.changedTouches.length===E).event(f),j,z,D,I;for(ct(f),z=0;z<E;++z)D=m[z],I=ce(D,this),I=[I,this.__zoom.invert(I),D.identifier],C.touch0?!C.touch1&&C.touch0[2]!==I[2]&&(C.touch1=I,C.taps=0):(C.touch0=I,j=!0,C.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(C.taps<2&&(p=I[0],u=setTimeout(function(){u=null},g)),Ue(this),C.start())}}function w(f,...v){if(this.__zooming){var m=L(this,v).event(f),E=f.changedTouches,C=E.length,j,z,D,I;for(Ee(f),j=0;j<C;++j)z=E[j],D=ce(z,this),m.touch0&&m.touch0[2]===z.identifier?m.touch0[0]=D:m.touch1&&m.touch1[2]===z.identifier&&(m.touch1[0]=D);if(z=m.that.__zoom,m.touch1){var q=m.touch0[0],P=m.touch0[1],F=m.touch1[0],B=m.touch1[1],R=(R=F[0]-q[0])*R+(R=F[1]-q[1])*R,V=(V=B[0]-P[0])*V+(V=B[1]-P[1])*V;z=M(z,Math.sqrt(R/V)),D=[(q[0]+F[0])/2,(q[1]+F[1])/2],I=[(P[0]+B[0])/2,(P[1]+B[1])/2]}else if(m.touch0)D=m.touch0[0],I=m.touch0[1];else return;m.zoom("touch",n(A(z,D,I),m.extent,o))}}function _(f,...v){if(this.__zooming){var m=L(this,v).event(f),E=f.changedTouches,C=E.length,j,z;for(ct(f),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),j=0;j<C;++j)z=E[j],m.touch0&&m.touch0[2]===z.identifier?delete m.touch0:m.touch1&&m.touch1[2]===z.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(z=ce(z,this),Math.hypot(p[0]-z[0],p[1]-z[1])<b)){var D=J(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return y.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Le(+f),y):r},y.filter=function(f){return arguments.length?(e=typeof f=="function"?f:Le(!!f),y):e},y.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),y):i},y.extent=function(f){return arguments.length?(t=typeof f=="function"?f:Le([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),y):t},y.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],y):[s[0],s[1]]},y.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(f){return arguments.length?(n=f,y):n},y.duration=function(f){return arguments.length?(c=+f,y):c},y.interpolate=function(f){return arguments.length?(l=f,y):l},y.on=function(){var f=a.on.apply(a,arguments);return f===a?y:f},y.clickDistance=function(f){return arguments.length?(k=(f=+f)*f,y):Math.sqrt(k)},y.tapDistance=function(f){return arguments.length?(b=+f,y):b},y}function $a(){return d.jsx(d.Fragment,{children:d.jsxs("svg",{width:0,height:0,children:[d.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("defs",{children:d.jsx("marker",{id:"triangle",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:d.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"rgb(169, 169, 169)"})})})}),d.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("defs",{children:d.jsx("marker",{id:"triangleBlue",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:d.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"rgb(91, 46, 238)"})})})}),d.jsx("svg",{width:0,height:0,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("defs",{children:d.jsx("marker",{id:"triangleRed",viewBox:"0 0 8 8",refX:"8",refY:"4",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto",children:d.jsx("path",{d:"M 0 0 L 8 4 L 0 8 ",fill:"none",stroke:"red"})})})}),d.jsxs("symbol",{viewBox:"0 0 32 32",id:"carbon-subtract-alt",stroke:"transparent",strokeWidth:20,children:[d.jsx("path",{d:"M16 4c6.6 0 12 5.4 12 12s-5.4 12-12 12S4 22.6 4 16S9.4 4 16 4m0-2C8.3 2 2 8.3 2 16s6.3 14 14 14s14-6.3 14-14S23.7 2 16 2z"}),d.jsx("path",{d:"M8 15h16v2H8z"})]}),d.jsxs("symbol",{viewBox:"0 0 32 32",id:"carbon-add-alt",stroke:"transparent",strokeWidth:20,children:[d.jsx("path",{d:"M16 4c6.6 0 12 5.4 12 12s-5.4 12-12 12S4 22.6 4 16S9.4 4 16 4m0-2C8.3 2 2 8.3 2 16s6.3 14 14 14s14-6.3 14-14S23.7 2 16 2z"}),d.jsx("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7z"})]})]})})}function za({width:e=window.innerWidth},t){const{theme:n,root:r,setSelectNode:i,collapse:s,selectedNode:o,selectedCodependency:c,selectedCircularDependency:l}=Y(N=>({theme:N.theme,root:N.root,setSelectNode:N.setSelectNode,collapse:N.collapse,selectedNode:N.selectedNode,selectedCodependency:N.selectedCodependency,selectedCircularDependency:N.selectedCircularDependency}),_t),[a,u]=$.useState(()=>[cn(r,s)]),[p,h]=$.useState({}),[g,S]=$.useState([]);$.useEffect(()=>{u([cn(r,s)])},[r,s]);let{current:k}=$.useRef({rootLength:0});$.useEffect(()=>{const{offsetY:N,links:T,rootLength:L}=Ra(a[0]);k.rootLength=L,h(N),S(T)},[a]);const[b,y]=$.useState("");$.useEffect(()=>{l?i({...Se(l.path,r)}):y("")},[l]),$.useEffect(()=>{if(l&&p[l.path.join()]){const N=[];l.path.some(m=>(N.push(m),m===l.path.at(-1)));const{x:T,y:L,width:O}=p[N.join()],{x:W,y:X,width:U}=p[l.path.join()],x=X+U/2,w=L+O/2,_=W,f=T,v=Dn();v.moveTo(x,_),v.lineTo(w,f),y(v.toString())}else y("")},[p]);const[M,A]=$.useReducer((N,T)=>{const L=Se(T,a[0]);return N.highlight=!1,L.highlight=!0,u([...a]),L},{});return $.useEffect(()=>{const N=o.path;A(N)},[o]),$.useEffect(()=>{c!=null&&c.length&&(c.forEach(N=>{Se(N.path,a[0])}),i(c[0]))},[c]),$.useEffect(()=>{const N=qn().scaleExtent([.1,5]).on("zoom",T);function T(L){kn("#resizing").attr("transform",L.transform)}J(t.current).call(N).call(N.transform,Me)},[M]),$.useEffect(()=>{window.addEventListener("resize",Da(()=>{u(N=>[...N])},500))},[]),d.jsxs(d.Fragment,{children:[d.jsxs("svg",{ref:t,width:e,height:innerHeight,viewBox:`${-e/2}, ${-innerHeight/2}, ${e}, ${innerHeight}`,children:[d.jsx("g",{id:"resizing",fill:"none",children:g.map(N=>{const T=N.source.data.highlight||N.target.data.highlight;return d.jsx("path",{strokeWidth:1.5,markerEnd:T?"url(#triangleBlue)":"url(#triangle)",stroke:T?"rgb(91, 46, 238)":"rgb(167,167,167)",d:Sa(Na).x(L=>L.y).y(L=>L.x)(N)})})}),d.jsxs("g",{fill:"none",id:"resizing",strokeLinejoin:"round",strokeWidth:3,children:[Object.values(p).map(N=>{var P,F;const{width:T,x:L,y:O,depth:W,data:{highlight:X,name:U,declarationVersion:x,version:w,dependencies:_,originDeps:f}}=N,v=`${U}@${x||w}`,m=`${U}@${w}`,C=`${(P=c[0])==null?void 0:P.name}@${(F=c[0])==null?void 0:F.version}`==m,j=`${m}(${x||w})`,z=Vt(j),D=er(v,130),I=Vt(D),q=Object.values(f).length?Object.values(_).length?"-":"+":"";return X&&J(t.current).attr("viewBox",`${O+T/2-innerWidth/2}, ${L-innerHeight/2}, ${innerWidth}, ${innerHeight}`),d.jsxs("g",{cursor:"pointer",transform:`translate(${O+T/2},${L})`,onClick:()=>{i(Se(N.data.path,r))},children:[d.jsx("g",{children:Object.values(f).length&&W&&d.jsx("g",{fill:N.data.highlight?"rgb(91, 46, 238)":"rgb(167,167,167)",pointerEvents:"auto",transform:`translate(${T/2+2},-32)`,onClick:()=>{const B=Se(N.data.path,a[0]);q=="+"?B.dependencies=B.originDeps:B.dependencies={},u([...a])},children:q=="+"?d.jsx("use",{href:"#carbon-add-alt",width:25,height:25}):d.jsx("use",{href:"#carbon-subtract-alt",width:25,height:25})})}),d.jsxs("g",{className:"tip",children:[d.jsx("rect",{fill:C?"rgb(91, 46, 238)":"transparent",stroke:X||C?"rgb(91, 46, 238)":"rgb(167,167,167)",strokeWidth:2,width:T,height:30,rx:5,ry:5,transform:`translate(${-T/2},-15)`}),d.jsx("text",{transform:`translate(${-I/2},${6.5})`,stroke:"none",fill:C|n=="dark"?"white":"black",children:D}),d.jsxs("g",{children:[d.jsx("text",{fill:"none",strokeWidth:5,transform:`translate(${-z/2},-20)`,children:j}),d.jsx("text",{stroke:"none",transform:`translate(${-z/2},-20)`,children:j})]})]})]})}),d.jsx("path",{d:b,strokeWidth:2,stroke:"red",markerEnd:"url(#triangleRed)"})]})]}),d.jsx($a,{})]})}function Ra(e){const t=nt(e,c=>Object.values(c.dependencies));let n=0;aa().nodeSize([50,200])(t),t.eachBefore(c=>{c.depth==0||c.depth==1?(c.offset=150,c.depth||(n=150)):c.offset=c.parent.offset+150,c.width=150});const i={},s=[],o=t.links();o.length||(i[t.data.path.join()]=t);for(let c=0;c<o.length;c++){const l=o[c];if(l.source.depth){const a=l.source.y+l.source.offset,u=l.target.y+l.source.offset;i[l.target.data.path.join()]={...l.target,y:u},l.source={...l.source,y:a},l.target={...l.target,y:u}}else i[l.source.data.path.join()]={...l.source,y:l.source.y-l.source.offset},i[l.target.data.path.join()]={...l.target,y:l.target.y};s.push(l)}return{offsetY:i,links:s,rootLength:n}}function Se(e,t){if(e.length==1)return t;let n=t,r=t;return e.slice(1).forEach(i=>{n.dependencies[i]||(n.dependencies=n.originDeps),r=n.dependencies[i],n=r}),r}function cn(e,t){let n=1;function r(s){const o={...s,originDeps:{...s.dependencies},dependencies:{...s.dependencies}};n>1&&(o.dependencies={});const c=Object.entries(o.originDeps);n++;for(let l=0;l<c.length;l++){const[a,u]=c[l],p=r(u);(n<=2||!t)&&(o.dependencies[a]=p),o.originDeps[a]=p}return n--,o}return r(e)}const Da=(e,t=500)=>{let n=null;return(...r)=>{n||(n=setTimeout(()=>{e(...r),n=null},t))}},Oa=$.forwardRef(za);function La(){const{t:e}=oe(),{selectedNode:t}=Y(n=>n);return d.jsxs("div",{className:"treelist-selected-title",children:[d.jsxs("div",{children:[e("aside.list.selected"),":"]}),d.jsxs("div",{children:[t.name,"@",t.declarationVersion||t.version]})]})}function ye(e,t){if(typeof e!="object"||typeof t!="object"||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==t[n])return!1;return!0}function Un({node:e,depth:t,curExpandedHandleSet:n,handleNodeClick:r,selectedNode:i,nodeParents:s}){const[o,c]=$.useState(!1);n=new Set(n);const l=new Set(s);return n.add(a=>c(a)),l.add(e),$.useEffect(()=>{o&&!i.path.includes(e.name)&&c(!1),ye(e,i)&&n.forEach(a=>a(!0))},[i]),d.jsxs("div",{children:[d.jsxs("div",{className:"select-list-item hover:bg-item-bg-hover",style:{paddingLeft:"0.8rem"},onClick:()=>r(e,n,l),children:[Object.keys(e.dependencies).length!==0?d.jsx("div",{className:"treelist-selected-arc border-border",style:{transform:o?"rotate(90deg)":"rotate(0deg)"}}):d.jsx("div",{style:{marginLeft:"0.8rem"}}),d.jsxs("div",{className:"treelist-selected-name",id:e.name+e.version,style:ye(e,i)?{color:"var(--color-primary-base)"}:null,children:[e.name,"@",e.declarationVersion||e.version]})]}),Object.keys(e.dependencies).length>0?d.jsx("div",{style:{marginLeft:"1rem",borderLeft:"1px solid var(--color-border)"},children:Object.entries(e.dependencies).map(([a,u])=>d.jsx("div",{style:{display:o?"block":"none"},children:d.jsx(Un,{node:u,depth:t+1,curExpandedHandleSet:n,handleNodeClick:r,selectedNode:i,nodeParents:l},a)}))}):null]})}function Pa({dep:e,selectedNode:t,clickHandler:n}){const[r,i]=$.useState(!1);return d.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[d.jsxs("div",{className:"dep-item",style:ye(e,t||{})?{backgroundColor:"var(--color-primary-base)",color:"white"}:null,onClick:()=>{n(e)},onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},children:[e.name,"@",e.version]},e.name),r?d.jsxs("div",{className:"dep-item-more",children:[e.name,"@",e.version]}):null]})}function Vn({title:e,dependencies:t,selectedNode:n,setFn:r}){function i(o){ye(o,n||{})?r(null):r(o)}const{t:s}=oe();return d.jsxs("div",{className:"drawer-box",style:{height:e==="Circular Dependency"?"15vh":"25vh"},children:[d.jsx("div",{className:"title",children:s(e==="Circular Dependency"?"aside.list.circular":"aside.list.duplicated")}),d.jsx("div",{className:"content",style:{height:`calc(${e==="Circular Dependency"?"15vh":"25vh"} - 3rem)`},children:t?t.map(o=>d.jsx(Pa,{dep:o,selectedNode:n,clickHandler:i})):null})]})}function Ia(){const{codependency:e,selectedCodependency:t,setSelectCodependency:n}=Y(i=>i),r=$.useMemo(()=>Object.values(e).map(i=>i[0]),[e]);return d.jsx("div",{children:d.jsx(Vn,{title:"Duplicated Dependency",dependencies:r,selectedNode:t[0],setFn:i=>{if(i===null){n([]);return}n(e[i.name+i.version])}})})}function Ba(){const{circularDependency:e,selectedCircularDependency:t,setSelectCircularDependency:n}=Y(r=>r);return d.jsx("div",{children:d.jsx(Vn,{title:"Circular Dependency",dependencies:e,selectedNode:t,setFn:r=>{n(r)}})})}function Fa(){var l;const{root:e,selectedNode:t,setSelectNode:n,codependency:r,circularDependency:i}=Y(a=>a),s=new Set,o=new Set;o.add(e);const c=(a,u,p)=>{if(ye(a,t)){if(ye(a,e)||Object.keys(a.dependencies).length===0)return;Array.from(u).pop()(!1);const h=Array.from(p);n(h[h.length-2]);return}n(a)};return d.jsxs("div",{className:"flex flex-col h-full w-100",children:[d.jsx(La,{}),d.jsx("div",{className:"pl-3 pr-3",style:{height:`${100-(r&&r.length?25:0)+(i&&i.length?15:0)}vh`,overflow:"auto"},children:d.jsx(Un,{node:e,depth:1,curExpandedHandleSet:s,handleNodeClick:c,selectedNode:t,nodeParents:o})}),r&&((l=Object.values(r))!=null&&l.length)?d.jsx(Ia,{}):null,i&&(i!=null&&i.length)?d.jsx(Ba,{}):null]})}function qa(){const e=Y(t=>t.setPreSelectNode);return d.jsx("div",{className:`flex 
           m-b-2 p-2 
           bg-bg-container
           border border-solid border-border rounded-full hover:border-primary-base`,onClick:()=>{e()},children:d.jsx("div",{className:"i-carbon-direction-loop-left text-icon"})})}function Ua({setShowName:e,typeName:t,showName:n,setShowSideAll:r,showSideAll:i}){function s(o){e(o)}return d.jsxs("div",{className:"sidebar-choose",children:[d.jsx(qa,{}),t.map(o=>d.jsx("div",{className:n===o?"sidebar-choose-item-active":"sidebar-choose-item",onClick:()=>{s(o),r(!(o===n&&i))},children:o},o)),d.jsx("div",{onClick:()=>{r(o=>!o)},children:d.jsx("div",{className:"rounded-lg border-solid p-1 mt-2 border-border text-text bg-bg-container",children:i?d.jsx("div",{className:"i-carbon-arrow-right"}):d.jsx("div",{className:"i-carbon-arrow-left"})})})]})}const Va="_title_56qjm_5",Ha="_find_56qjm_15",Xa="_result_56qjm_44",le={"side-search":"_side-search_56qjm_1",title:Va,find:Ha,"search-bar":"_search-bar_56qjm_24",result:Xa,"mainpage-title":"_mainpage-title_56qjm_70"},Wa=(e,t)=>{const n={...e};return t instanceof Array?t.forEach(r=>n[r.type]=r.value):n[t.type]=t.value,n};function Ya(){const{t:e}=oe(),{root:t,setSelectNode:n,searchNode:r}=Y(),[i,s]=$.useReducer(Wa,{keywords:"",loading:!0,nodes:[],searchHistory:JSON.parse(localStorage.getItem("suggestionHistory"))??[]}),o=tr(),c=a=>{a!==null&&n(a),s([{type:"keywords",value:""},{type:"nodes",value:[]},{type:"searchHistory",value:[...new Set([...i.searchHistory,a.name])]}])},l=$.useMemo(()=>d.jsx(d.Fragment,{children:d.jsx("ul",{children:i.nodes.map((a,u)=>d.jsx("li",{onClick:()=>c(a),children:a.name},u))})}),[i.nodes]);return $.useEffect(()=>{if(i.keywords){const a=r(t,i.keywords);s({type:"nodes",value:a})}else i.keywords?s({type:"nodes",value:!1}):s({type:"nodes",value:[]})},[i.keywords]),$.useEffect(()=>{i.loading||localStorage.setItem("suggestionHistory",JSON.stringify(i.searchHistory))},[i.searchHistory]),$.useEffect(()=>{s({type:"loading",value:!1})},[]),d.jsxs("div",{className:le["side-search"],children:[d.jsxs("div",{className:le.find,children:[d.jsx("div",{className:le.title,children:e("aside.search.title")}),d.jsx("div",{className:le["search-bar"],children:d.jsx("input",{onChange:a=>s({type:"keywords",value:a.currentTarget.value}),value:i.keywords,type:"text",name:"search",autoComplete:"off",placeholder:e("aside.search.find")})})]}),!!i.nodes.length&&d.jsxs("div",{className:le.result,children:[d.jsx("div",{className:le.title,children:e("aside.search.results")}),!!i.nodes.length&&l]}),d.jsx("div",{className:le["mainpage-title"],onClick:()=>{o("/search")},children:d.jsx("span",{children:e("aside.search.mainpage")})})]})}function Hn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bt(e,t)}function $t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bt(e,t)}function Ga(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ka(e,t){e.classList?e.classList.add(t):Ga(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ln(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Za(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ln(e.className,t):e.setAttribute("class",ln(e.className&&e.className.baseVal||"",t))}const un={disabled:!1},zt=H.createContext(null);var Xn=function(t){return t.scrollTop},Ce="unmounted",he="exited",Z="entering",te="entered",Ae="exiting",ae=function(e){$t(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,c=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?c?(l=he,s.appearStatus=Z):l=te:r.unmountOnExit||r.mountOnEnter?l=Ce:l=he,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ce?{status:he}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Z&&o!==te&&(s=Z):(o===Z||o===te)&&(s=Ae)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,c;return s=o=c=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,c=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Z){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Re.findDOMNode(this);o&&Xn(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===he&&this.setState({status:Ce})},n.performEnter=function(i){var s=this,o=this.props.enter,c=this.context?this.context.isMounting:i,l=this.props.nodeRef?[c]:[Re.findDOMNode(this),c],a=l[0],u=l[1],p=this.getTimeouts(),h=c?p.appear:p.enter;if(!i&&!o||un.disabled){this.safeSetState({status:te},function(){s.props.onEntered(a)});return}this.props.onEnter(a,u),this.safeSetState({status:Z},function(){s.props.onEntering(a,u),s.onTransitionEnd(h,function(){s.safeSetState({status:te},function(){s.props.onEntered(a,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Re.findDOMNode(this);if(!s||un.disabled){this.safeSetState({status:he},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Ae},function(){i.props.onExiting(c),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:he},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Re.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],a=l[0],u=l[1];this.props.addEndListener(a,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ce)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=Hn(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return H.createElement(zt.Provider,{value:null},typeof o=="function"?o(i,c):H.cloneElement(H.Children.only(o),c))},t}(H.Component);ae.contextType=zt;ae.propTypes={};function pe(){}ae.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pe,onEntering:pe,onEntered:pe,onExit:pe,onExiting:pe,onExited:pe};ae.UNMOUNTED=Ce;ae.EXITED=he;ae.ENTERING=Z;ae.ENTERED=te;ae.EXITING=Ae;const Ja=ae;var Qa=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Ka(t,r)})},lt=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Za(t,r)})},Rt=function(e){$t(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,l){var a=r.resolveArguments(c,l),u=a[0],p=a[1];r.removeClasses(u,"exit"),r.addClass(u,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,l)},r.onEntering=function(c,l){var a=r.resolveArguments(c,l),u=a[0],p=a[1],h=p?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(c,l)},r.onEntered=function(c,l){var a=r.resolveArguments(c,l),u=a[0],p=a[1],h=p?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(c,l)},r.onExit=function(c){var l=r.resolveArguments(c),a=l[0];r.removeClasses(a,"appear"),r.removeClasses(a,"enter"),r.addClass(a,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var l=r.resolveArguments(c),a=l[0];r.addClass(a,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var l=r.resolveArguments(c),a=l[0];r.removeClasses(a,"exit"),r.addClass(a,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,l){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,l]},r.getClassNames=function(c){var l=r.props.classNames,a=typeof l=="string",u=a&&l?l+"-":"",p=a?""+u+c:l[c],h=a?p+"-active":l[c+"Active"],g=a?p+"-done":l[c+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:g}},r}var n=t.prototype;return n.addClass=function(i,s,o){var c=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),a=l.doneClassName;s==="appear"&&o==="done"&&a&&(c+=" "+a),o==="active"&&i&&Xn(i),c&&(this.appliedClasses[s][o]=c,Qa(i,c))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],c=o.base,l=o.active,a=o.done;this.appliedClasses[s]={},c&&lt(i,c),l&&lt(i,l),a&&lt(i,a)},n.render=function(){var i=this.props;i.classNames;var s=Hn(i,["classNames"]);return H.createElement(Ja,ut({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(H.Component);Rt.defaultProps={classNames:""};Rt.propTypes={};const ec=Rt;var Pe,Ie;function tc(e,t){return!(e===t||H.isValidElement(e)&&H.isValidElement(t)&&e.key!=null&&e.key===t.key)}var xe={out:"out-in",in:"in-out"},Je=function(t,n,r){return function(){var i;t.props[n]&&(i=t.props)[n].apply(i,arguments),r()}},nc=(Pe={},Pe[xe.out]=function(e){var t=e.current,n=e.changeState;return H.cloneElement(t,{in:!1,onExited:Je(t,"onExited",function(){n(Z,null)})})},Pe[xe.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,H.cloneElement(r,{in:!0,onEntered:Je(r,"onEntered",function(){n(Z)})})]},Pe),rc=(Ie={},Ie[xe.out]=function(e){var t=e.children,n=e.changeState;return H.cloneElement(t,{in:!0,onEntered:Je(t,"onEntered",function(){n(te,H.cloneElement(t,{in:!0}))})})},Ie[xe.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[H.cloneElement(t,{in:!1,onExited:Je(t,"onExited",function(){r(te,H.cloneElement(n,{in:!0}))})}),H.cloneElement(n,{in:!0})]},Ie),Dt=function(e){$t(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.state={status:te,current:null},r.appeared=!1,r.changeState=function(c,l){l===void 0&&(l=r.state.current),r.setState({status:c,current:l})},r}var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(i,s){return i.children==null?{current:null}:s.status===Z&&i.mode===xe.in?{status:Z}:s.current&&tc(s.current,i.children)?{status:Ae}:{current:H.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,s=i.children,o=i.mode,c=this.state,l=c.status,a=c.current,u={children:s,current:a,changeState:this.changeState,status:l},p;switch(l){case Z:p=rc[o](u);break;case Ae:p=nc[o](u);break;case te:p=a}return H.createElement(zt.Provider,{value:{isMounting:!this.appeared}},p)},t}(H.Component);Dt.propTypes={};Dt.defaultProps={mode:xe.out};const ic=Dt,Wn=$.createContext(null),sc=({children:e})=>{const t=$.useRef(null);return t.current||(t.current=document.createElement("div"),document.body.appendChild(t.current)),$.useEffect(()=>function(){t.current&&document.body.removeChild(t.current)},[]),nr.createPortal(e,t.current)},oc=({content:e,children:t})=>{const n=$.useRef(null),r=$.useRef(null),[i,s]=$.useState(!1),[o,c]=$.useState({left:0,top:0});return $.useEffect(()=>{if(!n||!n.current||!r||!r.current)return;const{current:l}=n,{current:a}=r,{left:u,top:p}=l.getBoundingClientRect(),{width:h,height:g}=a.getBoundingClientRect();c({left:u-(h+5)+document.documentElement.scrollLeft,top:p-g+document.documentElement.scrollTop})},[n,r,i]),d.jsxs(d.Fragment,{children:[H.cloneElement(t,{ref:n,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}),i?d.jsx(sc,{children:d.jsx("div",{ref:r,style:{position:"absolute",zIndex:9999,left:o.left,top:o.top,backgroundColor:"white",borderRadius:"5px",padding:"10px",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)"},children:e})}):void 0]})};function ac({treeMap:e,isHierarchy:t}){const n=e.leaves(),r=Bn([n.length<=4?8:n.length*2,0],va);return d.jsxs("div",{style:{position:"relative"},children:[t&&d.jsx(fn,{x0:e.x0,y0:e.y0,x1:e.x1,y1:e.y1,data:e.data,color:r(n.length)},e.value||0),n.map(({x0:i,y0:s,x1:o,y1:c,data:l,value:a},u)=>d.jsx(fn,{x0:i,y0:s,x1:o,y1:c,data:l,color:r(u)},a||0))]})}const fn=({x0:e,x1:t,y0:n,y1:r,data:i,color:s})=>{const o=$.useRef(null),[c,l]=$.useState(!1),[a,u]=$.useState(!1),[p,h]=$.useState(!1),{handle_rect_click:g,loading:S,RectFontSize:k}=$.useContext(Wn);$.useEffect(()=>{if((!i._children||i._children.length===0)&&h(!0),!o||!o.current)return;const{current:y}=o;(y.scrollWidth>y.clientWidth||y.scrollHeight>y.clientHeight)&&l(!c)},[o,c]);const b=y=>{console.log(i),!(!i._children||i._children.length===0)&&g(i)(y)};return d.jsx(d.Fragment,{children:c?d.jsx(oc,{content:d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["name: ",i.name]}),d.jsxs("div",{children:["size: ",i.size]})]}),children:d.jsx("div",{style:{position:"absolute",backgroundColor:s,left:e,top:n,width:t-e,height:r-n,overflow:"hidden",cursor:p?"not-allowed":"default",boxShadow:"0 0 0 1px rgba(16, 22, 26, 0.04), 0 1px 3px 0 rgba(16, 22, 26, 0.12)"},ref:o,onClick:b})}):d.jsx("div",{style:{position:"absolute",backgroundColor:s,left:e,top:a?n-5:n,width:t-e,height:r-n,transition:"all 0.3s ease",overflow:"hidden",fontSize:k,padding:"0.3rem",cursor:p?"not-allowed":"default",boxShadow:a?"0 0 0 3px rgba(16, 22, 26, 0.1), 0 1px 3px 0 rgba(16, 22, 26, 0.12)":"0 0 0 1px rgba(16, 22, 26, 0.04), 0 1px 3px 0 rgba(16, 22, 26, 0.12)"},onMouseMove:()=>{u(!0)},onMouseLeave:()=>{u(!1)},ref:o,onClick:b,children:i.size!=null||i._size!=null?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["name: ",i.name]}),d.jsxs("div",{children:["size: ",i.size?i.size:0]})]}):S})})},cc=({children:e,value:t})=>d.jsx(Wn.Provider,{value:t,children:e});function Yn({width:e=30,height:t=30}){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block",shapeRendering:"auto"},fill:"none",width:e,height:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:d.jsxs("g",{children:[d.jsx("path",{d:"M50 15A35 35 0 1 0 74.74873734152916 25.251262658470843",fill:"none",stroke:"var(--color-primary-base)","stroke-width":"4"}),d.jsx("path",{d:"M49 3L49 27L61 15L49 3",fill:"var(--color-primary-base)"}),d.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})]})})}function Gn(e){if(!e)return;const t=e.dependencies,n={name:"",children:[]},r=Object.values(t);return r.length!==0&&r.forEach(i=>{var o;const s=Gn(i);s&&((o=n.children)==null||o.push(s))}),n.name=`${e.name}@${e.version}`,n.size=e.size?e.size:0,n}const lc=({hiddenWidthMultiplier:e=10,hiddenHeightMultiplier:t=10,width:n=500,height:r=500,margin:i=0,padding:s=2,RectFontSize:o=14,fullScreen:c=!1,loading:l=d.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:d.jsx(Yn,{})})})=>{c&&(n=window.innerWidth,r=window.innerHeight);const[a,u]=$.useState(0),[p,h]=$.useState(),[g,S]=$.useState(),{selectedNode:k,setSelectNode:b}=Y(O=>({selectedNode:O.selectedSizeNode,setSelectNode:O.setSelectSizeNode})),[y,M]=$.useState(n),[A,N]=$.useState(r);!k&&g&&S(void 0),$.useEffect(()=>{h(Gn(k))},[k]);const T=$.useCallback(O=>{if(!O)return;const W={name:O.name,_size:O.size,size:O.children.length?void 0:O.size||O._size,children:O.children.map(x=>({name:x.name,size:x.size,_children:x.children,children:[]}))},X=nt(W).sum(x=>x.size?x.size:0).sort((x,w)=>w.value-x.value),U=c?sn().size([n-2*i,r-2*i]).round(!0).paddingTop(20).paddingLeft(10).paddingRight(10).paddingInner(s)(X):sn().size([n-2*i,r-2*i]).round(!0).paddingInner(s)(X);if(n<500||r<500){const x=[];if(U.children&&U.children.forEach(w=>{const{x1:_,x0:f,y1:v,y0:m,data:E}=w,C=_-f,j=v-m,z=U.x1-U.x0,D=U.y1-U.y0;(C<z/e||j<D/t)&&x.push(E.name)}),x.length>0){const w={name:O.name,size:O.size,children:O.children.filter(_=>!x.includes(_.name))||[]};T(w);return}}S(U)},[r,i,n]);$.useEffect(()=>{p&&T(p)},[p,T]);const L=O=>()=>{!O._children||!O._children.length||(u(a?0:1),O.children=O._children,b(k.dependencies[O.name.split("@")[0]?O.name.split("@")[0]:`@${O.name.split("@")[1]}`]),T(O))};return $.useEffect(()=>{window.addEventListener("resize",rr(()=>{M(window.innerWidth),N(window.innerHeight)}),!1)},[]),d.jsx(cc,{value:{handle_rect_click:L,loading:l,RectFontSize:o},children:d.jsx("div",{style:{position:"relative",width:y,height:A,backgroundColor:"var(--color-border)"},className:"text-dark-500",children:d.jsx(ic,{mode:"out-in",children:d.jsx(ec,{classNames:"fade",timeout:500,children:d.jsxs("div",{style:{position:"absolute",left:i,top:i,width:"100%",height:"100%",textAlign:"center"},children:[g&&d.jsx(ac,{isHierarchy:c,treeMap:g}),!g&&l]})},a)})})})},Kn=lc;function uc(){const{t:e}=oe(),{selectedNode:t,selectedSizeNode:n}=Y(r=>r);return d.jsxs("div",{children:[d.jsx("div",{className:"module-title",children:e("aside.module.information")}),d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"module-info-name",children:t.name}),d.jsxs("div",{className:"module-info-version",children:[t.declarationVersion?"@"+t.declarationVersion:"","(",t.version,")"]})]}),t.description?d.jsxs("div",{className:"module-des",children:[d.jsx("div",{className:"title",children:e("aside.module.description")}),d.jsx("div",{className:"des",children:t.description})]}):null,t.dependencies?d.jsxs("div",{className:"module-size",children:[d.jsx("div",{className:"title",children:e("aside.module.dependencies")}),d.jsxs("div",{className:"cache p-3",children:[Object.keys(t.dependencies).length," / ",t.childrenNumber]})]}):null,t.cache?d.jsxs("div",{className:"module-size",children:[d.jsx("div",{className:"title",children:e("aside.module.cache")}),d.jsx("div",{className:" cache p-3 module-dep-item",children:"true"})]}):null,t.circlePath?d.jsxs("div",{className:"module-size",children:[d.jsx("div",{className:"title",children:e("aside.module.circlePath")}),d.jsx("div",{className:" cache p-3 module-dep-item",children:"true"})]}):null,n&&n.size?d.jsxs("div",{className:"module-size",children:[d.jsx("div",{className:"title",children:e("aside.module.size")}),d.jsx("div",{className:"size",children:n.size})]}):null,d.jsx("div",{className:"size-graph-title",children:e("aside.module.graph")}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Kn,{width:376,height:376,RectFontSize:14})})]})}function fc(){const{t:e}=oe(),t={[e("aside.search.title")]:d.jsx(Ya,{}),[e("aside.list.title")]:d.jsx(Fa,{}),[e("aside.module.title")]:d.jsx(uc,{})},n=Object.keys(t),[r,i]=$.useState(n[1]),[s,o]=$.useState(t[r]),[c,l]=$.useState(!1);return $.useEffect(()=>{o(t[r])},[r]),d.jsxs("div",{className:"sidebar border-l-solid border-l-border bg-bg-container text-text",style:{transform:`translateX(${c?"0":"25rem"})`,transition:"transform 0.5s"},children:[d.jsx(Ua,{setShowName:i,typeName:n,showName:r,setShowSideAll:l,showSideAll:c}),d.jsx("div",{className:"sidebar-container",children:s})]})}function hc(){const{depth:e,rootLoading:t,setRootLoading:n,setDepth:r}=Y(s=>s,_t),{t:i}=oe();return d.jsx("section",{id:`${i("section.maxDepth")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:t?d.jsx(Yn,{}):d.jsx("input",{id:"depth",type:"number",min:2,defaultValue:e,onBlur:s=>{r(parseInt(s.target.value)),n(!0)},className:"p-1 h-2rem w-5rem outline-primary-base text-center text-text bg-bg-container",border:"solid 2 rd-0.5rem primary-border-hover hover:primary-hover"})})}function dc(){const{t:e}=oe(),{collapse:t,setCollapse:n}=Y(r=>({collapse:r.collapse,setCollapse:r.setCollapse}));return d.jsx("section",{id:`${e(t?"section.expand":"section.collapse")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:d.jsx("div",{onClick:()=>n(!t),className:`
          ${t?"i-carbon-expand-categories":"i-carbon-collapse-categories"}
          text-1.5rem 
          c-primary-border-hover
          hover:c-primary-border-hover`})})}var Zn={};(function(e){(function(){var t=e||!1||this||window;t.default=t;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/1999/xhtml",i="http://www.w3.org/2000/svg",s='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',o=/url\(["']?(.+?)["']?\)/,c={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},l=function(w){return w instanceof HTMLElement||w instanceof SVGElement},a=function(w){if(!l(w))throw new Error("an HTMLElement or SVGElement is required; got "+w)},u=function(w){return new Promise(function(_,f){l(w)?_(w):f(new Error("an HTMLElement or SVGElement is required; got "+w))})},p=function(w){return w&&w.lastIndexOf("http",0)===0&&w.lastIndexOf(window.location.host)===-1},h=function(w){var _=Object.keys(c).filter(function(f){return w.indexOf("."+f)>0}).map(function(f){return c[f]});return _?_[0]:(console.error("Unknown font format for "+w+". Fonts may not be working correctly."),"application/octet-stream")},g=function(w){for(var _="",f=new Uint8Array(w),v=0;v<f.byteLength;v++)_+=String.fromCharCode(f[v]);return window.btoa(_)},S=function(w,_,f){var v=w.viewBox&&w.viewBox.baseVal&&w.viewBox.baseVal[f]||_.getAttribute(f)!==null&&!_.getAttribute(f).match(/%$/)&&parseInt(_.getAttribute(f))||w.getBoundingClientRect()[f]||parseInt(_.style[f])||parseInt(window.getComputedStyle(w).getPropertyValue(f));return typeof v>"u"||v===null||isNaN(parseFloat(v))?0:v},k=function(w,_,f,v){if(w.tagName==="svg")return{width:f||S(w,_,"width"),height:v||S(w,_,"height")};if(w.getBBox){var m=w.getBBox(),E=m.x,C=m.y,j=m.width,z=m.height;return{width:E+j,height:C+z}}},b=function(w){return decodeURIComponent(encodeURIComponent(w).replace(/%([0-9A-F]{2})/g,function(_,f){var v=String.fromCharCode("0x"+f);return v==="%"?"%25":v}))},y=function(w){for(var _=window.atob(w.split(",")[1]),f=w.split(",")[0].split(":")[1].split(";")[0],v=new ArrayBuffer(_.length),m=new Uint8Array(v),E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return new Blob([v],{type:f})},M=function(w,_){if(_)try{return w.querySelector(_)||w.parentNode&&w.parentNode.querySelector(_)}catch(f){console.warn('Invalid CSS selector "'+_+'"',f)}},A=function(w,_){var f=w.cssText.match(o),v=f&&f[1]||"";if(!(!v||v.match(/^data:/)||v==="about:blank")){var m=v.startsWith("../")?_+"/../"+v:v.startsWith("./")?_+"/."+v:v;return{text:w.cssText,format:h(m),url:m}}},N=function(w){return Promise.all(Array.from(w.querySelectorAll("image")).map(function(_){var f=_.getAttributeNS("http://www.w3.org/1999/xlink","href")||_.getAttribute("href");return f?(p(f)&&(f+=(f.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(v,m){var E=document.createElement("canvas"),C=new Image;C.crossOrigin="anonymous",C.src=f,C.onerror=function(){return m(new Error("Could not load "+f))},C.onload=function(){E.width=C.width,E.height=C.height,E.getContext("2d").drawImage(C,0,0),_.setAttributeNS("http://www.w3.org/1999/xlink","href",E.toDataURL("image/png")),v(!0)}})):Promise.resolve(null)}))},T={},L=function(w){return Promise.all(w.map(function(_){return new Promise(function(f,v){if(T[_.url])return f(T[_.url]);var m=new XMLHttpRequest;m.addEventListener("load",function(){var E=g(m.response),C=_.text.replace(o,'url("data:'+_.format+";base64,"+E+'")')+`
`;T[_.url]=C,f(C)}),m.addEventListener("error",function(E){console.warn("Failed to load font from: "+_.url,E),T[_.url]=null,f(null)}),m.addEventListener("abort",function(E){console.warn("Aborted loading font from: "+_.url,E),f(null)}),m.open("GET",_.url),m.responseType="arraybuffer",m.send()})})).then(function(_){return _.filter(function(f){return f}).join("")})},O=null,W=function(){return O||(O=Array.from(document.styleSheets).map(function(w){try{return{rules:w.cssRules,href:w.href}}catch(_){return console.warn("Stylesheet could not be loaded: "+w.href,_),{}}}))},X=function(w,_){var f=_||{},v=f.selectorRemap,m=f.modifyStyle,E=f.modifyCss,C=f.fonts,j=f.excludeUnusedCss,z=E||function(P,F){var B=v?v(P):P,R=m?m(F):F;return B+"{"+R+`}
`},D=[],I=typeof C>"u",q=C||[];return W().forEach(function(P){var F=P.rules,B=P.href;F&&Array.from(F).forEach(function(R){if(typeof R.style<"u")if(M(w,R.selectorText))D.push(z(R.selectorText,R.style.cssText));else if(I&&R.cssText.match(/^@font-face/)){var V=A(R,B);V&&q.push(V)}else j||D.push(R.cssText)})}),L(q).then(function(P){return D.join(`
`)+P})},U=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};t.prepareSvg=function(x,w,_){a(x);var f=w||{},v=f.left,m=v===void 0?0:v,E=f.top,C=E===void 0?0:E,j=f.width,z=f.height,D=f.scale,I=D===void 0?1:D,q=f.responsive,P=q===void 0?!1:q,F=f.excludeCss,B=F===void 0?!1:F;return N(x).then(function(){var R=x.cloneNode(!0);R.style.backgroundColor=(w||{}).backgroundColor||x.style.backgroundColor;var V=k(x,R,j,z),K=V.width,ee=V.height;if(x.tagName!=="svg")if(x.getBBox){R.getAttribute("transform")!=null&&R.setAttribute("transform",R.getAttribute("transform").replace(/translate\(.*?\)/,""));var Ot=document.createElementNS("http://www.w3.org/2000/svg","svg");Ot.appendChild(R),R=Ot}else{console.error("Attempted to render non-SVG element",x);return}if(R.setAttribute("version","1.1"),R.setAttribute("viewBox",[m,C,K,ee].join(" ")),R.getAttribute("xmlns")||R.setAttributeNS(n,"xmlns",i),R.getAttribute("xmlns:xlink")||R.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),P?(R.removeAttribute("width"),R.removeAttribute("height"),R.setAttribute("preserveAspectRatio","xMinYMin meet")):(R.setAttribute("width",K*I),R.setAttribute("height",ee*I)),Array.from(R.querySelectorAll("foreignObject > *")).forEach(function(ze){ze.setAttributeNS(n,"xmlns",ze.tagName==="svg"?i:r)}),B){var Lt=document.createElement("div");Lt.appendChild(R);var Pt=Lt.innerHTML;if(typeof _=="function")_(Pt,K,ee);else return{src:Pt,width:K,height:ee}}else return X(x,w).then(function(ze){var st=document.createElement("style");st.setAttribute("type","text/css"),st.innerHTML=`<![CDATA[
`+ze+`
]]>`;var It=document.createElement("defs");It.appendChild(st),R.insertBefore(It,R.firstChild);var Bt=document.createElement("div");Bt.appendChild(R);var Ft=Bt.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof _=="function")_(Ft,K,ee);else return{src:Ft,width:K,height:ee}})})},t.svgAsDataUri=function(x,w,_){return a(x),t.prepareSvg(x,w).then(function(f){var v=f.src,m=f.width,E=f.height,C="data:image/svg+xml;base64,"+window.btoa(b(s+v));return typeof _=="function"&&_(C,m,E),C})},t.svgAsPngUri=function(x,w,_){a(x);var f=w||{},v=f.encoderType,m=v===void 0?"image/png":v,E=f.encoderOptions,C=E===void 0?.8:E,j=f.canvg,z=function(I){var q=I.src,P=I.width,F=I.height,B=document.createElement("canvas"),R=B.getContext("2d"),V=window.devicePixelRatio||1;B.width=P*V,B.height=F*V,B.style.width=B.width+"px",B.style.height=B.height+"px",R.setTransform(V,0,0,V,0,0),j?j(B,q):R.drawImage(q,0,0);var K=void 0;try{K=B.toDataURL(m,C)}catch(ee){if(typeof SecurityError<"u"&&ee instanceof SecurityError||ee.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw ee}return typeof _=="function"&&_(K,B.width,B.height),Promise.resolve(K)};return j?t.prepareSvg(x,w).then(z):t.svgAsDataUri(x,w).then(function(D){return new Promise(function(I,q){var P=new Image;P.onload=function(){return I(z({src:P,width:P.width,height:P.height}))},P.onerror=function(){q(`There was an error loading the data URI as an image on the following SVG
`+window.atob(D.slice(26))+`Open the following link to see browser's diagnosis
`+D)},P.src=D})})},t.download=function(x,w,_){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(y(w),x);else{var f=document.createElement("a");if("download"in f){f.download=x,f.style.display="none",document.body.appendChild(f);try{var v=y(w),m=URL.createObjectURL(v);f.href=m,f.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(m)})}}catch(E){console.error(E),console.warn("Error while getting object URL. Falling back to string URL."),f.href=w}f.click(),document.body.removeChild(f)}else _&&_.popup&&(_.popup.document.title=x,_.popup.location.replace(w))}},t.saveSvg=function(x,w,_){var f=U();return u(x).then(function(v){return t.svgAsDataUri(v,_||{})}).then(function(v){return t.download(w,v,f)})},t.saveSvgAsPng=function(x,w,_){var f=U();return u(x).then(function(v){return t.svgAsPngUri(v,_||{})}).then(function(v){return t.download(w,v,f)})}})()})(Zn);const pc=ir(Zn);function mc({svgRef:e,width:t,height:n,json:r}){const{t:i}=oe();let{current:s}=$.useRef({fileTypeRef:""});const[o]=Y(b=>[b.depth,b.setDepth]),{collapse:c}=Y(b=>({collapse:b.collapse,setCollapse:b.setCollapse})),l=()=>{const b=document.getElementsByTagName("select")[0],y=b.options[b.selectedIndex].value;s.fileTypeRef=y},a=(b,y={})=>{function M(N){kn("#resizing").attr("transform",N.transform)}const A=qn().on("zoom",M);if(b=="Full"){const N=c||o<3?1:Math.pow(2.1,o);J(e.current).call(A.transform,Me.translate(t/y.width,n/(100/N)).scale(.01))}else b=="Reset"&&J(e.current).call(A.transform,Me)},u=[{val:"json",name:".json"},{val:"svg",name:".svg"},{val:"png",name:".png"}];function p(b,y,M){const A=new Blob([b],{type:y}),N=window.URL.createObjectURL(A),T=document.createElement("a");T.href=N,T.style.display="none",T.setAttribute("download",M),document.body.appendChild(T),T.click(),URL.revokeObjectURL(N),document.body.removeChild(T)}function h(){const b=document.querySelector("svg"),y=b.getBBox();a("Full",y);const M=b.cloneNode(!0),A=b.getBBox(),N=new XMLSerializer;M.setAttribute("viewBox",A.x+" "+A.y+" "+A.width+" "+A.height),M.setAttribute("width",A.width*250),M.setAttribute("height",A.height*250);const T=`<?xml version="1.0" standalone="no"?>\r
`+N.serializeToString(M);p(T,"text/xml",`${r.name}${i("section.dependences")}.svg`),a("Reset")}const g=b=>{const y=document.querySelector("svg"),M=y.getBBox();a("Full",M);const A=y.cloneNode(!0),N=y.getBBox(),T=`${N.x*50} ${N.y*50} ${N.width*1.2} ${N.height*1.3}`;A.setAttribute("viewBox",T),A.setAttribute("width",N.width*250),A.setAttribute("height",N.height*250),pc.saveSvgAsPng(A,`${r.name}${i("section.dependences")}.${b}`,{scale:80}),a("Reset")},S=()=>{if(r){let b=document.createElement("a");b.download=`${r.name}${i("section.dependences")}.json`,b.href="data:text/plain,"+JSON.stringify(r),b.click()}else alert(`${i("section.jsonexp")}`)},k=()=>{switch(s.fileTypeRef){case"json":S();break;case"svg":h();break;case"png":g("png");break;default:alert(`${i("section.alertexp")}`)}};return d.jsx(d.Fragment,{children:d.jsx("div",{children:d.jsxs("div",{className:"flex flex-items-end exporter align-middle",children:[d.jsx("div",{id:`${i("section.fileType")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:d.jsxs("select",{className:"flex w-20 h-8 lh-8 bg-bg-container text-text text-center",border:"solid 2 rd-0.5rem primary-border-hover",onChange:l,children:[d.jsx("option",{value:null,disabled:!0,selected:!0,hidden:!0,children:i("section.select")}),u.map((b,y)=>d.jsx("option",{value:b.val,children:b.name},`selector-opt-${y}`))]})}),d.jsx("div",{id:`${i("section.export")}`,className:`relative p-l-3
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:d.jsx("div",{className:"flex flex-row fs-24 c-primary-border-hover",onClick:k,children:d.jsx("div",{className:`
              i-carbon-logout
              text-1.5rem `})})})]})})})}function gc(){const{t:e}=oe(),{sizeTree:t,setSizeTree:n}=Y(r=>({sizeTree:r.sizeTree,setSizeTree:r.setSizeTree}));return d.jsx("section",{id:`${e(t?"section.rectTree":"section.plainTree")}`,className:`relative
      hover:after:absolute hover:after:flex hover:after:c-primary-hover hover:after:text-nowrap hover:after:left-50% hover:after:transform-translate-x--50% hover:after:content-[attr(id)]`,children:d.jsx("div",{onClick:()=>n(!t),className:`
          ${t?"i-carbon-chart-treemap":"i-carbon-decision-tree"}
          text-1.5rem 
          c-primary-border-hover
          hover:c-primary-border-hover`})})}function yc(){const[e]=sr(),{root:t,info:n,depth:r,sizeTree:i,setRoot:s,setGraphRes:o,rootLoading:c,setRootLoading:l,setSizeLoading:a}=Y(p=>p,_t),u=$.useRef(null);return $.useEffect(()=>{l(!0),a(!0),o(e.get("q")||n,r).then(()=>{l(!1),a(!1)})},[r,n]),$.useEffect(()=>{s(null)},[n]),c&&!t?d.jsx(or,{}):d.jsxs("main",{className:"w-screen h-screen overflow-hidden",children:[d.jsx("div",{className:"fixed",children:i?d.jsx(Kn,{fullScreen:!0}):d.jsx(Oa,{ref:u})}),d.jsx("div",{className:"fixed -z-50 bg-bg-container",children:d.jsx(ar,{})}),d.jsx(fc,{}),d.jsxs("div",{className:"fixed flex p-5",children:[d.jsx(cr,{}),d.jsx(lr,{}),d.jsx(ur,{})]}),d.jsxs("section",{className:"fixed flex left-2rem bottom-2rem gap-4 h-2rem",flex:"items-end",children:[d.jsx(hc,{}),d.jsx(mc,{svgRef:u,width:innerWidth,height:innerHeight,json:t}),d.jsx(dc,{}),d.jsx(gc,{})]})]})}export{yc as default};
