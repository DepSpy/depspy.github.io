import{g as It,r as F,R as ot,u as Kt,j as D,a as Gt,b as We,c as xe,_ as Pe,d as De,e as ut,f as ct}from"./index-a5edd9ac.js";var xt={},Pt={exports:{}},Vt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jt=Vt,Yt=Jt;function Dt(){}function Ct(){}Ct.resetWarningCache=Dt;var Qt=function(){function e(s,p,m,v,b,d){if(d!==Yt){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ct,resetWarningCache:Dt};return n.PropTypes=n,n};Pt.exports=Qt();var Ce=Pt.exports;const K=It(Ce);function Xt(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}var Zt=Xt,jt={},lt=function(){function e(t,n){var s=[],p=!0,m=!1,v=void 0;try{for(var b=t[Symbol.iterator](),d;!(p=(d=b.next()).done)&&(s.push(d.value),!(n&&s.length===n));p=!0);}catch(O){m=!0,v=O}finally{try{!p&&b.return&&b.return()}finally{if(m)throw v}}return s}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),en=function(e){var t=e.data,n=e.multiSection;function s(d){for(d===null?d=0:d++;d<t.length&&t[d]===0;)d++;return d===t.length?null:d}function p(d){for(d===null?d=t.length-1:d--;d>=0&&t[d]===0;)d--;return d===-1?null:d}function m(d){var O=lt(d,2),R=O[0],E=O[1];return n?E===null||E===t[R]-1?(R=s(R),R===null?[null,null]:[R,0]):[R,E+1]:t===0||E===t-1?[null,null]:E===null?[null,0]:[null,E+1]}function v(d){var O=lt(d,2),R=O[0],E=O[1];return n?E===null||E===0?(R=p(R),R===null?[null,null]:[R,t[R]-1]):[R,E-1]:t===0||E===0?[null,null]:E===null?[null,t-1]:[null,E-1]}function b(d){return m(d)[1]===null}return{next:m,prev:v,isLast:b}},Ye={exports:{}},tn=Object.prototype.propertyIsEnumerable;function nn(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function rn(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(n){return tn.call(e,n)})}var on=Object.assign||function(e,t){for(var n,s,p=nn(e),m=1;m<arguments.length;m++){n=arguments[m],s=rn(Object(n));for(var v=0;v<s.length;v++)p[s[v]]=n[s[v]]}return p};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(O,R){var E=[],N=!0,L=!1,q=void 0;try{for(var U=O[Symbol.iterator](),W;!(N=(W=U.next()).done)&&(E.push(W.value),!(R&&E.length===R));N=!0);}catch(M){L=!0,q=M}finally{try{!N&&U.return&&U.return()}finally{if(L)throw q}}return E}return function(O,R){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return d(O,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function s(d){return d&&d.__esModule?d:{default:d}}function p(d){if(Array.isArray(d)){for(var O=0,R=Array(d.length);O<d.length;O++)R[O]=d[O];return R}else return Array.from(d)}var m=on,v=s(m),b=function(O){return O};t.default=function(d){var O=Array.isArray(d)&&d.length===2?d:[d,null],R=n(O,2),E=R[0],N=R[1];return function(L){for(var q=arguments.length,U=Array(q>1?q-1:0),W=1;W<q;W++)U[W-1]=arguments[W];var M=U.map(function(B){return E[B]}).filter(b);return typeof M[0]=="string"||typeof N=="function"?{key:L,className:N?N.apply(void 0,p(M)):M.join(" ")}:{key:L,style:v.default.apply(void 0,[{}].concat(p(M)))}}},e.exports=t.default})(Ye,Ye.exports);var sn=Ye.exports,Rt={},Be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function t(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(s)}function n(s,p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(s===p)return!1;var v=Object.keys(s),b=Object.keys(p);if(v.length!==b.length)return!0;var d={},O,R;for(O=0,R=m.length;O<R;O++)d[m[O]]=!0;for(O=0,R=v.length;O<R;O++){var E=v[O],N=s[E],L=p[E];if(N!==L){if(!d[E]||N===null||L===null||t(N)!=="object"||t(L)!=="object")return!0;var q=Object.keys(N),U=Object.keys(L);if(q.length!==U.length)return!0;for(var W=0,M=q.length;W<M;W++){var B=q[W];if(N[B]!==L[B])return!0}}}return!1}})(Be);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=v(F),n=p(Ce),s=p(Be);function p(I){return I&&I.__esModule?I:{default:I}}function m(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return m=function(){return I},I}function v(I){if(I&&I.__esModule)return I;if(I===null||b(I)!=="object"&&typeof I!="function")return{default:I};var T=m();if(T&&T.has(I))return T.get(I);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in I)if(Object.prototype.hasOwnProperty.call(I,g)){var i=P?Object.getOwnPropertyDescriptor(I,g):null;i&&(i.get||i.set)?Object.defineProperty(_,g,i):_[g]=I[g]}return _.default=I,T&&T.set(I,_),_}function b(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(_){return typeof _}:b=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},b(I)}function d(I,T){if(!(I instanceof T))throw new TypeError("Cannot call a class as a function")}function O(I,T){for(var _=0;_<T.length;_++){var P=T[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}function R(I,T,_){return T&&O(I.prototype,T),_&&O(I,_),I}function E(I){return function(){var T=U(I),_;if(q()){var P=U(this).constructor;_=Reflect.construct(T,arguments,P)}else _=T.apply(this,arguments);return N(this,_)}}function N(I,T){return T&&(b(T)==="object"||typeof T=="function")?T:L(I)}function L(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function U(I){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},U(I)}function W(I,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(T&&T.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),T&&M(I,T)}function M(I,T){return M=Object.setPrototypeOf||function(P,g){return P.__proto__=g,P},M(I,T)}function B(I,T,_){return T in I?Object.defineProperty(I,T,{value:_,enumerable:!0,configurable:!0,writable:!0}):I[T]=_,I}var G=function(I){W(_,I);var T=E(_);function _(){return d(this,_),T.apply(this,arguments)}return R(_,[{key:"shouldComponentUpdate",value:function(g){return(0,s.default)(g,this.props)}},{key:"render",value:function(){var g=this.props,i=g.section,l=g.renderSectionTitle,y=g.theme,w=g.sectionKeyPrefix,C=l(i);return C?t.default.createElement("div",y("".concat(w,"title"),"sectionTitle"),C):null}}]),_}(t.Component);e.default=G,B(G,"propTypes",{section:n.default.any.isRequired,renderSectionTitle:n.default.func.isRequired,theme:n.default.func.isRequired,sectionKeyPrefix:n.default.string.isRequired})})(Rt);var Et={},Tt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=v(F),n=p(Ce),s=p(Be);function p(i){return i&&i.__esModule?i:{default:i}}function m(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return m=function(){return i},i}function v(i){if(i&&i.__esModule)return i;if(i===null||b(i)!=="object"&&typeof i!="function")return{default:i};var l=m();if(l&&l.has(i))return l.get(i);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in i)if(Object.prototype.hasOwnProperty.call(i,C)){var k=w?Object.getOwnPropertyDescriptor(i,C):null;k&&(k.get||k.set)?Object.defineProperty(y,C,k):y[C]=i[C]}return y.default=i,l&&l.set(i,y),y}function b(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(y){return typeof y}:b=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},b(i)}function d(){return d=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var y=arguments[l];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(i[w]=y[w])}return i},d.apply(this,arguments)}function O(i,l){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(i);l&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(i,C).enumerable})),y.push.apply(y,w)}return y}function R(i){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?O(Object(y),!0).forEach(function(w){P(i,w,y[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(y)):O(Object(y)).forEach(function(w){Object.defineProperty(i,w,Object.getOwnPropertyDescriptor(y,w))})}return i}function E(i,l){if(i==null)return{};var y=N(i,l),w,C;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(i);for(C=0;C<k.length;C++)w=k[C],!(l.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(i,w)&&(y[w]=i[w])}return y}function N(i,l){if(i==null)return{};var y={},w=Object.keys(i),C,k;for(k=0;k<w.length;k++)C=w[k],!(l.indexOf(C)>=0)&&(y[C]=i[C]);return y}function L(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function q(i,l){for(var y=0;y<l.length;y++){var w=l[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(i,w.key,w)}}function U(i,l,y){return l&&q(i.prototype,l),y&&q(i,y),i}function W(i){return function(){var l=I(i),y;if(G()){var w=I(this).constructor;y=Reflect.construct(l,arguments,w)}else y=l.apply(this,arguments);return M(this,y)}}function M(i,l){return l&&(b(l)==="object"||typeof l=="function")?l:B(i)}function B(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function I(i){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},I(i)}function T(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),l&&_(i,l)}function _(i,l){return _=Object.setPrototypeOf||function(w,C){return w.__proto__=C,w},_(i,l)}function P(i,l,y){return l in i?Object.defineProperty(i,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[l]=y,i}var g=function(i){T(y,i);var l=W(y);function y(){var w;L(this,y);for(var C=arguments.length,k=new Array(C),z=0;z<C;z++)k[z]=arguments[z];return w=l.call.apply(l,[this].concat(k)),P(B(w),"storeItemReference",function(ee){ee!==null&&(w.item=ee)}),P(B(w),"onMouseEnter",function(ee){var V=w.props,h=V.sectionIndex,o=V.itemIndex;w.props.onMouseEnter(ee,{sectionIndex:h,itemIndex:o})}),P(B(w),"onMouseLeave",function(ee){var V=w.props,h=V.sectionIndex,o=V.itemIndex;w.props.onMouseLeave(ee,{sectionIndex:h,itemIndex:o})}),P(B(w),"onMouseDown",function(ee){var V=w.props,h=V.sectionIndex,o=V.itemIndex;w.props.onMouseDown(ee,{sectionIndex:h,itemIndex:o})}),P(B(w),"onClick",function(ee){var V=w.props,h=V.sectionIndex,o=V.itemIndex;w.props.onClick(ee,{sectionIndex:h,itemIndex:o})}),w}return U(y,[{key:"shouldComponentUpdate",value:function(C){return(0,s.default)(C,this.props,["renderItemData"])}},{key:"render",value:function(){var C=this.props,k=C.isHighlighted,z=C.item,ee=C.renderItem,V=C.renderItemData,h=E(C,["isHighlighted","item","renderItem","renderItemData"]);return delete h.sectionIndex,delete h.itemIndex,typeof h.onMouseEnter=="function"&&(h.onMouseEnter=this.onMouseEnter),typeof h.onMouseLeave=="function"&&(h.onMouseLeave=this.onMouseLeave),typeof h.onMouseDown=="function"&&(h.onMouseDown=this.onMouseDown),typeof h.onClick=="function"&&(h.onClick=this.onClick),t.default.createElement("li",d({role:"option"},h,{ref:this.storeItemReference}),ee(z,R({isHighlighted:k},V)))}}]),y}(t.Component);e.default=g,P(g,"propTypes",{sectionIndex:n.default.number,isHighlighted:n.default.bool.isRequired,itemIndex:n.default.number.isRequired,item:n.default.any.isRequired,renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,onMouseEnter:n.default.func,onMouseLeave:n.default.func,onMouseDown:n.default.func,onClick:n.default.func})})(Tt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=b(F),n=m(Ce),s=m(Tt),p=m(Be);function m(g){return g&&g.__esModule?g:{default:g}}function v(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return v=function(){return g},g}function b(g){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var i=v();if(i&&i.has(g))return i.get(g);var l={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in g)if(Object.prototype.hasOwnProperty.call(g,w)){var C=y?Object.getOwnPropertyDescriptor(g,w):null;C&&(C.get||C.set)?Object.defineProperty(l,w,C):l[w]=g[w]}return l.default=g,i&&i.set(g,l),l}function d(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(l){return typeof l}:d=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},d(g)}function O(){return O=Object.assign||function(g){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(g[y]=l[y])}return g},O.apply(this,arguments)}function R(g,i){var l=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);i&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(g,w).enumerable})),l.push.apply(l,y)}return l}function E(g){for(var i=1;i<arguments.length;i++){var l=arguments[i]!=null?arguments[i]:{};i%2?R(Object(l),!0).forEach(function(y){_(g,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(l)):R(Object(l)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(l,y))})}return g}function N(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")}function L(g,i){for(var l=0;l<i.length;l++){var y=i[l];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function q(g,i,l){return i&&L(g.prototype,i),l&&L(g,l),g}function U(g){return function(){var i=G(g),l;if(B()){var y=G(this).constructor;l=Reflect.construct(i,arguments,y)}else l=i.apply(this,arguments);return W(this,l)}}function W(g,i){return i&&(d(i)==="object"||typeof i=="function")?i:M(g)}function M(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(g){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},G(g)}function I(g,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(i&&i.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),i&&T(g,i)}function T(g,i){return T=Object.setPrototypeOf||function(y,w){return y.__proto__=w,y},T(g,i)}function _(g,i,l){return i in g?Object.defineProperty(g,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):g[i]=l,g}var P=function(g){I(l,g);var i=U(l);function l(){var y;N(this,l);for(var w=arguments.length,C=new Array(w),k=0;k<w;k++)C[k]=arguments[k];return y=i.call.apply(i,[this].concat(C)),_(M(y),"storeHighlightedItemReference",function(z){y.props.onHighlightedItemChange(z===null?null:z.item)}),y}return q(l,[{key:"shouldComponentUpdate",value:function(w){return(0,p.default)(w,this.props,["itemProps"])}},{key:"render",value:function(){var w=this,C=this.props,k=C.items,z=C.itemProps,ee=C.renderItem,V=C.renderItemData,h=C.sectionIndex,o=C.highlightedItemIndex,u=C.getItemId,c=C.theme,r=C.keyPrefix,a=h===null?r:"".concat(r,"section-").concat(h,"-"),f=typeof z=="function";return t.default.createElement("ul",O({role:"listbox"},c("".concat(a,"items-list"),"itemsList")),k.map(function(S,j){var H=j===0,$=j===o,J="".concat(a,"item-").concat(j),Q=f?z({sectionIndex:h,itemIndex:j}):z,te=E({id:u(h,j),"aria-selected":$},c(J,"item",H&&"itemFirst",$&&"itemHighlighted"),{},Q);return $&&(te.ref=w.storeHighlightedItemReference),t.default.createElement(s.default,O({},te,{sectionIndex:h,isHighlighted:$,itemIndex:j,item:S,renderItem:ee,renderItemData:V}))}))}}]),l}(t.Component);e.default=P,_(P,"propTypes",{items:n.default.array.isRequired,itemProps:n.default.oneOfType([n.default.object,n.default.func]),renderItem:n.default.func.isRequired,renderItemData:n.default.object.isRequired,sectionIndex:n.default.number,highlightedItemIndex:n.default.number,onHighlightedItemChange:n.default.func.isRequired,getItemId:n.default.func.isRequired,theme:n.default.func.isRequired,keyPrefix:n.default.string.isRequired}),_(P,"defaultProps",{sectionIndex:null})})(Et);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=O(F),n=b(Ce),s=b(en),p=b(sn),m=b(Rt),v=b(Et);function b(o){return o&&o.__esModule?o:{default:o}}function d(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return d=function(){return o},o}function O(o){if(o&&o.__esModule)return o;if(o===null||B(o)!=="object"&&typeof o!="function")return{default:o};var u=d();if(u&&u.has(o))return u.get(o);var c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){var f=r?Object.getOwnPropertyDescriptor(o,a):null;f&&(f.get||f.set)?Object.defineProperty(c,a,f):c[a]=o[a]}return c.default=o,u&&u.set(o,c),c}function R(o,u){var c=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);u&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),c.push.apply(c,r)}return c}function E(o){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?R(Object(c),!0).forEach(function(r){C(o,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):R(Object(c)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(c,r))})}return o}function N(o,u){return M(o)||W(o,u)||q(o,u)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(o,u){if(o){if(typeof o=="string")return U(o,u);var c=Object.prototype.toString.call(o).slice(8,-1);if(c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set")return Array.from(c);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return U(o,u)}}function U(o,u){(u==null||u>o.length)&&(u=o.length);for(var c=0,r=new Array(u);c<u;c++)r[c]=o[c];return r}function W(o,u){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var c=[],r=!0,a=!1,f=void 0;try{for(var S=o[Symbol.iterator](),j;!(r=(j=S.next()).done)&&(c.push(j.value),!(u&&c.length===u));r=!0);}catch(H){a=!0,f=H}finally{try{!r&&S.return!=null&&S.return()}finally{if(a)throw f}}return c}}function M(o){if(Array.isArray(o))return o}function B(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(c){return typeof c}:B=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},B(o)}function G(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function I(o,u){for(var c=0;c<u.length;c++){var r=u[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function T(o,u,c){return u&&I(o.prototype,u),c&&I(o,c),o}function _(o){return function(){var u=l(o),c;if(i()){var r=l(this).constructor;c=Reflect.construct(u,arguments,r)}else c=u.apply(this,arguments);return P(this,c)}}function P(o,u){return u&&(B(u)==="object"||typeof u=="function")?u:g(o)}function g(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(o){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},l(o)}function y(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&w(o,u)}function w(o,u){return w=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},w(o,u)}function C(o,u,c){return u in o?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,o}var k={},z=function(u){return t.default.createElement("input",u)},ee=function(u){var c=u.containerProps,r=u.children;return t.default.createElement("div",c,r)},V={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},h=function(o){y(c,o);var u=_(c);function c(r){var a;return G(this,c),a=u.call(this,r),C(g(a),"storeInputReference",function(f){f!==null&&(a.input=f);var S=a.props.inputProps.ref;S&&(typeof S=="function"?S(f):B(S)==="object"&&Object.prototype.hasOwnProperty.call(S,"current")&&(S.current=f))}),C(g(a),"storeItemsContainerReference",function(f){f!==null&&(a.itemsContainer=f)}),C(g(a),"onHighlightedItemChange",function(f){a.highlightedItem=f}),C(g(a),"getItemId",function(f,S){if(S===null)return null;var j=a.props.id,H=f===null?"":"section-".concat(f);return"react-autowhatever-".concat(j,"-").concat(H,"-item-").concat(S)}),C(g(a),"onFocus",function(f){var S=a.props.inputProps;a.setState({isInputFocused:!0}),S.onFocus&&S.onFocus(f)}),C(g(a),"onBlur",function(f){var S=a.props.inputProps;a.setState({isInputFocused:!1}),S.onBlur&&S.onBlur(f)}),C(g(a),"onKeyDown",function(f){var S=a.props,j=S.inputProps,H=S.highlightedSectionIndex,$=S.highlightedItemIndex,J=f.keyCode;switch(J){case 40:case 38:{var Q=J===40?"next":"prev",te=a.sectionIterator[Q]([H,$]),re=N(te,2),ie=re[0],fe=re[1];j.onKeyDown(f,{newHighlightedSectionIndex:ie,newHighlightedItemIndex:fe});break}default:j.onKeyDown(f,{highlightedSectionIndex:H,highlightedItemIndex:$})}}),a.highlightedItem=null,a.state={isInputFocused:!1},a.setSectionsItems(r),a.setSectionIterator(r),a.setTheme(r),a}return T(c,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){a.items!==this.props.items&&this.setSectionsItems(a),(a.items!==this.props.items||a.multiSection!==this.props.multiSection)&&this.setSectionIterator(a),a.theme!==this.props.theme&&this.setTheme(a)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(a){a.multiSection&&(this.sectionsItems=a.items.map(function(f){return a.getSectionItems(f)}),this.sectionsLengths=this.sectionsItems.map(function(f){return f.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(f){return f===0}))}},{key:"setSectionIterator",value:function(a){this.sectionIterator=(0,s.default)({multiSection:a.multiSection,data:a.multiSection?this.sectionsLengths:a.items.length})}},{key:"setTheme",value:function(a){this.theme=(0,p.default)(a.theme)}},{key:"renderSections",value:function(){var a=this;if(this.allSectionsAreEmpty)return null;var f=this.theme,S=this.props,j=S.id,H=S.items,$=S.renderItem,J=S.renderItemData,Q=S.renderSectionTitle,te=S.highlightedSectionIndex,re=S.highlightedItemIndex,ie=S.itemProps;return H.map(function(fe,oe){var de="react-autowhatever-".concat(j,"-"),ae="".concat(de,"section-").concat(oe,"-"),ue=oe===0;return t.default.createElement("div",f("".concat(ae,"container"),"sectionContainer",ue&&"sectionContainerFirst"),t.default.createElement(m.default,{section:fe,renderSectionTitle:Q,theme:f,sectionKeyPrefix:ae}),t.default.createElement(v.default,{items:a.sectionsItems[oe],itemProps:ie,renderItem:$,renderItemData:J,sectionIndex:oe,highlightedItemIndex:te===oe?re:null,onHighlightedItemChange:a.onHighlightedItemChange,getItemId:a.getItemId,theme:f,keyPrefix:de,ref:a.storeItemsListReference}))})}},{key:"renderItems",value:function(){var a=this.props.items;if(a.length===0)return null;var f=this.theme,S=this.props,j=S.id,H=S.renderItem,$=S.renderItemData,J=S.highlightedSectionIndex,Q=S.highlightedItemIndex,te=S.itemProps;return t.default.createElement(v.default,{items:a,itemProps:te,renderItem:H,renderItemData:$,highlightedItemIndex:J===null?Q:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:f,keyPrefix:"react-autowhatever-".concat(j,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var a=this.highlightedItem;if(a){var f=this.itemsContainer,S=a.offsetParent===f?a.offsetTop:a.offsetTop-f.offsetTop,j=f.scrollTop;S<j?j=S:S+a.offsetHeight>j+f.offsetHeight&&(j=S+a.offsetHeight-f.offsetHeight),j!==f.scrollTop&&(f.scrollTop=j)}}},{key:"render",value:function(){var a=this.theme,f=this.props,S=f.id,j=f.multiSection,H=f.renderInputComponent,$=f.renderItemsContainer,J=f.highlightedSectionIndex,Q=f.highlightedItemIndex,te=this.state.isInputFocused,re=j?this.renderSections():this.renderItems(),ie=re!==null,fe=this.getItemId(J,Q),oe="react-autowhatever-".concat(S),de=E({role:"combobox","aria-haspopup":"listbox","aria-owns":oe,"aria-expanded":ie},a("react-autowhatever-".concat(S,"-container"),"container",ie&&"containerOpen"),{},this.props.containerProps),ae=H(E({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":oe,"aria-activedescendant":fe},a("react-autowhatever-".concat(S,"-input"),"input",ie&&"inputOpen",te&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),ue=$({containerProps:E({id:oe,role:"listbox"},a("react-autowhatever-".concat(S,"-items-container"),"itemsContainer",ie&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:re});return t.default.createElement("div",de,ae,ue)}}]),c}(t.Component);e.default=h,C(h,"propTypes",{id:n.default.string,multiSection:n.default.bool,renderInputComponent:n.default.func,renderItemsContainer:n.default.func,items:n.default.array.isRequired,renderItem:n.default.func,renderItemData:n.default.object,renderSectionTitle:n.default.func,getSectionItems:n.default.func,containerProps:n.default.object,inputProps:n.default.object,itemProps:n.default.oneOfType([n.default.object,n.default.func]),highlightedSectionIndex:n.default.number,highlightedItemIndex:n.default.number,theme:n.default.oneOfType([n.default.object,n.default.array])}),C(h,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:z,renderItemsContainer:ee,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:k,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:k,inputProps:k,itemProps:k,highlightedSectionIndex:null,highlightedItemIndex:null,theme:V})})(jt);var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.mapToAutowhateverTheme=Ie.defaultTheme=void 0;var an={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};Ie.defaultTheme=an;var un=function(t){var n={};for(var s in t)switch(s){case"suggestionsContainer":n.itemsContainer=t[s];break;case"suggestionsContainerOpen":n.itemsContainerOpen=t[s];break;case"suggestion":n.item=t[s];break;case"suggestionFirst":n.itemFirst=t[s];break;case"suggestionHighlighted":n.itemHighlighted=t[s];break;case"suggestionsList":n.itemsList=t[s];break;default:n[s]=t[s]}return n};Ie.mapToAutowhateverTheme=un;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=d(F),n=v(Ce),s=v(Zt),p=v(jt),m=Ie;function v(h){return h&&h.__esModule?h:{default:h}}function b(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return b=function(){return h},h}function d(h){if(h&&h.__esModule)return h;if(h===null||O(h)!=="object"&&typeof h!="function")return{default:h};var o=b();if(o&&o.has(h))return o.get(h);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in h)if(Object.prototype.hasOwnProperty.call(h,r)){var a=c?Object.getOwnPropertyDescriptor(h,r):null;a&&(a.get||a.set)?Object.defineProperty(u,r,a):u[r]=h[r]}return u.default=h,o&&o.set(h,u),u}function O(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(u){return typeof u}:O=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O(h)}function R(h,o){var u=Object.keys(h);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(h);o&&(c=c.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),u.push.apply(u,c)}return u}function E(h){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?R(Object(u),!0).forEach(function(c){_(h,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)):R(Object(u)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(u,c))})}return h}function N(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function L(h,o){for(var u=0;u<o.length;u++){var c=o[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}function q(h,o,u){return o&&L(h.prototype,o),u&&L(h,u),h}function U(h){return function(){var o=G(h),u;if(B()){var c=G(this).constructor;u=Reflect.construct(o,arguments,c)}else u=o.apply(this,arguments);return W(this,u)}}function W(h,o){return o&&(O(o)==="object"||typeof o=="function")?o:M(h)}function M(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(h){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},G(h)}function I(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),o&&T(h,o)}function T(h,o){return T=Object.setPrototypeOf||function(c,r){return c.__proto__=r,c},T(h,o)}function _(h,o,u){return o in h?Object.defineProperty(h,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[o]=u,h}var P=function(){return!0},g=function(o){return o.trim().length>0},i=function(o){var u=o.containerProps,c=o.children;return t.default.createElement("div",u,c)},l="suggestions-revealed",y="suggestions-updated",w="suggestion-selected",C="input-focused",k="input-changed",z="input-blurred",ee="escape-pressed",V=function(h){I(u,h);var o=U(u);function u(c){var r,a=c.alwaysRenderSuggestions;return N(this,u),r=o.call(this),_(M(r),"onDocumentMouseDown",function(f){r.justClickedOnSuggestionsContainer=!1;for(var S=f.detail&&f.detail.target||f.target;S!==null&&S!==document;){if(S.getAttribute&&S.getAttribute("data-suggestion-index")!==null)return;if(S===r.suggestionsContainer){r.justClickedOnSuggestionsContainer=!0;return}S=S.parentNode}}),_(M(r),"storeAutowhateverRef",function(f){f!==null&&(r.autowhatever=f)}),_(M(r),"onSuggestionMouseEnter",function(f,S){var j=S.sectionIndex,H=S.itemIndex;r.updateHighlightedSuggestion(j,H),f.target===r.pressedSuggestion&&(r.justSelectedSuggestion=!0),r.justMouseEntered=!0,setTimeout(function(){r.justMouseEntered=!1})}),_(M(r),"highlightFirstSuggestion",function(){r.updateHighlightedSuggestion(r.props.multiSection?0:null,0)}),_(M(r),"onDocumentMouseUp",function(){r.pressedSuggestion&&!r.justSelectedSuggestion&&r.input.focus(),r.pressedSuggestion=null}),_(M(r),"onSuggestionMouseDown",function(f){r.justSelectedSuggestion||(r.justSelectedSuggestion=!0,r.pressedSuggestion=f.target)}),_(M(r),"onSuggestionsClearRequested",function(){var f=r.props.onSuggestionsClearRequested;f&&f()}),_(M(r),"onSuggestionSelected",function(f,S){var j=r.props,H=j.alwaysRenderSuggestions,$=j.onSuggestionSelected,J=j.onSuggestionsFetchRequested;$&&$(f,S);var Q=r.props.shouldKeepSuggestionsOnSelect(S.suggestion);H||Q?J({value:S.suggestionValue,reason:w}):r.onSuggestionsClearRequested(),r.resetHighlightedSuggestion()}),_(M(r),"onSuggestionClick",function(f){var S=r.props,j=S.alwaysRenderSuggestions,H=S.focusInputOnSuggestionClick,$=r.getSuggestionIndices(r.findSuggestionElement(f.target)),J=$.sectionIndex,Q=$.suggestionIndex,te=r.getSuggestion(J,Q),re=r.props.getSuggestionValue(te);r.maybeCallOnChange(f,re,"click"),r.onSuggestionSelected(f,{suggestion:te,suggestionValue:re,suggestionIndex:Q,sectionIndex:J,method:"click"});var ie=r.props.shouldKeepSuggestionsOnSelect(te);j||ie||r.closeSuggestions(),H===!0?r.input.focus():r.onBlur(),setTimeout(function(){r.justSelectedSuggestion=!1})}),_(M(r),"onBlur",function(){var f=r.props,S=f.inputProps,j=f.shouldRenderSuggestions,H=S.value,$=S.onBlur,J=r.getHighlightedSuggestion(),Q=j(H,z);r.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!Q}),$&&$(r.blurEvent,{highlightedSuggestion:J})}),_(M(r),"onSuggestionMouseLeave",function(f){r.resetHighlightedSuggestion(!1),r.justSelectedSuggestion&&f.target===r.pressedSuggestion&&(r.justSelectedSuggestion=!1)}),_(M(r),"onSuggestionTouchStart",function(){r.justSelectedSuggestion=!0}),_(M(r),"onSuggestionTouchMove",function(){r.justSelectedSuggestion=!1,r.pressedSuggestion=null,r.input.focus()}),_(M(r),"itemProps",function(f){var S=f.sectionIndex,j=f.itemIndex;return{"data-section-index":S,"data-suggestion-index":j,onMouseEnter:r.onSuggestionMouseEnter,onMouseLeave:r.onSuggestionMouseLeave,onMouseDown:r.onSuggestionMouseDown,onTouchStart:r.onSuggestionTouchStart,onTouchMove:r.onSuggestionTouchMove,onClick:r.onSuggestionClick}}),_(M(r),"renderSuggestionsContainer",function(f){var S=f.containerProps,j=f.children,H=r.props.renderSuggestionsContainer;return H({containerProps:S,children:j,query:r.getQuery()})}),r.state={isFocused:!1,isCollapsed:!a,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r.justMouseEntered=!1,r.pressedSuggestion=null,r}return q(u,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){var a=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!r.highlightFirstSuggestion;(0,s.default)(r.suggestions,this.props.suggestions)?r.highlightFirstSuggestion&&r.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():a&&this.resetHighlightedSuggestion():this.willRenderSuggestions(r,y)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),a&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(r,a){var f=this.props,S=f.suggestions,j=f.onSuggestionHighlighted,H=f.highlightFirstSuggestion;if(!(0,s.default)(S,r.suggestions)&&S.length>0&&H){this.highlightFirstSuggestion();return}if(j){var $=this.getHighlightedSuggestion(),J=a.highlightedSuggestion;$!=J&&j({suggestion:$})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(r,a,f){var S=this;this.setState(function(j){var H=j.valueBeforeUpDown;return a===null?H=null:H===null&&typeof f<"u"&&(H=f),{highlightedSectionIndex:r,highlightedSuggestionIndex:a,highlightedSuggestion:a===null?null:S.getSuggestion(r,a),valueBeforeUpDown:H}})}},{key:"resetHighlightedSuggestion",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(a){var f=a.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:r?null:f}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(r,a){var f=this.props,S=f.suggestions,j=f.multiSection,H=f.getSectionSuggestions;return j?H(S[r])[a]:S[a]}},{key:"getHighlightedSuggestion",value:function(){var r=this.state,a=r.highlightedSectionIndex,f=r.highlightedSuggestionIndex;return f===null?null:this.getSuggestion(a,f)}},{key:"getSuggestionValueByIndex",value:function(r,a){var f=this.props.getSuggestionValue;return f(this.getSuggestion(r,a))}},{key:"getSuggestionIndices",value:function(r){var a=r.getAttribute("data-section-index"),f=r.getAttribute("data-suggestion-index");return{sectionIndex:typeof a=="string"?parseInt(a,10):null,suggestionIndex:parseInt(f,10)}}},{key:"findSuggestionElement",value:function(r){var a=r;do{if(a.getAttribute&&a.getAttribute("data-suggestion-index")!==null)return a;a=a.parentNode}while(a!==null);throw console.error("Clicked element:",r),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(r,a,f){var S=this.props.inputProps,j=S.value,H=S.onChange;a!==j&&H(r,{newValue:a,method:f})}},{key:"willRenderSuggestions",value:function(r,a){var f=r.suggestions,S=r.inputProps,j=r.shouldRenderSuggestions,H=S.value;return f.length>0&&j(H,a)}},{key:"getQuery",value:function(){var r=this.props.inputProps,a=r.value,f=this.state.valueBeforeUpDown;return(f===null?a:f).trim()}},{key:"render",value:function(){var r=this,a=this.props,f=a.suggestions,S=a.renderInputComponent,j=a.onSuggestionsFetchRequested,H=a.renderSuggestion,$=a.inputProps,J=a.multiSection,Q=a.renderSectionTitle,te=a.id,re=a.getSectionSuggestions,ie=a.theme,fe=a.getSuggestionValue,oe=a.alwaysRenderSuggestions,de=a.highlightFirstSuggestion,ae=a.containerProps,ue=this.state,_e=ue.isFocused,ye=ue.isCollapsed,Me=ue.highlightedSectionIndex,He=ue.highlightedSuggestionIndex,Oe=ue.valueBeforeUpDown,x=oe?P:this.props.shouldRenderSuggestions,A=$.value,X=$.onFocus,ne=$.onKeyDown,se=this.willRenderSuggestions(this.props,"render"),ge=oe||_e&&!ye&&se,me=ge?f:[],Re=E({},$,{onFocus:function(Y){if(!r.justSelectedSuggestion&&!r.justClickedOnSuggestionsContainer){var ce=x(A,C);r.setState({isFocused:!0,isCollapsed:!ce}),X&&X(Y),ce&&j({value:A,reason:C})}},onBlur:function(Y){if(r.justClickedOnSuggestionsContainer){r.input.focus();return}r.blurEvent=Y,r.justSelectedSuggestion||(r.onBlur(),r.onSuggestionsClearRequested())},onChange:function(Y){var ce=Y.target.value,he=x(ce,k);r.maybeCallOnChange(Y,ce,"type"),r.suggestionsContainer&&(r.suggestionsContainer.scrollTop=0),r.setState(E({},de?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!he})),he?j({value:ce,reason:k}):r.onSuggestionsClearRequested()},onKeyDown:function(Y,ce){var he=Y.keyCode;switch(he){case 40:case 38:if(ye)x(A,l)&&(j({value:A,reason:l}),r.revealSuggestions(),Y.preventDefault());else if(f.length>0){var we=ce.newHighlightedSectionIndex,Se=ce.newHighlightedItemIndex,Te;Se===null?Te=Oe===null?A:Oe:Te=r.getSuggestionValueByIndex(we,Se),r.updateHighlightedSuggestion(we,Se,A),r.maybeCallOnChange(Y,Te,he===40?"down":"up"),Y.preventDefault()}r.justPressedUpDown=!0,setTimeout(function(){r.justPressedUpDown=!1});break;case 13:{if(Y.keyCode===229)break;var Ke=r.getHighlightedSuggestion();if(ge&&!oe&&r.closeSuggestions(),Ke!=null){Y.preventDefault();var st=fe(Ke);r.maybeCallOnChange(Y,st,"enter"),r.onSuggestionSelected(Y,{suggestion:Ke,suggestionValue:st,suggestionIndex:He,sectionIndex:Me,method:"enter"}),r.justSelectedSuggestion=!0,setTimeout(function(){r.justSelectedSuggestion=!1})}break}case 27:{ge&&Y.preventDefault();var at=ge&&!oe;if(Oe===null){if(!at){var Ge="";r.maybeCallOnChange(Y,Ge,"escape"),x(Ge,ee)?j({value:Ge,reason:ee}):r.onSuggestionsClearRequested()}}else r.maybeCallOnChange(Y,Oe,"escape");at?(r.onSuggestionsClearRequested(),r.closeSuggestions()):r.resetHighlightedSuggestion();break}}ne&&ne(Y)}}),Ee={query:this.getQuery()};return t.default.createElement(p.default,{multiSection:J,items:me,renderInputComponent:S,renderItemsContainer:this.renderSuggestionsContainer,renderItem:H,renderItemData:Ee,renderSectionTitle:Q,getSectionItems:re,highlightedSectionIndex:Me,highlightedItemIndex:He,containerProps:ae,inputProps:Re,itemProps:this.itemProps,theme:(0,m.mapToAutowhateverTheme)(ie),id:te,ref:this.storeAutowhateverRef})}}]),u}(t.Component);e.default=V,_(V,"propTypes",{suggestions:n.default.array.isRequired,onSuggestionsFetchRequested:function(o,u){var c=o[u];if(typeof c!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(o,u){var c=o[u];if(o.alwaysRenderSuggestions===!1&&typeof c!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:n.default.func,onSuggestionSelected:n.default.func,onSuggestionHighlighted:n.default.func,renderInputComponent:n.default.func,renderSuggestionsContainer:n.default.func,getSuggestionValue:n.default.func.isRequired,renderSuggestion:n.default.func.isRequired,inputProps:function(o,u){var c=o[u];if(!c)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(c,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(c,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:n.default.func,alwaysRenderSuggestions:n.default.bool,multiSection:n.default.bool,renderSectionTitle:function(o,u){var c=o[u];if(o.multiSection===!0&&typeof c!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(o,u){var c=o[u];if(o.multiSection===!0&&typeof c!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:n.default.bool,highlightFirstSuggestion:n.default.bool,theme:n.default.object,id:n.default.string,containerProps:n.default.object}),_(V,"defaultProps",{renderSuggestionsContainer:i,shouldRenderSuggestions:g,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:m.defaultTheme,id:"1",containerProps:{}})})(xt);var cn=xt.default;const ln=It(cn),fn="_mainpage_1xqek_1",gn="_container_1xqek_6",pn="_inputlayout_1xqek_16",dn="_input_1xqek_16",hn="_suggestionsContainer_1xqek_50",mn="_suggestionsList_1xqek_67",yn="_suggestion_1xqek_50",vn="_selected_1xqek_81",Sn="_leftsection_1xqek_84",bn="_name_1xqek_88",_n="_description_1xqek_92",On="_version_1xqek_96",le={mainpage:fn,container:gn,inputlayout:pn,"i-ic-round-search":"_i-ic-round-search_1xqek_26",input:dn,suggestionsContainer:hn,suggestionsList:mn,suggestion:yn,selected:vn,leftsection:Sn,name:bn,description:_n,version:On},je=ot.createContext({info:"",history:[],t:e=>"",toggleLanguage:()=>{},onHistoryUpdate:e=>{},onClearHistory:()=>{}}),wn=e=>{const[t,n]=F.useState([]),[s,p]=F.useState(""),{t:m,toggleLanguage:v}=Kt(),b=O=>{const R=[O,...t.filter(E=>E!==O)];n(R),localStorage.setItem("suggestionHistory",JSON.stringify(R))};F.useEffect(()=>{const O=localStorage.getItem("suggestionHistory");O&&n(JSON.parse(O))},[]);const d=()=>{localStorage.removeItem("suggestionHistory"),n([])};return D.jsx(je.Provider,{value:{info:s,history:t,t:m,toggleLanguage:v,onHistoryUpdate:b,onClearHistory:d},children:e.children})},Qe=async e=>{try{const t=await fetch(`https://api.npms.io/v2/search/suggestions?q=${e}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return(await t.json()).slice(0,10).map(p=>({name:p.package.name,version:p.package.version,description:p.package.description}))}catch(t){return console.error("Error fetching package names:",t),[]}};async function ze(e){const t=await Gt(e);console.log(JSON.parse(JSON.stringify(await t.getGraph())))}var In=typeof global=="object"&&global&&global.Object===Object&&global;const xn=In;var Pn=typeof self=="object"&&self&&self.Object===Object&&self,Dn=xn||Pn||Function("return this")();const At=Dn;var Cn=At.Symbol;const Le=Cn;var Ft=Object.prototype,jn=Ft.hasOwnProperty,Rn=Ft.toString,Ae=Le?Le.toStringTag:void 0;function En(e){var t=jn.call(e,Ae),n=e[Ae];try{e[Ae]=void 0;var s=!0}catch{}var p=Rn.call(e);return s&&(t?e[Ae]=n:delete e[Ae]),p}var Tn=Object.prototype,An=Tn.toString;function Fn(e){return An.call(e)}var kn="[object Null]",Mn="[object Undefined]",ft=Le?Le.toStringTag:void 0;function Hn(e){return e==null?e===void 0?Mn:kn:ft&&ft in Object(e)?En(e):Fn(e)}function Nn(e){return e!=null&&typeof e=="object"}var Ln="[object Symbol]";function qn(e){return typeof e=="symbol"||Nn(e)&&Hn(e)==Ln}var $n=/\s/;function Un(e){for(var t=e.length;t--&&$n.test(e.charAt(t)););return t}var Wn=/^\s+/;function Bn(e){return e&&e.slice(0,Un(e)+1).replace(Wn,"")}function Xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gt=0/0,zn=/^[-+]0x[0-9a-f]+$/i,Kn=/^0b[01]+$/i,Gn=/^0o[0-7]+$/i,Vn=parseInt;function pt(e){if(typeof e=="number")return e;if(qn(e))return gt;if(Xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bn(e);var n=Kn.test(e);return n||Gn.test(e)?Vn(e.slice(2),n?2:8):zn.test(e)?gt:+e}var Jn=function(){return At.Date.now()};const Ve=Jn;var Yn="Expected a function",Qn=Math.max,Xn=Math.min;function Zn(e,t,n){var s,p,m,v,b,d,O=0,R=!1,E=!1,N=!0;if(typeof e!="function")throw new TypeError(Yn);t=pt(t)||0,Xe(n)&&(R=!!n.leading,E="maxWait"in n,m=E?Qn(pt(n.maxWait)||0,t):m,N="trailing"in n?!!n.trailing:N);function L(_){var P=s,g=p;return s=p=void 0,O=_,v=e.apply(g,P),v}function q(_){return O=_,b=setTimeout(M,t),R?L(_):v}function U(_){var P=_-d,g=_-O,i=t-P;return E?Xn(i,m-g):i}function W(_){var P=_-d,g=_-O;return d===void 0||P>=t||P<0||E&&g>=m}function M(){var _=Ve();if(W(_))return B(_);b=setTimeout(M,U(_))}function B(_){return b=void 0,N&&s?L(_):(s=p=void 0,v)}function G(){b!==void 0&&clearTimeout(b),O=0,s=d=p=b=void 0}function I(){return b===void 0?v:B(Ve())}function T(){var _=Ve(),P=W(_);if(s=arguments,p=this,d=_,P){if(b===void 0)return q(d);if(E)return clearTimeout(b),b=setTimeout(M,t),L(d)}return b===void 0&&(b=setTimeout(M,t)),v}return T.cancel=G,T.flush=I,T}const er=({onShowButton:e,onHideButton:t,onNewValue:n})=>{const s=F.useContext(je),p=We(),m=xe(P=>P.setInfo);let v=!1;const b=s.t("mode.language"),[d,O]=F.useState(""),[R,E]=F.useState([]),[N,L]=F.useState(-1),q=P=>{s.onHistoryUpdate(P),ze(P),p(`/analyze?q=${P}`),m(P)},U=async({value:P})=>{const g=P.trim().toLowerCase();try{const i=await Qe(g);i.length===0?e():t(),E(i)}catch(i){console.error("Error fetching suggestions:",i)}},W=F.useRef(Zn(U,600)).current;F.useEffect(()=>()=>{W.cancel()},[W]);const M=()=>{E([])},B=(P,{suggestion:g})=>{const i=g.name;O(i),L(-1),e(),v=!0,q(i)},G=P=>P,I=(P,g)=>{const i=g?`${le.suggestion} ${le.selected}`:le.suggestion;return D.jsxs("div",{className:i,children:[D.jsxs("div",{className:le.leftsection,children:[D.jsx("div",{className:le.name,children:P.name}),D.jsx("div",{className:le.description,children:P.description})]}),D.jsx("div",{className:le.version,children:P.version})]})},T={placeholder:b==="ENGLISH"?"Search dependencies":"",value:d,onChange:async(P,{newValue:g,method:i})=>{i==="type"?(n(g),O(g),g.trim()===""?e():t()):i==="up"?N>0&&L(N-1):i==="down"&&N<R.length-1&&L(N+1)},onBlur:()=>{e()},onKeyDown:async P=>{if(P.key==="Enter"&&!v){const g=d.trim().toLowerCase();if(g===""){console.log("Can't search empty dependency");return}if((await Qe(g)).length!==0)q(g);else{console.log("Non-exist dependency, please search another one.");return}}else P.key==="Escape"&&e();v=!1}},_=P=>D.jsxs("div",{className:le.inputlayout,children:[D.jsx("div",{className:le["i-ic-round-search"]}),D.jsx("input",{...P})]});return D.jsx("div",{className:le.mainpage,children:D.jsx(ln,{theme:le,suggestions:R,onSuggestionsFetchRequested:W,onSuggestionsClearRequested:M,onSuggestionSelected:B,getSuggestionValue:G,renderInputComponent:_,renderSuggestion:(P,{isHighlighted:g})=>I(P,g),inputProps:T})})};function tr({title:e,description:t,back:n}){const[s,p]=F.useState(!0);return F.useEffect(()=>{const m=setTimeout(()=>{p(!1),n()},3e3);return()=>clearTimeout(m)},[]),D.jsx("div",{className:`fixed top-10 z-50 bg-bg-layout text-text rounded-3 w-80 ${s?"animate-fade-in-down":"animate-fade-out-up"}`,children:D.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[D.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[D.jsx("div",{className:"w-8 h-4 bg-primary-base rounded-full"}),D.jsx("div",{className:"text-sm text-primary-base",children:e})]}),D.jsx("div",{className:"text-sm",children:t})]})})}const nr=({onDisplayDragAndDrop:e,newValue:t})=>{const n=We(),s=F.useContext(je),p=xe(d=>d.setInfo),[m,v]=ot.useState(!1),b=async()=>{const d=t.trim().toLowerCase();if(d===""){v(!0);return}if((await Qe(d)).length!==0)p(d),s.onHistoryUpdate(d),ze(d),n(`/analyze?q=${d}`);else{console.log("Non-exist dependency, please search another one.");return}};return D.jsxs("div",{className:"button-area",children:[m&&D.jsx(tr,{title:"Error",description:"Please enter a valid package name",back:()=>v(!1)}),D.jsxs("div",{className:"button-container",children:[D.jsx("button",{className:"button-large-important",onClick:b,children:s.t("search.findDep")}),D.jsx("button",{className:"button-large-default",onClick:e,children:s.t("search.upload")})]})]})},rr=({onDisplayDragAndDrop:e})=>{const[t,n]=F.useState(!0),[s,p]=F.useState(""),m=d=>{p(d)},v=()=>{n(!0)},b=()=>{n(!1)};return D.jsxs(D.Fragment,{children:[D.jsx(er,{onShowButton:v,onHideButton:b,onNewValue:m}),t&&D.jsx(nr,{onDisplayDragAndDrop:e,newValue:s})]})},or=rr;const ir=({onDisplayHistory:e})=>{const t=F.useContext(je),n=t.history,s=We(),p=xe(v=>v.setInfo),m=v=>{ze(v),p(v),s(`/analyze?q=${v}`)};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"panel",children:[D.jsx("div",{className:"panel-header",children:D.jsxs("div",{className:"header-content",children:[D.jsx("p",{className:"header-title",children:t.t("search.history")}),D.jsx("button",{className:"i-ic-outline-delete-sweep",onClick:t.onClearHistory})]})}),D.jsx("div",{className:"history-panel",children:D.jsx("ul",{children:n.map(v=>D.jsx("li",{onClick:()=>m(v),children:v},v))})})]}),D.jsx("div",{className:"overlay",onClick:e})]})},sr=()=>{const[e,t]=F.useState(!1),n=F.useContext(je),s=n.t("mode.language"),p=()=>{t(!e)},{theme:m,setTheme:v}=xe(),b=()=>{v(m)};return D.jsx("header",{className:"header",children:D.jsxs("ul",{children:[D.jsx("li",{children:D.jsx("button",{className:"i-carbon-logo-github text-icon h-24px w-24px hover:text-icon-hover m-2",onClick:()=>{window.open("https://github.com/DepSpy/depspy","_blank")}})}),D.jsx("li",{children:D.jsx("button",{className:`i-icon-park-outline-${s==="ENGLISH"?"english":"chinese"}`,onClick:n.toggleLanguage})}),D.jsx("li",{children:D.jsx("button",{className:`i-ic-baseline-${m}-mode`,onClick:b})}),D.jsxs("li",{children:[D.jsx("button",{className:"i-ic-baseline-history",onClick:p}),e&&D.jsx(ir,{onDisplayHistory:p})]})]})})};const ar=e=>D.jsxs("div",{children:[D.jsx(sr,{}),D.jsx("main",{className:"main",children:e.children})]}),ur=ar;var cr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ke(e,t){var n=lr(e);if(typeof n.path!="string"){var s=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof s=="string"&&s.length>0?s:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function lr(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var s=t.split(".").pop().toLowerCase(),p=cr.get(s);p&&Object.defineProperty(e,"type",{value:p,writable:!1,configurable:!1,enumerable:!0})}return e}var fr=[".DS_Store","Thumbs.db"];function gr(e){return Pe(this,void 0,void 0,function(){return De(this,function(t){return qe(e)&&pr(e.dataTransfer)?[2,yr(e.dataTransfer,e.type)]:dr(e)?[2,hr(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,mr(e)]:[2,[]]})})}function pr(e){return qe(e)}function dr(e){return qe(e)&&qe(e.target)}function qe(e){return typeof e=="object"&&e!==null}function hr(e){return Ze(e.target.files).map(function(t){return ke(t)})}function mr(e){return Pe(this,void 0,void 0,function(){var t;return De(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(s){return s.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(s){return ke(s)})]}})})}function yr(e,t){return Pe(this,void 0,void 0,function(){var n,s;return De(this,function(p){switch(p.label){case 0:return e.items?(n=Ze(e.items).filter(function(m){return m.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(vr))]):[3,2];case 1:return s=p.sent(),[2,dt(kt(s))];case 2:return[2,dt(Ze(e.files).map(function(m){return ke(m)}))]}})})}function dt(e){return e.filter(function(t){return fr.indexOf(t.name)===-1})}function Ze(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var s=e[n];t.push(s)}return t}function vr(e){if(typeof e.webkitGetAsEntry!="function")return ht(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Mt(t):ht(e)}function kt(e){return e.reduce(function(t,n){return ut(ut([],ct(t),!1),ct(Array.isArray(n)?kt(n):[n]),!1)},[])}function ht(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=ke(t);return Promise.resolve(n)}function Sr(e){return Pe(this,void 0,void 0,function(){return De(this,function(t){return[2,e.isDirectory?Mt(e):br(e)]})})}function Mt(e){var t=e.createReader();return new Promise(function(n,s){var p=[];function m(){var v=this;t.readEntries(function(b){return Pe(v,void 0,void 0,function(){var d,O,R;return De(this,function(E){switch(E.label){case 0:if(b.length)return[3,5];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,Promise.all(p)];case 2:return d=E.sent(),n(d),[3,4];case 3:return O=E.sent(),s(O),[3,4];case 4:return[3,6];case 5:R=Promise.all(b.map(Sr)),p.push(R),m(),E.label=6;case 6:return[2]}})})},function(b){s(b)})}m()})}function br(e){return Pe(this,void 0,void 0,function(){return De(this,function(t){return[2,new Promise(function(n,s){e.file(function(p){var m=ke(p,e.fullPath);n(m)},function(p){s(p)})})]})})}var _r=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),s=e.name||"",p=(e.type||"").toLowerCase(),m=p.replace(/\/.*$/,"");return n.some(function(v){var b=v.trim().toLowerCase();return b.charAt(0)==="."?s.toLowerCase().endsWith(b):b.endsWith("/*")?m===b.replace(/\/.*$/,""):p===b})}return!0};function mt(e){return Ir(e)||wr(e)||Nt(e)||Or()}function Or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ir(e){if(Array.isArray(e))return et(e)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),n.push.apply(n,s)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(s){Ht(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return Dr(e)||Pr(e,t)||Nt(e,t)||xr()}function xr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e,t){if(e){if(typeof e=="string")return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Pr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],p=!0,m=!1,v,b;try{for(n=n.call(e);!(p=(v=n.next()).done)&&(s.push(v.value),!(t&&s.length===t));p=!0);}catch(d){m=!0,b=d}finally{try{!p&&n.return!=null&&n.return()}finally{if(m)throw b}}return s}}function Dr(e){if(Array.isArray(e))return e}var Cr="file-invalid-type",jr="file-too-large",Rr="file-too-small",Er="too-many-files",Tr=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Cr,message:"File type must be ".concat(n)}},St=function(t){return{code:jr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},bt=function(t){return{code:Rr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ar={code:Er,message:"Too many files"};function Lt(e,t){var n=e.type==="application/x-moz-file"||_r(e,t);return[n,n?null:Tr(t)]}function qt(e,t,n){if(be(e.size))if(be(t)&&be(n)){if(e.size>n)return[!1,St(n)];if(e.size<t)return[!1,bt(t)]}else{if(be(t)&&e.size<t)return[!1,bt(t)];if(be(n)&&e.size>n)return[!1,St(n)]}return[!0,null]}function be(e){return e!=null}function Fr(e){var t=e.files,n=e.accept,s=e.minSize,p=e.maxSize,m=e.multiple,v=e.maxFiles,b=e.validator;return!m&&t.length>1||m&&v>=1&&t.length>v?!1:t.every(function(d){var O=Lt(d,n),R=Fe(O,1),E=R[0],N=qt(d,s,p),L=Fe(N,1),q=L[0],U=b?b(d):null;return E&&q&&!U})}function $e(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ne(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function _t(e){e.preventDefault()}function kr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Mr(e){return e.indexOf("Edge/")!==-1}function Hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kr(e)||Mr(e)}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){for(var p=arguments.length,m=new Array(p>1?p-1:0),v=1;v<p;v++)m[v-1]=arguments[v];return t.some(function(b){return!$e(s)&&b&&b.apply(void 0,[s].concat(m)),$e(s)})}}function Nr(){return"showOpenFilePicker"in window}function Lr(e){if(be(e)){var t=Object.entries(e).filter(function(n){var s=Fe(n,2),p=s[0],m=s[1],v=!0;return $t(p)||(console.warn('Skipped "'.concat(p,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),v=!1),(!Array.isArray(m)||!m.every(Ut))&&(console.warn('Skipped "'.concat(p,'" because an invalid file extension was provided.')),v=!1),v}).reduce(function(n,s){var p=Fe(s,2),m=p[0],v=p[1];return vt(vt({},n),{},Ht({},m,v))},{});return[{description:"Files",accept:t}]}return e}function qr(e){if(be(e))return Object.entries(e).reduce(function(t,n){var s=Fe(n,2),p=s[0],m=s[1];return[].concat(mt(t),[p],mt(m))},[]).filter(function(t){return $t(t)||Ut(t)}).join(",")}function $r(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Ur(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function $t(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Ut(e){return/^.*\.[\w]+$/.test(e)}var Wr=["children"],Br=["open"],zr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Kr=["refKey","onChange","onClick"];function Gr(e){return Yr(e)||Jr(e)||Wt(e)||Vr()}function Vr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yr(e){if(Array.isArray(e))return tt(e)}function Je(e,t){return Zr(e)||Xr(e,t)||Wt(e,t)||Qr()}function Qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(e,t){if(e){if(typeof e=="string")return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}}function tt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],p=!0,m=!1,v,b;try{for(n=n.call(e);!(p=(v=n.next()).done)&&(s.push(v.value),!(t&&s.length===t));p=!0);}catch(d){m=!0,b=d}finally{try{!p&&n.return!=null&&n.return()}finally{if(m)throw b}}return s}}function Zr(e){if(Array.isArray(e))return e}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),n.push.apply(n,s)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(s){nt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(e==null)return{};var n=eo(e,t),s,p;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(p=0;p<m.length;p++)s=m[p],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eo(e,t){if(e==null)return{};var n={},s=Object.keys(e),p,m;for(m=0;m<s.length;m++)p=s[m],!(t.indexOf(p)>=0)&&(n[p]=e[p]);return n}var it=F.forwardRef(function(e,t){var n=e.children,s=Ue(e,Wr),p=zt(s),m=p.open,v=Ue(p,Br);return F.useImperativeHandle(t,function(){return{open:m}},[m]),ot.createElement(F.Fragment,null,n(Z(Z({},v),{},{open:m})))});it.displayName="Dropzone";var Bt={disabled:!1,getFilesFromEvent:gr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};it.defaultProps=Bt;it.propTypes={children:K.func,accept:K.objectOf(K.arrayOf(K.string)),multiple:K.bool,preventDropOnDocument:K.bool,noClick:K.bool,noKeyboard:K.bool,noDrag:K.bool,noDragEventsBubbling:K.bool,minSize:K.number,maxSize:K.number,maxFiles:K.number,disabled:K.bool,getFilesFromEvent:K.func,onFileDialogCancel:K.func,onFileDialogOpen:K.func,useFsAccessApi:K.bool,autoFocus:K.bool,onDragEnter:K.func,onDragLeave:K.func,onDragOver:K.func,onDrop:K.func,onDropAccepted:K.func,onDropRejected:K.func,onError:K.func,validator:K.func};var rt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function zt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Z(Z({},Bt),e),n=t.accept,s=t.disabled,p=t.getFilesFromEvent,m=t.maxSize,v=t.minSize,b=t.multiple,d=t.maxFiles,O=t.onDragEnter,R=t.onDragLeave,E=t.onDragOver,N=t.onDrop,L=t.onDropAccepted,q=t.onDropRejected,U=t.onFileDialogCancel,W=t.onFileDialogOpen,M=t.useFsAccessApi,B=t.autoFocus,G=t.preventDropOnDocument,I=t.noClick,T=t.noKeyboard,_=t.noDrag,P=t.noDragEventsBubbling,g=t.onError,i=t.validator,l=F.useMemo(function(){return qr(n)},[n]),y=F.useMemo(function(){return Lr(n)},[n]),w=F.useMemo(function(){return typeof W=="function"?W:wt},[W]),C=F.useMemo(function(){return typeof U=="function"?U:wt},[U]),k=F.useRef(null),z=F.useRef(null),ee=F.useReducer(to,rt),V=Je(ee,2),h=V[0],o=V[1],u=h.isFocused,c=h.isFileDialogActive,r=F.useRef(typeof window<"u"&&window.isSecureContext&&M&&Nr()),a=function(){!r.current&&c&&setTimeout(function(){if(z.current){var A=z.current.files;A.length||(o({type:"closeDialog"}),C())}},300)};F.useEffect(function(){return window.addEventListener("focus",a,!1),function(){window.removeEventListener("focus",a,!1)}},[z,c,C,r]);var f=F.useRef([]),S=function(A){k.current&&k.current.contains(A.target)||(A.preventDefault(),f.current=[])};F.useEffect(function(){return G&&(document.addEventListener("dragover",_t,!1),document.addEventListener("drop",S,!1)),function(){G&&(document.removeEventListener("dragover",_t),document.removeEventListener("drop",S))}},[k,G]),F.useEffect(function(){return!s&&B&&k.current&&k.current.focus(),function(){}},[k,B,s]);var j=F.useCallback(function(x){g?g(x):console.error(x)},[g]),H=F.useCallback(function(x){x.preventDefault(),x.persist(),ye(x),f.current=[].concat(Gr(f.current),[x.target]),Ne(x)&&Promise.resolve(p(x)).then(function(A){if(!($e(x)&&!P)){var X=A.length,ne=X>0&&Fr({files:A,accept:l,minSize:v,maxSize:m,multiple:b,maxFiles:d,validator:i}),se=X>0&&!ne;o({isDragAccept:ne,isDragReject:se,isDragActive:!0,type:"setDraggedFiles"}),O&&O(x)}}).catch(function(A){return j(A)})},[p,O,j,P,l,v,m,b,d,i]),$=F.useCallback(function(x){x.preventDefault(),x.persist(),ye(x);var A=Ne(x);if(A&&x.dataTransfer)try{x.dataTransfer.dropEffect="copy"}catch{}return A&&E&&E(x),!1},[E,P]),J=F.useCallback(function(x){x.preventDefault(),x.persist(),ye(x);var A=f.current.filter(function(ne){return k.current&&k.current.contains(ne)}),X=A.indexOf(x.target);X!==-1&&A.splice(X,1),f.current=A,!(A.length>0)&&(o({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ne(x)&&R&&R(x))},[k,R,P]),Q=F.useCallback(function(x,A){var X=[],ne=[];x.forEach(function(se){var ge=Lt(se,l),me=Je(ge,2),Re=me[0],Ee=me[1],ve=qt(se,v,m),Y=Je(ve,2),ce=Y[0],he=Y[1],we=i?i(se):null;if(Re&&ce&&!we)X.push(se);else{var Se=[Ee,he];we&&(Se=Se.concat(we)),ne.push({file:se,errors:Se.filter(function(Te){return Te})})}}),(!b&&X.length>1||b&&d>=1&&X.length>d)&&(X.forEach(function(se){ne.push({file:se,errors:[Ar]})}),X.splice(0)),o({acceptedFiles:X,fileRejections:ne,type:"setFiles"}),N&&N(X,ne,A),ne.length>0&&q&&q(ne,A),X.length>0&&L&&L(X,A)},[o,b,l,v,m,d,N,L,q,i]),te=F.useCallback(function(x){x.preventDefault(),x.persist(),ye(x),f.current=[],Ne(x)&&Promise.resolve(p(x)).then(function(A){$e(x)&&!P||Q(A,x)}).catch(function(A){return j(A)}),o({type:"reset"})},[p,Q,j,P]),re=F.useCallback(function(){if(r.current){o({type:"openDialog"}),w();var x={multiple:b,types:y};window.showOpenFilePicker(x).then(function(A){return p(A)}).then(function(A){Q(A,null),o({type:"closeDialog"})}).catch(function(A){$r(A)?(C(A),o({type:"closeDialog"})):Ur(A)?(r.current=!1,z.current?(z.current.value=null,z.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):j(A)});return}z.current&&(o({type:"openDialog"}),w(),z.current.value=null,z.current.click())},[o,w,C,M,Q,j,y,b]),ie=F.useCallback(function(x){!k.current||!k.current.isEqualNode(x.target)||(x.key===" "||x.key==="Enter"||x.keyCode===32||x.keyCode===13)&&(x.preventDefault(),re())},[k,re]),fe=F.useCallback(function(){o({type:"focus"})},[]),oe=F.useCallback(function(){o({type:"blur"})},[]),de=F.useCallback(function(){I||(Hr()?setTimeout(re,0):re())},[I,re]),ae=function(A){return s?null:A},ue=function(A){return T?null:ae(A)},_e=function(A){return _?null:ae(A)},ye=function(A){P&&A.stopPropagation()},Me=F.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=x.refKey,X=A===void 0?"ref":A,ne=x.role,se=x.onKeyDown,ge=x.onFocus,me=x.onBlur,Re=x.onClick,Ee=x.onDragEnter,ve=x.onDragOver,Y=x.onDragLeave,ce=x.onDrop,he=Ue(x,zr);return Z(Z(nt({onKeyDown:ue(pe(se,ie)),onFocus:ue(pe(ge,fe)),onBlur:ue(pe(me,oe)),onClick:ae(pe(Re,de)),onDragEnter:_e(pe(Ee,H)),onDragOver:_e(pe(ve,$)),onDragLeave:_e(pe(Y,J)),onDrop:_e(pe(ce,te)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},X,k),!s&&!T?{tabIndex:0}:{}),he)}},[k,ie,fe,oe,de,H,$,J,te,T,_,s]),He=F.useCallback(function(x){x.stopPropagation()},[]),Oe=F.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=x.refKey,X=A===void 0?"ref":A,ne=x.onChange,se=x.onClick,ge=Ue(x,Kr),me=nt({accept:l,multiple:b,type:"file",style:{display:"none"},onChange:ae(pe(ne,te)),onClick:ae(pe(se,He)),tabIndex:-1},X,z);return Z(Z({},me),ge)}},[z,n,b,te,s]);return Z(Z({},h),{},{isFocused:u&&!s,getRootProps:Me,getInputProps:Oe,rootRef:k,inputRef:z,open:ae(re)})}function to(e,t){switch(t.type){case"focus":return Z(Z({},e),{},{isFocused:!0});case"blur":return Z(Z({},e),{},{isFocused:!1});case"openDialog":return Z(Z({},rt),{},{isFileDialogActive:!0});case"closeDialog":return Z(Z({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Z(Z({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Z(Z({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Z({},rt);default:return e}}function wt(){}const no=({onHideDragAndDrop:e})=>{const t=F.useContext(je),n=We(),s=xe(O=>O.setInfo),{getRootProps:p,getInputProps:m}=zt({accept:{"application/json":["json"]},onDrop:O=>{O.length>0&&d(O[0])},useFsAccessApi:!1}),[v,b]=F.useState(null),d=O=>{const R=new FileReader;R.onload=E=>{var L;const N=(L=E.target)==null?void 0:L.result;try{const q=JSON.parse(N);b(q)}catch(q){console.error("Error parsing JSON:",q)}},R.readAsText(O)};return F.useEffect(()=>{if(v){const O=JSON.stringify(v,null,2);ze(O),n("/analyze"),s(O)}},[v]),D.jsxs("div",{className:"mainpage",children:[D.jsx("div",{className:"content-area",children:D.jsxs("section",{className:"droparea",children:[D.jsxs("div",{className:"draganddrop-header",children:[D.jsx("p",{className:"title",children:t.t("search.upload")}),D.jsx("button",{className:"i-ic-sharp-close",onClick:e})]}),D.jsxs("div",{...p({className:"border"}),children:[D.jsx("input",{...m()}),D.jsx("div",{className:"i-bi-filetype-json"}),D.jsx("p",{className:"text",children:t.t("search.drag")}),D.jsx("em",{className:"text-type",children:t.t("search.format")})]})]})}),D.jsx("div",{className:"overlay",onClick:e})]})},ro=no;const oo="/assets/logo_light_large-051397a3.svg",io="/assets/logo_dark_large-fc0933e3.svg",so=()=>{const{theme:e,setTheme:t}=xe();return D.jsx("div",{className:"logo-area",children:D.jsx("img",{className:"logo-body",src:e==="light"?oo:io,alt:"depspy logo for the search page"})})},ao=so;function co(){const[e,t]=F.useState(!1),n=()=>{t(!0)},s=()=>{t(!1)};return D.jsx(wn,{children:D.jsxs("div",{className:"background",children:[D.jsx(ur,{children:null}),D.jsx(ao,{}),!e&&D.jsx(or,{onDisplayDragAndDrop:n}),e&&D.jsx(ro,{onHideDragAndDrop:s})]})})}export{co as default};
